{"ast":null,"code":"/* eslint-disable */\nmodule.exports = function () {\n  //// Do not edit this file; automatically generated by build.py.\n  'use strict';\n\n  var $jscomp = $jscomp || {};\n  $jscomp.scope = {};\n  var COMPILED = !0,\n      goog = goog || {};\n  goog.global = this || self;\n\n  goog.isDef = function (a) {\n    return void 0 !== a;\n  };\n\n  goog.isString = function (a) {\n    return \"string\" == typeof a;\n  };\n\n  goog.isBoolean = function (a) {\n    return \"boolean\" == typeof a;\n  };\n\n  goog.isNumber = function (a) {\n    return \"number\" == typeof a;\n  };\n\n  goog.exportPath_ = function (a, b, c) {\n    a = a.split(\".\");\n    c = c || goog.global;\n    a[0] in c || \"undefined\" == typeof c.execScript || c.execScript(\"var \" + a[0]);\n\n    for (var d; a.length && (d = a.shift());) !a.length && goog.isDef(b) ? c[d] = b : c = c[d] && c[d] !== Object.prototype[d] ? c[d] : c[d] = {};\n  };\n\n  goog.define = function (a, b) {\n    var c = b;\n\n    if (!COMPILED) {\n      var d = goog.global.CLOSURE_UNCOMPILED_DEFINES,\n          e = goog.global.CLOSURE_DEFINES;\n      d && void 0 === d.nodeType && Object.prototype.hasOwnProperty.call(d, a) ? c = d[a] : e && void 0 === e.nodeType && Object.prototype.hasOwnProperty.call(e, a) && (c = e[a]);\n    }\n\n    return c;\n  };\n\n  goog.FEATURESET_YEAR = 2012;\n  goog.DEBUG = !1;\n  goog.LOCALE = \"en\";\n  goog.TRUSTED_SITE = !0;\n  goog.STRICT_MODE_COMPATIBLE = !1;\n  goog.DISALLOW_TEST_ONLY_CODE = COMPILED && !goog.DEBUG;\n  goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;\n\n  goog.provide = function (a) {\n    if (goog.isInModuleLoader_()) throw Error(\"goog.provide cannot be used within a module.\");\n    if (!COMPILED && goog.isProvided_(a)) throw Error('Namespace \"' + a + '\" already declared.');\n    goog.constructNamespace_(a);\n  };\n\n  goog.constructNamespace_ = function (a, b) {\n    if (!COMPILED) {\n      delete goog.implicitNamespaces_[a];\n\n      for (var c = a; (c = c.substring(0, c.lastIndexOf(\".\"))) && !goog.getObjectByName(c);) goog.implicitNamespaces_[c] = !0;\n    }\n\n    goog.exportPath_(a, b);\n  };\n\n  goog.getScriptNonce = function (a) {\n    if (a && a != goog.global) return goog.getScriptNonce_(a.document);\n    null === goog.cspNonce_ && (goog.cspNonce_ = goog.getScriptNonce_(goog.global.document));\n    return goog.cspNonce_;\n  };\n\n  goog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\n  goog.cspNonce_ = null;\n\n  goog.getScriptNonce_ = function (a) {\n    return (a = a.querySelector && a.querySelector(\"script[nonce]\")) && (a = a.nonce || a.getAttribute(\"nonce\")) && goog.NONCE_PATTERN_.test(a) ? a : \"\";\n  };\n\n  goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\n\n  goog.module = function (a) {\n    if (!goog.isString(a) || !a || -1 == a.search(goog.VALID_MODULE_RE_)) throw Error(\"Invalid module identifier\");\n    if (!goog.isInGoogModuleLoader_()) throw Error(\"Module \" + a + \" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\n    if (goog.moduleLoaderState_.moduleName) throw Error(\"goog.module may only be called once per module.\");\n    goog.moduleLoaderState_.moduleName = a;\n\n    if (!COMPILED) {\n      if (goog.isProvided_(a)) throw Error('Namespace \"' + a + '\" already declared.');\n      delete goog.implicitNamespaces_[a];\n    }\n  };\n\n  goog.module.get = function (a) {\n    return goog.module.getInternal_(a);\n  };\n\n  goog.module.getInternal_ = function (a) {\n    if (!COMPILED) {\n      if (a in goog.loadedModules_) return goog.loadedModules_[a].exports;\n      if (!goog.implicitNamespaces_[a]) return a = goog.getObjectByName(a), null != a ? a : null;\n    }\n\n    return null;\n  };\n\n  goog.ModuleType = {\n    ES6: \"es6\",\n    GOOG: \"goog\"\n  };\n  goog.moduleLoaderState_ = null;\n\n  goog.isInModuleLoader_ = function () {\n    return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n  };\n\n  goog.isInGoogModuleLoader_ = function () {\n    return !!goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n  };\n\n  goog.isInEs6ModuleLoader_ = function () {\n    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.ES6) return !0;\n    var a = goog.global.$jscomp;\n    return a ? \"function\" != typeof a.getCurrentModulePath ? !1 : !!a.getCurrentModulePath() : !1;\n  };\n\n  goog.module.declareLegacyNamespace = function () {\n    if (!COMPILED && !goog.isInGoogModuleLoader_()) throw Error(\"goog.module.declareLegacyNamespace must be called from within a goog.module\");\n    if (!COMPILED && !goog.moduleLoaderState_.moduleName) throw Error(\"goog.module must be called prior to goog.module.declareLegacyNamespace.\");\n    goog.moduleLoaderState_.declareLegacyNamespace = !0;\n  };\n\n  goog.declareModuleId = function (a) {\n    if (!COMPILED) {\n      if (!goog.isInEs6ModuleLoader_()) throw Error(\"goog.declareModuleId may only be called from within an ES6 module\");\n      if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) throw Error(\"goog.declareModuleId may only be called once per module.\");\n      if (a in goog.loadedModules_) throw Error('Module with namespace \"' + a + '\" already exists.');\n    }\n\n    if (goog.moduleLoaderState_) goog.moduleLoaderState_.moduleName = a;else {\n      var b = goog.global.$jscomp;\n      if (!b || \"function\" != typeof b.getCurrentModulePath) throw Error('Module with namespace \"' + a + '\" has been loaded incorrectly.');\n      b = b.require(b.getCurrentModulePath());\n      goog.loadedModules_[a] = {\n        exports: b,\n        type: goog.ModuleType.ES6,\n        moduleId: a\n      };\n    }\n  };\n\n  goog.setTestOnly = function (a) {\n    if (goog.DISALLOW_TEST_ONLY_CODE) throw a = a || \"\", Error(\"Importing test-only code into non-debug environment\" + (a ? \": \" + a : \".\"));\n  };\n\n  goog.forwardDeclare = function (a) {};\n\n  COMPILED || (goog.isProvided_ = function (a) {\n    return a in goog.loadedModules_ || !goog.implicitNamespaces_[a] && goog.isDefAndNotNull(goog.getObjectByName(a));\n  }, goog.implicitNamespaces_ = {\n    \"goog.module\": !0\n  });\n\n  goog.getObjectByName = function (a, b) {\n    for (var c = a.split(\".\"), d = b || goog.global, e = 0; e < c.length; e++) if (d = d[c[e]], !goog.isDefAndNotNull(d)) return null;\n\n    return d;\n  };\n\n  goog.globalize = function (a, b) {\n    var c = b || goog.global,\n        d;\n\n    for (d in a) c[d] = a[d];\n  };\n\n  goog.addDependency = function (a, b, c, d) {\n    !COMPILED && goog.DEPENDENCIES_ENABLED && goog.debugLoader_.addDependency(a, b, c, d);\n  };\n\n  goog.ENABLE_DEBUG_LOADER = !0;\n\n  goog.logToConsole_ = function (a) {\n    goog.global.console && goog.global.console.error(a);\n  };\n\n  goog.require = function (a) {\n    if (!COMPILED) {\n      goog.ENABLE_DEBUG_LOADER && goog.debugLoader_.requested(a);\n\n      if (goog.isProvided_(a)) {\n        if (goog.isInModuleLoader_()) return goog.module.getInternal_(a);\n      } else if (goog.ENABLE_DEBUG_LOADER) {\n        var b = goog.moduleLoaderState_;\n        goog.moduleLoaderState_ = null;\n\n        try {\n          goog.debugLoader_.load_(a);\n        } finally {\n          goog.moduleLoaderState_ = b;\n        }\n      }\n\n      return null;\n    }\n  };\n\n  goog.requireType = function (a) {\n    return {};\n  };\n\n  goog.basePath = \"\";\n\n  goog.nullFunction = function () {};\n\n  goog.abstractMethod = function () {\n    throw Error(\"unimplemented abstract method\");\n  };\n\n  goog.addSingletonGetter = function (a) {\n    a.instance_ = void 0;\n\n    a.getInstance = function () {\n      if (a.instance_) return a.instance_;\n      goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = a);\n      return a.instance_ = new a();\n    };\n  };\n\n  goog.instantiatedSingletons_ = [];\n  goog.LOAD_MODULE_USING_EVAL = !0;\n  goog.SEAL_MODULE_EXPORTS = goog.DEBUG;\n  goog.loadedModules_ = {};\n  goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;\n  goog.TRANSPILE = \"detect\";\n  goog.ASSUME_ES_MODULES_TRANSPILED = !1;\n  goog.TRANSPILE_TO_LANGUAGE = \"\";\n  goog.TRANSPILER = \"transpile.js\";\n  goog.hasBadLetScoping = null;\n\n  goog.useSafari10Workaround = function () {\n    if (null == goog.hasBadLetScoping) {\n      try {\n        var a = !eval('\"use strict\";let x = 1; function f() { return typeof x; };f() == \"number\";');\n      } catch (b) {\n        a = !1;\n      }\n\n      goog.hasBadLetScoping = a;\n    }\n\n    return goog.hasBadLetScoping;\n  };\n\n  goog.workaroundSafari10EvalBug = function (a) {\n    return \"(function(){\" + a + \"\\n;})();\\n\";\n  };\n\n  goog.loadModule = function (a) {\n    var b = goog.moduleLoaderState_;\n\n    try {\n      goog.moduleLoaderState_ = {\n        moduleName: \"\",\n        declareLegacyNamespace: !1,\n        type: goog.ModuleType.GOOG\n      };\n      if (goog.isFunction(a)) var c = a.call(void 0, {});else if (goog.isString(a)) goog.useSafari10Workaround() && (a = goog.workaroundSafari10EvalBug(a)), c = goog.loadModuleFromSource_.call(void 0, a);else throw Error(\"Invalid module definition\");\n      var d = goog.moduleLoaderState_.moduleName;\n      if (goog.isString(d) && d) goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(d, c) : goog.SEAL_MODULE_EXPORTS && Object.seal && \"object\" == typeof c && null != c && Object.seal(c), goog.loadedModules_[d] = {\n        exports: c,\n        type: goog.ModuleType.GOOG,\n        moduleId: goog.moduleLoaderState_.moduleName\n      };else throw Error('Invalid module name \"' + d + '\"');\n    } finally {\n      goog.moduleLoaderState_ = b;\n    }\n  };\n\n  goog.loadModuleFromSource_ = function (a) {\n    eval(a);\n    return {};\n  };\n\n  goog.normalizePath_ = function (a) {\n    a = a.split(\"/\");\n\n    for (var b = 0; b < a.length;) \".\" == a[b] ? a.splice(b, 1) : b && \"..\" == a[b] && a[b - 1] && \"..\" != a[b - 1] ? a.splice(--b, 2) : b++;\n\n    return a.join(\"/\");\n  };\n\n  goog.loadFileSync_ = function (a) {\n    if (goog.global.CLOSURE_LOAD_FILE_SYNC) return goog.global.CLOSURE_LOAD_FILE_SYNC(a);\n\n    try {\n      var b = new goog.global.XMLHttpRequest();\n      b.open(\"get\", a, !1);\n      b.send();\n      return 0 == b.status || 200 == b.status ? b.responseText : null;\n    } catch (c) {\n      return null;\n    }\n  };\n\n  goog.transpile_ = function (a, b, c) {\n    var d = goog.global.$jscomp;\n    d || (goog.global.$jscomp = d = {});\n    var e = d.transpile;\n\n    if (!e) {\n      var f = goog.basePath + goog.TRANSPILER,\n          g = goog.loadFileSync_(f);\n\n      if (g) {\n        (function () {\n          (0, eval)(g + \"\\n//# sourceURL=\" + f);\n        }).call(goog.global);\n        if (goog.global.$gwtExport && goog.global.$gwtExport.$jscomp && !goog.global.$gwtExport.$jscomp.transpile) throw Error('The transpiler did not properly export the \"transpile\" method. $gwtExport: ' + JSON.stringify(goog.global.$gwtExport));\n        goog.global.$jscomp.transpile = goog.global.$gwtExport.$jscomp.transpile;\n        d = goog.global.$jscomp;\n        e = d.transpile;\n      }\n    }\n\n    e || (e = d.transpile = function (a, b) {\n      goog.logToConsole_(b + \" requires transpilation but no transpiler was found.\");\n      return a;\n    });\n    return e(a, b, c);\n  };\n\n  goog.typeOf = function (a) {\n    var b = typeof a;\n    if (\"object\" == b) {\n      if (a) {\n        if (a instanceof Array) return \"array\";\n        if (a instanceof Object) return b;\n        var c = Object.prototype.toString.call(a);\n        if (\"[object Window]\" == c) return \"object\";\n        if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) return \"array\";\n        if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) return \"function\";\n      } else return \"null\";\n    } else if (\"function\" == b && \"undefined\" == typeof a.call) return \"object\";\n    return b;\n  };\n\n  goog.isNull = function (a) {\n    return null === a;\n  };\n\n  goog.isDefAndNotNull = function (a) {\n    return null != a;\n  };\n\n  goog.isArray = function (a) {\n    return \"array\" == goog.typeOf(a);\n  };\n\n  goog.isArrayLike = function (a) {\n    var b = goog.typeOf(a);\n    return \"array\" == b || \"object\" == b && \"number\" == typeof a.length;\n  };\n\n  goog.isDateLike = function (a) {\n    return goog.isObject(a) && \"function\" == typeof a.getFullYear;\n  };\n\n  goog.isFunction = function (a) {\n    return \"function\" == goog.typeOf(a);\n  };\n\n  goog.isObject = function (a) {\n    var b = typeof a;\n    return \"object\" == b && null != a || \"function\" == b;\n  };\n\n  goog.getUid = function (a) {\n    return a[goog.UID_PROPERTY_] || (a[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n  };\n\n  goog.hasUid = function (a) {\n    return !!a[goog.UID_PROPERTY_];\n  };\n\n  goog.removeUid = function (a) {\n    null !== a && \"removeAttribute\" in a && a.removeAttribute(goog.UID_PROPERTY_);\n\n    try {\n      delete a[goog.UID_PROPERTY_];\n    } catch (b) {}\n  };\n\n  goog.UID_PROPERTY_ = \"closure_uid_\" + (1E9 * Math.random() >>> 0);\n  goog.uidCounter_ = 0;\n  goog.getHashCode = goog.getUid;\n  goog.removeHashCode = goog.removeUid;\n\n  goog.cloneObject = function (a) {\n    var b = goog.typeOf(a);\n\n    if (\"object\" == b || \"array\" == b) {\n      if (\"function\" === typeof a.clone) return a.clone();\n      b = \"array\" == b ? [] : {};\n\n      for (var c in a) b[c] = goog.cloneObject(a[c]);\n\n      return b;\n    }\n\n    return a;\n  };\n\n  goog.bindNative_ = function (a, b, c) {\n    return a.call.apply(a.bind, arguments);\n  };\n\n  goog.bindJs_ = function (a, b, c) {\n    if (!a) throw Error();\n\n    if (2 < arguments.length) {\n      var d = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var c = Array.prototype.slice.call(arguments);\n        Array.prototype.unshift.apply(c, d);\n        return a.apply(b, c);\n      };\n    }\n\n    return function () {\n      return a.apply(b, arguments);\n    };\n  };\n\n  goog.bind = function (a, b, c) {\n    Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;\n    return goog.bind.apply(null, arguments);\n  };\n\n  goog.partial = function (a, b) {\n    var c = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      var b = c.slice();\n      b.push.apply(b, arguments);\n      return a.apply(this, b);\n    };\n  };\n\n  goog.mixin = function (a, b) {\n    for (var c in b) a[c] = b[c];\n  };\n\n  goog.now = goog.TRUSTED_SITE && Date.now || function () {\n    return +new Date();\n  };\n\n  goog.globalEval = function (a) {\n    if (goog.global.execScript) goog.global.execScript(a, \"JavaScript\");else if (goog.global.eval) {\n      if (null == goog.evalWorksForGlobals_) {\n        try {\n          goog.global.eval(\"var _evalTest_ = 1;\");\n        } catch (d) {}\n\n        if (\"undefined\" != typeof goog.global._evalTest_) {\n          try {\n            delete goog.global._evalTest_;\n          } catch (d) {}\n\n          goog.evalWorksForGlobals_ = !0;\n        } else goog.evalWorksForGlobals_ = !1;\n      }\n\n      if (goog.evalWorksForGlobals_) goog.global.eval(a);else {\n        var b = goog.global.document,\n            c = b.createElement(\"SCRIPT\");\n        c.type = \"text/javascript\";\n        c.defer = !1;\n        c.appendChild(b.createTextNode(a));\n        b.head.appendChild(c);\n        b.head.removeChild(c);\n      }\n    } else throw Error(\"goog.globalEval not available\");\n  };\n\n  goog.evalWorksForGlobals_ = null;\n\n  goog.getCssName = function (a, b) {\n    if (\".\" == String(a).charAt(0)) throw Error('className passed in goog.getCssName must not start with \".\". You passed: ' + a);\n\n    var c = function (a) {\n      return goog.cssNameMapping_[a] || a;\n    },\n        d = function (a) {\n      a = a.split(\"-\");\n\n      for (var b = [], d = 0; d < a.length; d++) b.push(c(a[d]));\n\n      return b.join(\"-\");\n    };\n\n    d = goog.cssNameMapping_ ? \"BY_WHOLE\" == goog.cssNameMappingStyle_ ? c : d : function (a) {\n      return a;\n    };\n    d = b ? a + \"-\" + d(b) : d(a);\n    return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(d) : d;\n  };\n\n  goog.setCssNameMapping = function (a, b) {\n    goog.cssNameMapping_ = a;\n    goog.cssNameMappingStyle_ = b;\n  };\n\n  !COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING);\n\n  goog.getMsg = function (a, b) {\n    b && (a = a.replace(/\\{\\$([^}]+)}/g, function (a, d) {\n      return null != b && d in b ? b[d] : a;\n    }));\n    return a;\n  };\n\n  goog.getMsgWithFallback = function (a, b) {\n    return a;\n  };\n\n  goog.exportSymbol = function (a, b, c) {\n    goog.exportPath_(a, b, c);\n  };\n\n  goog.exportProperty = function (a, b, c) {\n    a[b] = c;\n  };\n\n  goog.inherits = function (a, b) {\n    function c() {}\n\n    c.prototype = b.prototype;\n    a.superClass_ = b.prototype;\n    a.prototype = new c();\n    a.prototype.constructor = a;\n\n    a.base = function (a, c, f) {\n      for (var d = Array(arguments.length - 2), e = 2; e < arguments.length; e++) d[e - 2] = arguments[e];\n\n      return b.prototype[c].apply(a, d);\n    };\n  };\n\n  goog.base = function (a, b, c) {\n    var d = arguments.callee.caller;\n    if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !d) throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");\n\n    if (\"undefined\" !== typeof d.superClass_) {\n      for (var e = Array(arguments.length - 1), f = 1; f < arguments.length; f++) e[f - 1] = arguments[f];\n\n      return d.superClass_.constructor.apply(a, e);\n    }\n\n    if (\"string\" != typeof b && \"symbol\" != typeof b) throw Error(\"method names provided to goog.base must be a string or a symbol\");\n    e = Array(arguments.length - 2);\n\n    for (f = 2; f < arguments.length; f++) e[f - 2] = arguments[f];\n\n    f = !1;\n\n    for (var g = a.constructor.prototype; g; g = Object.getPrototypeOf(g)) if (g[b] === d) f = !0;else if (f) return g[b].apply(a, e);\n\n    if (a[b] === d) return a.constructor.prototype[b].apply(a, e);\n    throw Error(\"goog.base called from a method of one name to a method of a different name\");\n  };\n\n  goog.scope = function (a) {\n    if (goog.isInModuleLoader_()) throw Error(\"goog.scope is not supported within a module.\");\n    a.call(goog.global);\n  };\n\n  COMPILED || (goog.global.COMPILED = COMPILED);\n\n  goog.defineClass = function (a, b) {\n    var c = b.constructor,\n        d = b.statics;\n    c && c != Object.prototype.constructor || (c = function () {\n      throw Error(\"cannot instantiate an interface (no constructor defined).\");\n    });\n    c = goog.defineClass.createSealingConstructor_(c, a);\n    a && goog.inherits(c, a);\n    delete b.constructor;\n    delete b.statics;\n    goog.defineClass.applyProperties_(c.prototype, b);\n    null != d && (d instanceof Function ? d(c) : goog.defineClass.applyProperties_(c, d));\n    return c;\n  };\n\n  goog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;\n\n  goog.defineClass.createSealingConstructor_ = function (a, b) {\n    if (!goog.defineClass.SEAL_CLASS_INSTANCES) return a;\n\n    var c = !goog.defineClass.isUnsealable_(b),\n        d = function () {\n      var b = a.apply(this, arguments) || this;\n      b[goog.UID_PROPERTY_] = b[goog.UID_PROPERTY_];\n      this.constructor === d && c && Object.seal instanceof Function && Object.seal(b);\n      return b;\n    };\n\n    return d;\n  };\n\n  goog.defineClass.isUnsealable_ = function (a) {\n    return a && a.prototype && a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_];\n  };\n\n  goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\n\n  goog.defineClass.applyProperties_ = function (a, b) {\n    for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);\n\n    for (var d = 0; d < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; d++) c = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d], Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);\n  };\n\n  goog.tagUnsealableClass = function (a) {\n    !COMPILED && goog.defineClass.SEAL_CLASS_INSTANCES && (a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_] = !0);\n  };\n\n  goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = \"goog_defineClass_legacy_unsealable\";\n  !COMPILED && goog.DEPENDENCIES_ENABLED && (goog.inHtmlDocument_ = function () {\n    var a = goog.global.document;\n    return null != a && \"write\" in a;\n  }, goog.isDocumentLoading_ = function () {\n    var a = goog.global.document;\n    return a.attachEvent ? \"complete\" != a.readyState : \"loading\" == a.readyState;\n  }, goog.findBasePath_ = function () {\n    if (goog.isDef(goog.global.CLOSURE_BASE_PATH) && goog.isString(goog.global.CLOSURE_BASE_PATH)) goog.basePath = goog.global.CLOSURE_BASE_PATH;else if (goog.inHtmlDocument_()) {\n      var a = goog.global.document,\n          b = a.currentScript;\n      a = b ? [b] : a.getElementsByTagName(\"SCRIPT\");\n\n      for (b = a.length - 1; 0 <= b; --b) {\n        var c = a[b].src,\n            d = c.lastIndexOf(\"?\");\n        d = -1 == d ? c.length : d;\n\n        if (\"base.js\" == c.substr(d - 7, 7)) {\n          goog.basePath = c.substr(0, d - 7);\n          break;\n        }\n      }\n    }\n  }, goog.findBasePath_(), goog.Transpiler = function () {\n    this.requiresTranspilation_ = null;\n    this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;\n  }, goog.Transpiler.prototype.createRequiresTranspilation_ = function () {\n    function a(a, b) {\n      e ? d[a] = !0 : b() ? (c = a, d[a] = !1) : e = d[a] = !0;\n    }\n\n    function b(a) {\n      try {\n        return !!eval(a);\n      } catch (h) {\n        return !1;\n      }\n    }\n\n    var c = \"es3\",\n        d = {\n      es3: !1\n    },\n        e = !1,\n        f = goog.global.navigator && goog.global.navigator.userAgent ? goog.global.navigator.userAgent : \"\";\n    a(\"es5\", function () {\n      return b(\"[1,].length==1\");\n    });\n    a(\"es6\", function () {\n      return f.match(/Edge\\/(\\d+)(\\.\\d)*/i) ? !1 : b('(()=>{\"use strict\";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()');\n    });\n    a(\"es7\", function () {\n      return b(\"2 ** 2 == 4\");\n    });\n    a(\"es8\", function () {\n      return b(\"async () => 1, true\");\n    });\n    a(\"es9\", function () {\n      return b(\"({...rest} = {}), true\");\n    });\n    a(\"es_next\", function () {\n      return !1;\n    });\n    return {\n      target: c,\n      map: d\n    };\n  }, goog.Transpiler.prototype.needsTranspile = function (a, b) {\n    if (\"always\" == goog.TRANSPILE) return !0;\n    if (\"never\" == goog.TRANSPILE) return !1;\n\n    if (!this.requiresTranspilation_) {\n      var c = this.createRequiresTranspilation_();\n      this.requiresTranspilation_ = c.map;\n      this.transpilationTarget_ = this.transpilationTarget_ || c.target;\n    }\n\n    if (a in this.requiresTranspilation_) return this.requiresTranspilation_[a] ? !0 : !goog.inHtmlDocument_() || \"es6\" != b || \"noModule\" in goog.global.document.createElement(\"script\") ? !1 : !0;\n    throw Error(\"Unknown language mode: \" + a);\n  }, goog.Transpiler.prototype.transpile = function (a, b) {\n    return goog.transpile_(a, b, this.transpilationTarget_);\n  }, goog.transpiler_ = new goog.Transpiler(), goog.protectScriptTag_ = function (a) {\n    return a.replace(/<\\/(SCRIPT)/ig, \"\\\\x3c/$1\");\n  }, goog.DebugLoader_ = function () {\n    this.dependencies_ = {};\n    this.idToPath_ = {};\n    this.written_ = {};\n    this.loadingDeps_ = [];\n    this.depsToLoad_ = [];\n    this.paused_ = !1;\n    this.factory_ = new goog.DependencyFactory(goog.transpiler_);\n    this.deferredCallbacks_ = {};\n    this.deferredQueue_ = [];\n  }, goog.DebugLoader_.prototype.bootstrap = function (a, b) {\n    function c() {\n      d && (goog.global.setTimeout(d, 0), d = null);\n    }\n\n    var d = b;\n\n    if (a.length) {\n      for (var e = [], f = 0; f < a.length; f++) {\n        var g = this.getPathFromDeps_(a[f]);\n        if (!g) throw Error(\"Unregonized namespace: \" + a[f]);\n        e.push(this.dependencies_[g]);\n      }\n\n      g = goog.require;\n      var h = 0;\n\n      for (f = 0; f < a.length; f++) g(a[f]), e[f].onLoad(function () {\n        ++h == a.length && c();\n      });\n    } else c();\n  }, goog.DebugLoader_.prototype.loadClosureDeps = function () {\n    this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath + \"deps.js\"), \"deps.js\", [], [], {}, !1));\n    this.loadDeps_();\n  }, goog.DebugLoader_.prototype.requested = function (a, b) {\n    var c = this.getPathFromDeps_(a);\n\n    if (c && (b || this.areDepsLoaded_(this.dependencies_[c].requires))) {\n      var d = this.deferredCallbacks_[c];\n      d && (delete this.deferredCallbacks_[c], d());\n    }\n  }, goog.DebugLoader_.prototype.setDependencyFactory = function (a) {\n    this.factory_ = a;\n  }, goog.DebugLoader_.prototype.load_ = function (a) {\n    if (this.getPathFromDeps_(a)) {\n      var b = this,\n          c = [],\n          d = function (a) {\n        var e = b.getPathFromDeps_(a);\n        if (!e) throw Error(\"Bad dependency path or symbol: \" + a);\n\n        if (!b.written_[e]) {\n          b.written_[e] = !0;\n          a = b.dependencies_[e];\n\n          for (e = 0; e < a.requires.length; e++) goog.isProvided_(a.requires[e]) || d(a.requires[e]);\n\n          c.push(a);\n        }\n      };\n\n      d(a);\n      a = !!this.depsToLoad_.length;\n      this.depsToLoad_ = this.depsToLoad_.concat(c);\n      this.paused_ || a || this.loadDeps_();\n    } else throw a = \"goog.require could not find: \" + a, goog.logToConsole_(a), Error(a);\n  }, goog.DebugLoader_.prototype.loadDeps_ = function () {\n    for (var a = this, b = this.paused_; this.depsToLoad_.length && !b;) (function () {\n      var c = !1,\n          d = a.depsToLoad_.shift(),\n          e = !1;\n      a.loading_(d);\n      var f = {\n        pause: function () {\n          if (c) throw Error(\"Cannot call pause after the call to load.\");\n          b = !0;\n        },\n        resume: function () {\n          c ? a.resume_() : b = !1;\n        },\n        loaded: function () {\n          if (e) throw Error(\"Double call to loaded.\");\n          e = !0;\n          a.loaded_(d);\n        },\n        pending: function () {\n          for (var b = [], c = 0; c < a.loadingDeps_.length; c++) b.push(a.loadingDeps_[c]);\n\n          return b;\n        },\n        setModuleState: function (a) {\n          goog.moduleLoaderState_ = {\n            type: a,\n            moduleName: \"\",\n            declareLegacyNamespace: !1\n          };\n        },\n        registerEs6ModuleExports: function (a, b, c) {\n          c && (goog.loadedModules_[c] = {\n            exports: b,\n            type: goog.ModuleType.ES6,\n            moduleId: c || \"\"\n          });\n        },\n        registerGoogModuleExports: function (a, b) {\n          goog.loadedModules_[a] = {\n            exports: b,\n            type: goog.ModuleType.GOOG,\n            moduleId: a\n          };\n        },\n        clearModuleState: function () {\n          goog.moduleLoaderState_ = null;\n        },\n        defer: function (b) {\n          if (c) throw Error(\"Cannot register with defer after the call to load.\");\n          a.defer_(d, b);\n        },\n        areDepsLoaded: function () {\n          return a.areDepsLoaded_(d.requires);\n        }\n      };\n\n      try {\n        d.load(f);\n      } finally {\n        c = !0;\n      }\n    })();\n\n    b && this.pause_();\n  }, goog.DebugLoader_.prototype.pause_ = function () {\n    this.paused_ = !0;\n  }, goog.DebugLoader_.prototype.resume_ = function () {\n    this.paused_ && (this.paused_ = !1, this.loadDeps_());\n  }, goog.DebugLoader_.prototype.loading_ = function (a) {\n    this.loadingDeps_.push(a);\n  }, goog.DebugLoader_.prototype.loaded_ = function (a) {\n    for (var b = 0; b < this.loadingDeps_.length; b++) if (this.loadingDeps_[b] == a) {\n      this.loadingDeps_.splice(b, 1);\n      break;\n    }\n\n    for (b = 0; b < this.deferredQueue_.length; b++) if (this.deferredQueue_[b] == a.path) {\n      this.deferredQueue_.splice(b, 1);\n      break;\n    }\n\n    if (this.loadingDeps_.length == this.deferredQueue_.length && !this.depsToLoad_.length) for (; this.deferredQueue_.length;) this.requested(this.deferredQueue_.shift(), !0);\n    a.loaded();\n  }, goog.DebugLoader_.prototype.areDepsLoaded_ = function (a) {\n    for (var b = 0; b < a.length; b++) {\n      var c = this.getPathFromDeps_(a[b]);\n      if (!c || !(c in this.deferredCallbacks_ || goog.isProvided_(a[b]))) return !1;\n    }\n\n    return !0;\n  }, goog.DebugLoader_.prototype.getPathFromDeps_ = function (a) {\n    return a in this.idToPath_ ? this.idToPath_[a] : a in this.dependencies_ ? a : null;\n  }, goog.DebugLoader_.prototype.defer_ = function (a, b) {\n    this.deferredCallbacks_[a.path] = b;\n    this.deferredQueue_.push(a.path);\n  }, goog.LoadController = function () {}, goog.LoadController.prototype.pause = function () {}, goog.LoadController.prototype.resume = function () {}, goog.LoadController.prototype.loaded = function () {}, goog.LoadController.prototype.pending = function () {}, goog.LoadController.prototype.registerEs6ModuleExports = function (a, b, c) {}, goog.LoadController.prototype.setModuleState = function (a) {}, goog.LoadController.prototype.clearModuleState = function () {}, goog.LoadController.prototype.defer = function (a) {}, goog.LoadController.prototype.areDepsLoaded = function () {}, goog.Dependency = function (a, b, c, d, e) {\n    this.path = a;\n    this.relativePath = b;\n    this.provides = c;\n    this.requires = d;\n    this.loadFlags = e;\n    this.loaded_ = !1;\n    this.loadCallbacks_ = [];\n  }, goog.Dependency.prototype.getPathName = function () {\n    var a = this.path,\n        b = a.indexOf(\"://\");\n    0 <= b && (a = a.substring(b + 3), b = a.indexOf(\"/\"), 0 <= b && (a = a.substring(b + 1)));\n    return a;\n  }, goog.Dependency.prototype.onLoad = function (a) {\n    this.loaded_ ? a() : this.loadCallbacks_.push(a);\n  }, goog.Dependency.prototype.loaded = function () {\n    this.loaded_ = !0;\n    var a = this.loadCallbacks_;\n    this.loadCallbacks_ = [];\n\n    for (var b = 0; b < a.length; b++) a[b]();\n  }, goog.Dependency.defer_ = !1, goog.Dependency.callbackMap_ = {}, goog.Dependency.registerCallback_ = function (a) {\n    var b = Math.random().toString(32);\n    goog.Dependency.callbackMap_[b] = a;\n    return b;\n  }, goog.Dependency.unregisterCallback_ = function (a) {\n    delete goog.Dependency.callbackMap_[a];\n  }, goog.Dependency.callback_ = function (a, b) {\n    if (a in goog.Dependency.callbackMap_) {\n      for (var c = goog.Dependency.callbackMap_[a], d = [], e = 1; e < arguments.length; e++) d.push(arguments[e]);\n\n      c.apply(void 0, d);\n    } else throw Error(\"Callback key \" + a + \" does not exist (was base.js loaded more than once?).\");\n  }, goog.Dependency.prototype.load = function (a) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) goog.global.CLOSURE_IMPORT_SCRIPT(this.path) ? a.loaded() : a.pause();else if (goog.inHtmlDocument_()) {\n      var b = goog.global.document;\n\n      if (\"complete\" == b.readyState && !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {\n        if (/\\bdeps.js$/.test(this.path)) {\n          a.loaded();\n          return;\n        }\n\n        throw Error('Cannot write \"' + this.path + '\" after document load');\n      }\n\n      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && goog.isDocumentLoading_()) {\n        var c = goog.Dependency.registerCallback_(function (b) {\n          goog.DebugLoader_.IS_OLD_IE_ && \"complete\" != b.readyState || (goog.Dependency.unregisterCallback_(c), a.loaded());\n        }),\n            d = !goog.DebugLoader_.IS_OLD_IE_ && goog.getScriptNonce() ? ' nonce=\"' + goog.getScriptNonce() + '\"' : \"\";\n        d = '<script src=\"' + this.path + '\" ' + (goog.DebugLoader_.IS_OLD_IE_ ? \"onreadystatechange\" : \"onload\") + \"=\\\"goog.Dependency.callback_('\" + c + '\\', this)\" type=\"text/javascript\" ' + (goog.Dependency.defer_ ? \"defer\" : \"\") + d + \">\\x3c/script>\";\n        b.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(d) : d);\n      } else {\n        var e = b.createElement(\"script\");\n        e.defer = goog.Dependency.defer_;\n        e.async = !1;\n        e.type = \"text/javascript\";\n        (d = goog.getScriptNonce()) && e.setAttribute(\"nonce\", d);\n        goog.DebugLoader_.IS_OLD_IE_ ? (a.pause(), e.onreadystatechange = function () {\n          if (\"loaded\" == e.readyState || \"complete\" == e.readyState) a.loaded(), a.resume();\n        }) : e.onload = function () {\n          e.onload = null;\n          a.loaded();\n        };\n        e.src = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) : this.path;\n        b.head.appendChild(e);\n      }\n    } else goog.logToConsole_(\"Cannot use default debug loader outside of HTML documents.\"), \"deps.js\" == this.relativePath ? (goog.logToConsole_(\"Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true.\"), a.loaded()) : a.pause();\n  }, goog.Es6ModuleDependency = function (a, b, c, d, e) {\n    goog.Dependency.call(this, a, b, c, d, e);\n  }, goog.inherits(goog.Es6ModuleDependency, goog.Dependency), goog.Es6ModuleDependency.prototype.load = function (a) {\n    function b(a, b) {\n      var c = b ? '<script type=\"module\" crossorigin>' + b + \"\\x3c/script>\" : '<script type=\"module\" crossorigin src=\"' + a + '\">\\x3c/script>';\n      d.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(c) : c);\n    }\n\n    function c(a, b) {\n      var c = d.createElement(\"script\");\n      c.defer = !0;\n      c.async = !1;\n      c.type = \"module\";\n      c.setAttribute(\"crossorigin\", !0);\n      var e = goog.getScriptNonce();\n      e && c.setAttribute(\"nonce\", e);\n      b ? c.textContent = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScript(b) : b : c.src = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScriptURL(a) : a;\n      d.head.appendChild(c);\n    }\n\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) goog.global.CLOSURE_IMPORT_SCRIPT(this.path) ? a.loaded() : a.pause();else if (goog.inHtmlDocument_()) {\n      var d = goog.global.document,\n          e = this;\n\n      if (goog.isDocumentLoading_()) {\n        var f = b;\n        goog.Dependency.defer_ = !0;\n      } else f = c;\n\n      var g = goog.Dependency.registerCallback_(function () {\n        goog.Dependency.unregisterCallback_(g);\n        a.setModuleState(goog.ModuleType.ES6);\n      });\n      f(void 0, 'goog.Dependency.callback_(\"' + g + '\")');\n      f(this.path, void 0);\n      var h = goog.Dependency.registerCallback_(function (b) {\n        goog.Dependency.unregisterCallback_(h);\n        a.registerEs6ModuleExports(e.path, b, goog.moduleLoaderState_.moduleName);\n      });\n      f(void 0, 'import * as m from \"' + this.path + '\"; goog.Dependency.callback_(\"' + h + '\", m)');\n      var k = goog.Dependency.registerCallback_(function () {\n        goog.Dependency.unregisterCallback_(k);\n        a.clearModuleState();\n        a.loaded();\n      });\n      f(void 0, 'goog.Dependency.callback_(\"' + k + '\")');\n    } else goog.logToConsole_(\"Cannot use default debug loader outside of HTML documents.\"), a.pause();\n  }, goog.TransformedDependency = function (a, b, c, d, e) {\n    goog.Dependency.call(this, a, b, c, d, e);\n    this.contents_ = null;\n    this.lazyFetch_ = !goog.inHtmlDocument_() || !(\"noModule\" in goog.global.document.createElement(\"script\"));\n  }, goog.inherits(goog.TransformedDependency, goog.Dependency), goog.TransformedDependency.prototype.load = function (a) {\n    function b() {\n      e.contents_ = goog.loadFileSync_(e.path);\n      e.contents_ && (e.contents_ = e.transform(e.contents_), e.contents_ && (e.contents_ += \"\\n//# sourceURL=\" + e.path));\n    }\n\n    function c() {\n      e.lazyFetch_ && b();\n\n      if (e.contents_) {\n        f && a.setModuleState(goog.ModuleType.ES6);\n\n        try {\n          var c = e.contents_;\n          e.contents_ = null;\n          goog.globalEval(c);\n          if (f) var d = goog.moduleLoaderState_.moduleName;\n        } finally {\n          f && a.clearModuleState();\n        }\n\n        f && goog.global.$jscomp.require.ensure([e.getPathName()], function () {\n          a.registerEs6ModuleExports(e.path, goog.global.$jscomp.require(e.getPathName()), d);\n        });\n        a.loaded();\n      }\n    }\n\n    function d() {\n      var a = goog.global.document,\n          b = goog.Dependency.registerCallback_(function () {\n        goog.Dependency.unregisterCallback_(b);\n        c();\n      }),\n          d = '<script type=\"text/javascript\">' + goog.protectScriptTag_('goog.Dependency.callback_(\"' + b + '\");') + \"\\x3c/script>\";\n      a.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(d) : d);\n    }\n\n    var e = this;\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) b(), this.contents_ && goog.global.CLOSURE_IMPORT_SCRIPT(\"\", this.contents_) ? (this.contents_ = null, a.loaded()) : a.pause();else {\n      var f = this.loadFlags.module == goog.ModuleType.ES6;\n      this.lazyFetch_ || b();\n      var g = 1 < a.pending().length,\n          h = g && goog.DebugLoader_.IS_OLD_IE_;\n      g = goog.Dependency.defer_ && (g || goog.isDocumentLoading_());\n      if (h || g) a.defer(function () {\n        c();\n      });else {\n        var k = goog.global.document;\n        h = goog.inHtmlDocument_() && \"ActiveXObject\" in goog.global;\n\n        if (f && goog.inHtmlDocument_() && goog.isDocumentLoading_() && !h) {\n          goog.Dependency.defer_ = !0;\n          a.pause();\n          var l = k.onreadystatechange;\n\n          k.onreadystatechange = function () {\n            \"interactive\" == k.readyState && (k.onreadystatechange = l, c(), a.resume());\n            goog.isFunction(l) && l.apply(void 0, arguments);\n          };\n        } else !goog.DebugLoader_.IS_OLD_IE_ && goog.inHtmlDocument_() && goog.isDocumentLoading_() ? d() : c();\n      }\n    }\n  }, goog.TransformedDependency.prototype.transform = function (a) {}, goog.TranspiledDependency = function (a, b, c, d, e, f) {\n    goog.TransformedDependency.call(this, a, b, c, d, e);\n    this.transpiler = f;\n  }, goog.inherits(goog.TranspiledDependency, goog.TransformedDependency), goog.TranspiledDependency.prototype.transform = function (a) {\n    return this.transpiler.transpile(a, this.getPathName());\n  }, goog.PreTranspiledEs6ModuleDependency = function (a, b, c, d, e) {\n    goog.TransformedDependency.call(this, a, b, c, d, e);\n  }, goog.inherits(goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency), goog.PreTranspiledEs6ModuleDependency.prototype.transform = function (a) {\n    return a;\n  }, goog.GoogModuleDependency = function (a, b, c, d, e, f, g) {\n    goog.TransformedDependency.call(this, a, b, c, d, e);\n    this.needsTranspile_ = f;\n    this.transpiler_ = g;\n  }, goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency), goog.GoogModuleDependency.prototype.transform = function (a) {\n    this.needsTranspile_ && (a = this.transpiler_.transpile(a, this.getPathName()));\n    return goog.LOAD_MODULE_USING_EVAL && goog.isDef(goog.global.JSON) ? \"goog.loadModule(\" + goog.global.JSON.stringify(a + \"\\n//# sourceURL=\" + this.path + \"\\n\") + \");\" : 'goog.loadModule(function(exports) {\"use strict\";' + a + \"\\n;return exports});\\n//# sourceURL=\" + this.path + \"\\n\";\n  }, goog.DebugLoader_.IS_OLD_IE_ = !(goog.global.atob || !goog.global.document || !goog.global.document.all), goog.DebugLoader_.prototype.addDependency = function (a, b, c, d) {\n    b = b || [];\n    a = a.replace(/\\\\/g, \"/\");\n    var e = goog.normalizePath_(goog.basePath + a);\n    d && \"boolean\" !== typeof d || (d = d ? {\n      module: goog.ModuleType.GOOG\n    } : {});\n    c = this.factory_.createDependency(e, a, b, c, d, goog.transpiler_.needsTranspile(d.lang || \"es3\", d.module));\n    this.dependencies_[e] = c;\n\n    for (c = 0; c < b.length; c++) this.idToPath_[b[c]] = e;\n\n    this.idToPath_[a] = e;\n  }, goog.DependencyFactory = function (a) {\n    this.transpiler = a;\n  }, goog.DependencyFactory.prototype.createDependency = function (a, b, c, d, e, f) {\n    return e.module == goog.ModuleType.GOOG ? new goog.GoogModuleDependency(a, b, c, d, e, f, this.transpiler) : f ? new goog.TranspiledDependency(a, b, c, d, e, this.transpiler) : e.module == goog.ModuleType.ES6 ? \"never\" == goog.TRANSPILE && goog.ASSUME_ES_MODULES_TRANSPILED ? new goog.PreTranspiledEs6ModuleDependency(a, b, c, d, e) : new goog.Es6ModuleDependency(a, b, c, d, e) : new goog.Dependency(a, b, c, d, e);\n  }, goog.debugLoader_ = new goog.DebugLoader_(), goog.loadClosureDeps = function () {\n    goog.debugLoader_.loadClosureDeps();\n  }, goog.setDependencyFactory = function (a) {\n    goog.debugLoader_.setDependencyFactory(a);\n  }, goog.global.CLOSURE_NO_DEPS || goog.debugLoader_.loadClosureDeps(), goog.bootstrap = function (a, b) {\n    goog.debugLoader_.bootstrap(a, b);\n  });\n  goog.TRUSTED_TYPES_POLICY_NAME = \"\";\n\n  goog.identity_ = function (a) {\n    return a;\n  };\n\n  goog.createTrustedTypesPolicy = function (a) {\n    var b = null;\n    if (\"undefined\" === typeof TrustedTypes || !TrustedTypes.createPolicy) return b;\n\n    try {\n      b = TrustedTypes.createPolicy(a, {\n        createHTML: goog.identity_,\n        createScript: goog.identity_,\n        createScriptURL: goog.identity_,\n        createURL: goog.identity_\n      });\n    } catch (c) {\n      goog.logToConsole_(c.message);\n    }\n\n    return b;\n  };\n\n  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ? goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + \"#base\") : null;\n  goog.debug = {};\n\n  goog.debug.Error = function (a) {\n    if (Error.captureStackTrace) Error.captureStackTrace(this, goog.debug.Error);else {\n      var b = Error().stack;\n      b && (this.stack = b);\n    }\n    a && (this.message = String(a));\n    this.reportErrorToServer = !0;\n  };\n\n  goog.inherits(goog.debug.Error, Error);\n  goog.debug.Error.prototype.name = \"CustomError\";\n  goog.dom = {};\n  goog.dom.NodeType = {\n    ELEMENT: 1,\n    ATTRIBUTE: 2,\n    TEXT: 3,\n    CDATA_SECTION: 4,\n    ENTITY_REFERENCE: 5,\n    ENTITY: 6,\n    PROCESSING_INSTRUCTION: 7,\n    COMMENT: 8,\n    DOCUMENT: 9,\n    DOCUMENT_TYPE: 10,\n    DOCUMENT_FRAGMENT: 11,\n    NOTATION: 12\n  };\n  goog.asserts = {};\n  goog.asserts.ENABLE_ASSERTS = goog.DEBUG;\n\n  goog.asserts.AssertionError = function (a, b) {\n    goog.debug.Error.call(this, goog.asserts.subs_(a, b));\n    this.messagePattern = a;\n  };\n\n  goog.inherits(goog.asserts.AssertionError, goog.debug.Error);\n  goog.asserts.AssertionError.prototype.name = \"AssertionError\";\n\n  goog.asserts.DEFAULT_ERROR_HANDLER = function (a) {\n    throw a;\n  };\n\n  goog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\n\n  goog.asserts.subs_ = function (a, b) {\n    for (var c = a.split(\"%s\"), d = \"\", e = c.length - 1, f = 0; f < e; f++) d += c[f] + (f < b.length ? b[f] : \"%s\");\n\n    return d + c[e];\n  };\n\n  goog.asserts.doAssertFailure_ = function (a, b, c, d) {\n    var e = \"Assertion failed\";\n\n    if (c) {\n      e += \": \" + c;\n      var f = d;\n    } else a && (e += \": \" + a, f = b);\n\n    a = new goog.asserts.AssertionError(\"\" + e, f || []);\n    goog.asserts.errorHandler_(a);\n  };\n\n  goog.asserts.setErrorHandler = function (a) {\n    goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = a);\n  };\n\n  goog.asserts.assert = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !a && goog.asserts.doAssertFailure_(\"\", null, b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertExists = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && null == a && goog.asserts.doAssertFailure_(\"Expected to exist: %s.\", [a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.fail = function (a, b) {\n    goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1)));\n  };\n\n  goog.asserts.assertNumber = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isNumber(a) && goog.asserts.doAssertFailure_(\"Expected number but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertString = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isString(a) && goog.asserts.doAssertFailure_(\"Expected string but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertFunction = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isFunction(a) && goog.asserts.doAssertFailure_(\"Expected function but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertObject = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isObject(a) && goog.asserts.doAssertFailure_(\"Expected object but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertArray = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isArray(a) && goog.asserts.doAssertFailure_(\"Expected array but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertBoolean = function (a, b, c) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(a) && goog.asserts.doAssertFailure_(\"Expected boolean but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertElement = function (a, b, c) {\n    !goog.asserts.ENABLE_ASSERTS || goog.isObject(a) && a.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_(\"Expected Element but got %s: %s.\", [goog.typeOf(a), a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertInstanceof = function (a, b, c, d) {\n    !goog.asserts.ENABLE_ASSERTS || a instanceof b || goog.asserts.doAssertFailure_(\"Expected instanceof %s but got %s.\", [goog.asserts.getType_(b), goog.asserts.getType_(a)], c, Array.prototype.slice.call(arguments, 3));\n    return a;\n  };\n\n  goog.asserts.assertFinite = function (a, b, c) {\n    !goog.asserts.ENABLE_ASSERTS || \"number\" == typeof a && isFinite(a) || goog.asserts.doAssertFailure_(\"Expected %s to be a finite number but it is not.\", [a], b, Array.prototype.slice.call(arguments, 2));\n    return a;\n  };\n\n  goog.asserts.assertObjectPrototypeIsIntact = function () {\n    for (var a in Object.prototype) goog.asserts.fail(a + \" should not be enumerable in Object.prototype.\");\n  };\n\n  goog.asserts.getType_ = function (a) {\n    return a instanceof Function ? a.displayName || a.name || \"unknown type name\" : a instanceof Object ? a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a) : null === a ? \"null\" : typeof a;\n  };\n\n  goog.debug.entryPointRegistry = {};\n\n  goog.debug.EntryPointMonitor = function () {};\n\n  goog.debug.entryPointRegistry.refList_ = [];\n  goog.debug.entryPointRegistry.monitors_ = [];\n  goog.debug.entryPointRegistry.monitorsMayExist_ = !1;\n\n  goog.debug.entryPointRegistry.register = function (a) {\n    goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = a;\n    if (goog.debug.entryPointRegistry.monitorsMayExist_) for (var b = goog.debug.entryPointRegistry.monitors_, c = 0; c < b.length; c++) a(goog.bind(b[c].wrap, b[c]));\n  };\n\n  goog.debug.entryPointRegistry.monitorAll = function (a) {\n    goog.debug.entryPointRegistry.monitorsMayExist_ = !0;\n\n    for (var b = goog.bind(a.wrap, a), c = 0; c < goog.debug.entryPointRegistry.refList_.length; c++) goog.debug.entryPointRegistry.refList_[c](b);\n\n    goog.debug.entryPointRegistry.monitors_.push(a);\n  };\n\n  goog.debug.entryPointRegistry.unmonitorAllIfPossible = function (a) {\n    var b = goog.debug.entryPointRegistry.monitors_;\n    goog.asserts.assert(a == b[b.length - 1], \"Only the most recent monitor can be unwrapped.\");\n    a = goog.bind(a.unwrap, a);\n\n    for (var c = 0; c < goog.debug.entryPointRegistry.refList_.length; c++) goog.debug.entryPointRegistry.refList_[c](a);\n\n    b.length--;\n  };\n\n  goog.array = {};\n  goog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\n  goog.array.ASSUME_NATIVE_FUNCTIONS = !1;\n\n  goog.array.peek = function (a) {\n    return a[a.length - 1];\n  };\n\n  goog.array.last = goog.array.peek;\n  goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.indexOf.call(a, b, c);\n  } : function (a, b, c) {\n    c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n    if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.indexOf(b, c) : -1;\n\n    for (; c < a.length; c++) if (c in a && a[c] === b) return c;\n\n    return -1;\n  };\n  goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.lastIndexOf.call(a, b, null == c ? a.length - 1 : c);\n  } : function (a, b, c) {\n    c = null == c ? a.length - 1 : c;\n    0 > c && (c = Math.max(0, a.length + c));\n    if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.lastIndexOf(b, c) : -1;\n\n    for (; 0 <= c; c--) if (c in a && a[c] === b) return c;\n\n    return -1;\n  };\n  goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    Array.prototype.forEach.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = goog.isString(a) ? a.split(\"\") : a, f = 0; f < d; f++) f in e && b.call(c, e[f], f, a);\n  };\n\n  goog.array.forEachRight = function (a, b, c) {\n    var d = a.length,\n        e = goog.isString(a) ? a.split(\"\") : a;\n\n    for (--d; 0 <= d; --d) d in e && b.call(c, e[d], d, a);\n  };\n\n  goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.filter.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = [], f = 0, g = goog.isString(a) ? a.split(\"\") : a, h = 0; h < d; h++) if (h in g) {\n      var k = g[h];\n      b.call(c, k, h, a) && (e[f++] = k);\n    }\n\n    return e;\n  };\n  goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.map.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = Array(d), f = goog.isString(a) ? a.split(\"\") : a, g = 0; g < d; g++) g in f && (e[g] = b.call(c, f[g], g, a));\n\n    return e;\n  };\n  goog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function (a, b, c, d) {\n    goog.asserts.assert(null != a.length);\n    d && (b = goog.bind(b, d));\n    return Array.prototype.reduce.call(a, b, c);\n  } : function (a, b, c, d) {\n    var e = c;\n    goog.array.forEach(a, function (c, g) {\n      e = b.call(d, e, c, g, a);\n    });\n    return e;\n  };\n  goog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function (a, b, c, d) {\n    goog.asserts.assert(null != a.length);\n    goog.asserts.assert(null != b);\n    d && (b = goog.bind(b, d));\n    return Array.prototype.reduceRight.call(a, b, c);\n  } : function (a, b, c, d) {\n    var e = c;\n    goog.array.forEachRight(a, function (c, g) {\n      e = b.call(d, e, c, g, a);\n    });\n    return e;\n  };\n  goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.some.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = goog.isString(a) ? a.split(\"\") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return !0;\n\n    return !1;\n  };\n  goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.every.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = goog.isString(a) ? a.split(\"\") : a, f = 0; f < d; f++) if (f in e && !b.call(c, e[f], f, a)) return !1;\n\n    return !0;\n  };\n\n  goog.array.count = function (a, b, c) {\n    var d = 0;\n    goog.array.forEach(a, function (a, f, g) {\n      b.call(c, a, f, g) && ++d;\n    }, c);\n    return d;\n  };\n\n  goog.array.find = function (a, b, c) {\n    b = goog.array.findIndex(a, b, c);\n    return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];\n  };\n\n  goog.array.findIndex = function (a, b, c) {\n    for (var d = a.length, e = goog.isString(a) ? a.split(\"\") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return f;\n\n    return -1;\n  };\n\n  goog.array.findRight = function (a, b, c) {\n    b = goog.array.findIndexRight(a, b, c);\n    return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];\n  };\n\n  goog.array.findIndexRight = function (a, b, c) {\n    var d = a.length,\n        e = goog.isString(a) ? a.split(\"\") : a;\n\n    for (--d; 0 <= d; d--) if (d in e && b.call(c, e[d], d, a)) return d;\n\n    return -1;\n  };\n\n  goog.array.contains = function (a, b) {\n    return 0 <= goog.array.indexOf(a, b);\n  };\n\n  goog.array.isEmpty = function (a) {\n    return 0 == a.length;\n  };\n\n  goog.array.clear = function (a) {\n    if (!goog.isArray(a)) for (var b = a.length - 1; 0 <= b; b--) delete a[b];\n    a.length = 0;\n  };\n\n  goog.array.insert = function (a, b) {\n    goog.array.contains(a, b) || a.push(b);\n  };\n\n  goog.array.insertAt = function (a, b, c) {\n    goog.array.splice(a, c, 0, b);\n  };\n\n  goog.array.insertArrayAt = function (a, b, c) {\n    goog.partial(goog.array.splice, a, c, 0).apply(null, b);\n  };\n\n  goog.array.insertBefore = function (a, b, c) {\n    var d;\n    2 == arguments.length || 0 > (d = goog.array.indexOf(a, c)) ? a.push(b) : goog.array.insertAt(a, b, d);\n  };\n\n  goog.array.remove = function (a, b) {\n    var c = goog.array.indexOf(a, b),\n        d;\n    (d = 0 <= c) && goog.array.removeAt(a, c);\n    return d;\n  };\n\n  goog.array.removeLast = function (a, b) {\n    var c = goog.array.lastIndexOf(a, b);\n    return 0 <= c ? (goog.array.removeAt(a, c), !0) : !1;\n  };\n\n  goog.array.removeAt = function (a, b) {\n    goog.asserts.assert(null != a.length);\n    return 1 == Array.prototype.splice.call(a, b, 1).length;\n  };\n\n  goog.array.removeIf = function (a, b, c) {\n    b = goog.array.findIndex(a, b, c);\n    return 0 <= b ? (goog.array.removeAt(a, b), !0) : !1;\n  };\n\n  goog.array.removeAllIf = function (a, b, c) {\n    var d = 0;\n    goog.array.forEachRight(a, function (e, f) {\n      b.call(c, e, f, a) && goog.array.removeAt(a, f) && d++;\n    });\n    return d;\n  };\n\n  goog.array.concat = function (a) {\n    return Array.prototype.concat.apply([], arguments);\n  };\n\n  goog.array.join = function (a) {\n    return Array.prototype.concat.apply([], arguments);\n  };\n\n  goog.array.toArray = function (a) {\n    var b = a.length;\n\n    if (0 < b) {\n      for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d];\n\n      return c;\n    }\n\n    return [];\n  };\n\n  goog.array.clone = goog.array.toArray;\n\n  goog.array.extend = function (a, b) {\n    for (var c = 1; c < arguments.length; c++) {\n      var d = arguments[c];\n\n      if (goog.isArrayLike(d)) {\n        var e = a.length || 0,\n            f = d.length || 0;\n        a.length = e + f;\n\n        for (var g = 0; g < f; g++) a[e + g] = d[g];\n      } else a.push(d);\n    }\n  };\n\n  goog.array.splice = function (a, b, c, d) {\n    goog.asserts.assert(null != a.length);\n    return Array.prototype.splice.apply(a, goog.array.slice(arguments, 1));\n  };\n\n  goog.array.slice = function (a, b, c) {\n    goog.asserts.assert(null != a.length);\n    return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c);\n  };\n\n  goog.array.removeDuplicates = function (a, b, c) {\n    b = b || a;\n\n    var d = function (a) {\n      return goog.isObject(a) ? \"o\" + goog.getUid(a) : (typeof a).charAt(0) + a;\n    };\n\n    c = c || d;\n    d = {};\n\n    for (var e = 0, f = 0; f < a.length;) {\n      var g = a[f++],\n          h = c(g);\n      Object.prototype.hasOwnProperty.call(d, h) || (d[h] = !0, b[e++] = g);\n    }\n\n    b.length = e;\n  };\n\n  goog.array.binarySearch = function (a, b, c) {\n    return goog.array.binarySearch_(a, c || goog.array.defaultCompare, !1, b);\n  };\n\n  goog.array.binarySelect = function (a, b, c) {\n    return goog.array.binarySearch_(a, b, !0, void 0, c);\n  };\n\n  goog.array.binarySearch_ = function (a, b, c, d, e) {\n    for (var f = 0, g = a.length, h; f < g;) {\n      var k = f + g >> 1;\n      var l = c ? b.call(e, a[k], k, a) : b(d, a[k]);\n      0 < l ? f = k + 1 : (g = k, h = !l);\n    }\n\n    return h ? f : ~f;\n  };\n\n  goog.array.sort = function (a, b) {\n    a.sort(b || goog.array.defaultCompare);\n  };\n\n  goog.array.stableSort = function (a, b) {\n    for (var c = Array(a.length), d = 0; d < a.length; d++) c[d] = {\n      index: d,\n      value: a[d]\n    };\n\n    var e = b || goog.array.defaultCompare;\n    goog.array.sort(c, function (a, b) {\n      return e(a.value, b.value) || a.index - b.index;\n    });\n\n    for (d = 0; d < a.length; d++) a[d] = c[d].value;\n  };\n\n  goog.array.sortByKey = function (a, b, c) {\n    var d = c || goog.array.defaultCompare;\n    goog.array.sort(a, function (a, c) {\n      return d(b(a), b(c));\n    });\n  };\n\n  goog.array.sortObjectsByKey = function (a, b, c) {\n    goog.array.sortByKey(a, function (a) {\n      return a[b];\n    }, c);\n  };\n\n  goog.array.isSorted = function (a, b, c) {\n    b = b || goog.array.defaultCompare;\n\n    for (var d = 1; d < a.length; d++) {\n      var e = b(a[d - 1], a[d]);\n      if (0 < e || 0 == e && c) return !1;\n    }\n\n    return !0;\n  };\n\n  goog.array.equals = function (a, b, c) {\n    if (!goog.isArrayLike(a) || !goog.isArrayLike(b) || a.length != b.length) return !1;\n    var d = a.length;\n    c = c || goog.array.defaultCompareEquality;\n\n    for (var e = 0; e < d; e++) if (!c(a[e], b[e])) return !1;\n\n    return !0;\n  };\n\n  goog.array.compare3 = function (a, b, c) {\n    c = c || goog.array.defaultCompare;\n\n    for (var d = Math.min(a.length, b.length), e = 0; e < d; e++) {\n      var f = c(a[e], b[e]);\n      if (0 != f) return f;\n    }\n\n    return goog.array.defaultCompare(a.length, b.length);\n  };\n\n  goog.array.defaultCompare = function (a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  };\n\n  goog.array.inverseDefaultCompare = function (a, b) {\n    return -goog.array.defaultCompare(a, b);\n  };\n\n  goog.array.defaultCompareEquality = function (a, b) {\n    return a === b;\n  };\n\n  goog.array.binaryInsert = function (a, b, c) {\n    c = goog.array.binarySearch(a, b, c);\n    return 0 > c ? (goog.array.insertAt(a, b, -(c + 1)), !0) : !1;\n  };\n\n  goog.array.binaryRemove = function (a, b, c) {\n    b = goog.array.binarySearch(a, b, c);\n    return 0 <= b ? goog.array.removeAt(a, b) : !1;\n  };\n\n  goog.array.bucket = function (a, b, c) {\n    for (var d = {}, e = 0; e < a.length; e++) {\n      var f = a[e],\n          g = b.call(c, f, e, a);\n      goog.isDef(g) && (d[g] || (d[g] = [])).push(f);\n    }\n\n    return d;\n  };\n\n  goog.array.toObject = function (a, b, c) {\n    var d = {};\n    goog.array.forEach(a, function (e, f) {\n      d[b.call(c, e, f, a)] = e;\n    });\n    return d;\n  };\n\n  goog.array.range = function (a, b, c) {\n    var d = [],\n        e = 0,\n        f = a;\n    c = c || 1;\n    void 0 !== b && (e = a, f = b);\n    if (0 > c * (f - e)) return [];\n    if (0 < c) for (a = e; a < f; a += c) d.push(a);else for (a = e; a > f; a += c) d.push(a);\n    return d;\n  };\n\n  goog.array.repeat = function (a, b) {\n    for (var c = [], d = 0; d < b; d++) c[d] = a;\n\n    return c;\n  };\n\n  goog.array.flatten = function (a) {\n    for (var b = [], c = 0; c < arguments.length; c++) {\n      var d = arguments[c];\n      if (goog.isArray(d)) for (var e = 0; e < d.length; e += 8192) {\n        var f = goog.array.slice(d, e, e + 8192);\n        f = goog.array.flatten.apply(null, f);\n\n        for (var g = 0; g < f.length; g++) b.push(f[g]);\n      } else b.push(d);\n    }\n\n    return b;\n  };\n\n  goog.array.rotate = function (a, b) {\n    goog.asserts.assert(null != a.length);\n    a.length && (b %= a.length, 0 < b ? Array.prototype.unshift.apply(a, a.splice(-b, b)) : 0 > b && Array.prototype.push.apply(a, a.splice(0, -b)));\n    return a;\n  };\n\n  goog.array.moveItem = function (a, b, c) {\n    goog.asserts.assert(0 <= b && b < a.length);\n    goog.asserts.assert(0 <= c && c < a.length);\n    b = Array.prototype.splice.call(a, b, 1);\n    Array.prototype.splice.call(a, c, 0, b[0]);\n  };\n\n  goog.array.zip = function (a) {\n    if (!arguments.length) return [];\n\n    for (var b = [], c = arguments[0].length, d = 1; d < arguments.length; d++) arguments[d].length < c && (c = arguments[d].length);\n\n    for (d = 0; d < c; d++) {\n      for (var e = [], f = 0; f < arguments.length; f++) e.push(arguments[f][d]);\n\n      b.push(e);\n    }\n\n    return b;\n  };\n\n  goog.array.shuffle = function (a, b) {\n    for (var c = b || Math.random, d = a.length - 1; 0 < d; d--) {\n      var e = Math.floor(c() * (d + 1)),\n          f = a[d];\n      a[d] = a[e];\n      a[e] = f;\n    }\n  };\n\n  goog.array.copyByIndex = function (a, b) {\n    var c = [];\n    goog.array.forEach(b, function (b) {\n      c.push(a[b]);\n    });\n    return c;\n  };\n\n  goog.array.concatMap = function (a, b, c) {\n    return goog.array.concat.apply([], goog.array.map(a, b, c));\n  };\n\n  goog.debug.errorcontext = {};\n\n  goog.debug.errorcontext.addErrorContext = function (a, b, c) {\n    a[goog.debug.errorcontext.CONTEXT_KEY_] || (a[goog.debug.errorcontext.CONTEXT_KEY_] = {});\n    a[goog.debug.errorcontext.CONTEXT_KEY_][b] = c;\n  };\n\n  goog.debug.errorcontext.getErrorContext = function (a) {\n    return a[goog.debug.errorcontext.CONTEXT_KEY_] || {};\n  };\n\n  goog.debug.errorcontext.CONTEXT_KEY_ = \"__closure__error__context__984382\";\n  goog.string = {};\n  goog.string.internal = {};\n\n  goog.string.internal.startsWith = function (a, b) {\n    return 0 == a.lastIndexOf(b, 0);\n  };\n\n  goog.string.internal.endsWith = function (a, b) {\n    var c = a.length - b.length;\n    return 0 <= c && a.indexOf(b, c) == c;\n  };\n\n  goog.string.internal.caseInsensitiveStartsWith = function (a, b) {\n    return 0 == goog.string.internal.caseInsensitiveCompare(b, a.substr(0, b.length));\n  };\n\n  goog.string.internal.caseInsensitiveEndsWith = function (a, b) {\n    return 0 == goog.string.internal.caseInsensitiveCompare(b, a.substr(a.length - b.length, b.length));\n  };\n\n  goog.string.internal.caseInsensitiveEquals = function (a, b) {\n    return a.toLowerCase() == b.toLowerCase();\n  };\n\n  goog.string.internal.isEmptyOrWhitespace = function (a) {\n    return /^[\\s\\xa0]*$/.test(a);\n  };\n\n  goog.string.internal.trim = goog.TRUSTED_SITE && String.prototype.trim ? function (a) {\n    return a.trim();\n  } : function (a) {\n    return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(a)[1];\n  };\n\n  goog.string.internal.caseInsensitiveCompare = function (a, b) {\n    var c = String(a).toLowerCase(),\n        d = String(b).toLowerCase();\n    return c < d ? -1 : c == d ? 0 : 1;\n  };\n\n  goog.string.internal.newLineToBr = function (a, b) {\n    return a.replace(/(\\r\\n|\\r|\\n)/g, b ? \"<br />\" : \"<br>\");\n  };\n\n  goog.string.internal.htmlEscape = function (a, b) {\n    if (b) a = a.replace(goog.string.internal.AMP_RE_, \"&amp;\").replace(goog.string.internal.LT_RE_, \"&lt;\").replace(goog.string.internal.GT_RE_, \"&gt;\").replace(goog.string.internal.QUOT_RE_, \"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\").replace(goog.string.internal.NULL_RE_, \"&#0;\");else {\n      if (!goog.string.internal.ALL_RE_.test(a)) return a;\n      -1 != a.indexOf(\"&\") && (a = a.replace(goog.string.internal.AMP_RE_, \"&amp;\"));\n      -1 != a.indexOf(\"<\") && (a = a.replace(goog.string.internal.LT_RE_, \"&lt;\"));\n      -1 != a.indexOf(\">\") && (a = a.replace(goog.string.internal.GT_RE_, \"&gt;\"));\n      -1 != a.indexOf('\"') && (a = a.replace(goog.string.internal.QUOT_RE_, \"&quot;\"));\n      -1 != a.indexOf(\"'\") && (a = a.replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\"));\n      -1 != a.indexOf(\"\\x00\") && (a = a.replace(goog.string.internal.NULL_RE_, \"&#0;\"));\n    }\n    return a;\n  };\n\n  goog.string.internal.AMP_RE_ = /&/g;\n  goog.string.internal.LT_RE_ = /</g;\n  goog.string.internal.GT_RE_ = />/g;\n  goog.string.internal.QUOT_RE_ = /\"/g;\n  goog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\n  goog.string.internal.NULL_RE_ = /\\x00/g;\n  goog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\n\n  goog.string.internal.whitespaceEscape = function (a, b) {\n    return goog.string.internal.newLineToBr(a.replace(/  /g, \" &#160;\"), b);\n  };\n\n  goog.string.internal.contains = function (a, b) {\n    return -1 != a.indexOf(b);\n  };\n\n  goog.string.internal.caseInsensitiveContains = function (a, b) {\n    return goog.string.internal.contains(a.toLowerCase(), b.toLowerCase());\n  };\n\n  goog.string.internal.compareVersions = function (a, b) {\n    for (var c = 0, d = goog.string.internal.trim(String(a)).split(\".\"), e = goog.string.internal.trim(String(b)).split(\".\"), f = Math.max(d.length, e.length), g = 0; 0 == c && g < f; g++) {\n      var h = d[g] || \"\",\n          k = e[g] || \"\";\n\n      do {\n        h = /(\\d*)(\\D*)(.*)/.exec(h) || [\"\", \"\", \"\", \"\"];\n        k = /(\\d*)(\\D*)(.*)/.exec(k) || [\"\", \"\", \"\", \"\"];\n        if (0 == h[0].length && 0 == k[0].length) break;\n        c = 0 == h[1].length ? 0 : parseInt(h[1], 10);\n        var l = 0 == k[1].length ? 0 : parseInt(k[1], 10);\n        c = goog.string.internal.compareElements_(c, l) || goog.string.internal.compareElements_(0 == h[2].length, 0 == k[2].length) || goog.string.internal.compareElements_(h[2], k[2]);\n        h = h[3];\n        k = k[3];\n      } while (0 == c);\n    }\n\n    return c;\n  };\n\n  goog.string.internal.compareElements_ = function (a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  };\n\n  goog.labs = {};\n  goog.labs.userAgent = {};\n  goog.labs.userAgent.util = {};\n\n  goog.labs.userAgent.util.getNativeUserAgentString_ = function () {\n    var a = goog.labs.userAgent.util.getNavigator_();\n    return a && (a = a.userAgent) ? a : \"\";\n  };\n\n  goog.labs.userAgent.util.getNavigator_ = function () {\n    return goog.global.navigator;\n  };\n\n  goog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();\n\n  goog.labs.userAgent.util.setUserAgent = function (a) {\n    goog.labs.userAgent.util.userAgent_ = a || goog.labs.userAgent.util.getNativeUserAgentString_();\n  };\n\n  goog.labs.userAgent.util.getUserAgent = function () {\n    return goog.labs.userAgent.util.userAgent_;\n  };\n\n  goog.labs.userAgent.util.matchUserAgent = function (a) {\n    var b = goog.labs.userAgent.util.getUserAgent();\n    return goog.string.internal.contains(b, a);\n  };\n\n  goog.labs.userAgent.util.matchUserAgentIgnoreCase = function (a) {\n    var b = goog.labs.userAgent.util.getUserAgent();\n    return goog.string.internal.caseInsensitiveContains(b, a);\n  };\n\n  goog.labs.userAgent.util.extractVersionTuples = function (a) {\n    for (var b = RegExp(\"(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?\", \"g\"), c = [], d; d = b.exec(a);) c.push([d[1], d[2], d[3] || void 0]);\n\n    return c;\n  };\n\n  goog.object = {};\n\n  goog.object.is = function (a, b) {\n    return a === b ? 0 !== a || 1 / a === 1 / b : a !== a && b !== b;\n  };\n\n  goog.object.forEach = function (a, b, c) {\n    for (var d in a) b.call(c, a[d], d, a);\n  };\n\n  goog.object.filter = function (a, b, c) {\n    var d = {},\n        e;\n\n    for (e in a) b.call(c, a[e], e, a) && (d[e] = a[e]);\n\n    return d;\n  };\n\n  goog.object.map = function (a, b, c) {\n    var d = {},\n        e;\n\n    for (e in a) d[e] = b.call(c, a[e], e, a);\n\n    return d;\n  };\n\n  goog.object.some = function (a, b, c) {\n    for (var d in a) if (b.call(c, a[d], d, a)) return !0;\n\n    return !1;\n  };\n\n  goog.object.every = function (a, b, c) {\n    for (var d in a) if (!b.call(c, a[d], d, a)) return !1;\n\n    return !0;\n  };\n\n  goog.object.getCount = function (a) {\n    var b = 0,\n        c;\n\n    for (c in a) b++;\n\n    return b;\n  };\n\n  goog.object.getAnyKey = function (a) {\n    for (var b in a) return b;\n  };\n\n  goog.object.getAnyValue = function (a) {\n    for (var b in a) return a[b];\n  };\n\n  goog.object.contains = function (a, b) {\n    return goog.object.containsValue(a, b);\n  };\n\n  goog.object.getValues = function (a) {\n    var b = [],\n        c = 0,\n        d;\n\n    for (d in a) b[c++] = a[d];\n\n    return b;\n  };\n\n  goog.object.getKeys = function (a) {\n    var b = [],\n        c = 0,\n        d;\n\n    for (d in a) b[c++] = d;\n\n    return b;\n  };\n\n  goog.object.getValueByKeys = function (a, b) {\n    var c = goog.isArrayLike(b),\n        d = c ? b : arguments;\n\n    for (c = c ? 0 : 1; c < d.length; c++) {\n      if (null == a) return;\n      a = a[d[c]];\n    }\n\n    return a;\n  };\n\n  goog.object.containsKey = function (a, b) {\n    return null !== a && b in a;\n  };\n\n  goog.object.containsValue = function (a, b) {\n    for (var c in a) if (a[c] == b) return !0;\n\n    return !1;\n  };\n\n  goog.object.findKey = function (a, b, c) {\n    for (var d in a) if (b.call(c, a[d], d, a)) return d;\n  };\n\n  goog.object.findValue = function (a, b, c) {\n    return (b = goog.object.findKey(a, b, c)) && a[b];\n  };\n\n  goog.object.isEmpty = function (a) {\n    for (var b in a) return !1;\n\n    return !0;\n  };\n\n  goog.object.clear = function (a) {\n    for (var b in a) delete a[b];\n  };\n\n  goog.object.remove = function (a, b) {\n    var c;\n    (c = b in a) && delete a[b];\n    return c;\n  };\n\n  goog.object.add = function (a, b, c) {\n    if (null !== a && b in a) throw Error('The object already contains the key \"' + b + '\"');\n    goog.object.set(a, b, c);\n  };\n\n  goog.object.get = function (a, b, c) {\n    return null !== a && b in a ? a[b] : c;\n  };\n\n  goog.object.set = function (a, b, c) {\n    a[b] = c;\n  };\n\n  goog.object.setIfUndefined = function (a, b, c) {\n    return b in a ? a[b] : a[b] = c;\n  };\n\n  goog.object.setWithReturnValueIfNotSet = function (a, b, c) {\n    if (b in a) return a[b];\n    c = c();\n    return a[b] = c;\n  };\n\n  goog.object.equals = function (a, b) {\n    for (var c in a) if (!(c in b) || a[c] !== b[c]) return !1;\n\n    for (c in b) if (!(c in a)) return !1;\n\n    return !0;\n  };\n\n  goog.object.clone = function (a) {\n    var b = {},\n        c;\n\n    for (c in a) b[c] = a[c];\n\n    return b;\n  };\n\n  goog.object.unsafeClone = function (a) {\n    var b = goog.typeOf(a);\n\n    if (\"object\" == b || \"array\" == b) {\n      if (goog.isFunction(a.clone)) return a.clone();\n      b = \"array\" == b ? [] : {};\n\n      for (var c in a) b[c] = goog.object.unsafeClone(a[c]);\n\n      return b;\n    }\n\n    return a;\n  };\n\n  goog.object.transpose = function (a) {\n    var b = {},\n        c;\n\n    for (c in a) b[a[c]] = c;\n\n    return b;\n  };\n\n  goog.object.PROTOTYPE_FIELDS_ = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\n\n  goog.object.extend = function (a, b) {\n    for (var c, d, e = 1; e < arguments.length; e++) {\n      d = arguments[e];\n\n      for (c in d) a[c] = d[c];\n\n      for (var f = 0; f < goog.object.PROTOTYPE_FIELDS_.length; f++) c = goog.object.PROTOTYPE_FIELDS_[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  };\n\n  goog.object.create = function (a) {\n    var b = arguments.length;\n    if (1 == b && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]);\n    if (b % 2) throw Error(\"Uneven number of arguments\");\n\n    for (var c = {}, d = 0; d < b; d += 2) c[arguments[d]] = arguments[d + 1];\n\n    return c;\n  };\n\n  goog.object.createSet = function (a) {\n    var b = arguments.length;\n    if (1 == b && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]);\n\n    for (var c = {}, d = 0; d < b; d++) c[arguments[d]] = !0;\n\n    return c;\n  };\n\n  goog.object.createImmutableView = function (a) {\n    var b = a;\n    Object.isFrozen && !Object.isFrozen(a) && (b = Object.create(a), Object.freeze(b));\n    return b;\n  };\n\n  goog.object.isImmutableView = function (a) {\n    return !!Object.isFrozen && Object.isFrozen(a);\n  };\n\n  goog.object.getAllPropertyNames = function (a, b, c) {\n    if (!a) return [];\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) return goog.object.getKeys(a);\n\n    for (var d = {}; a && (a !== Object.prototype || b) && (a !== Function.prototype || c);) {\n      for (var e = Object.getOwnPropertyNames(a), f = 0; f < e.length; f++) d[e[f]] = !0;\n\n      a = Object.getPrototypeOf(a);\n    }\n\n    return goog.object.getKeys(d);\n  };\n\n  goog.labs.userAgent.browser = {};\n\n  goog.labs.userAgent.browser.matchOpera_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Opera\");\n  };\n\n  goog.labs.userAgent.browser.matchIE_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Trident\") || goog.labs.userAgent.util.matchUserAgent(\"MSIE\");\n  };\n\n  goog.labs.userAgent.browser.matchEdgeHtml_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Edge\");\n  };\n\n  goog.labs.userAgent.browser.matchEdgeChromium_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Edg/\");\n  };\n\n  goog.labs.userAgent.browser.matchOperaChromium_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"OPR\");\n  };\n\n  goog.labs.userAgent.browser.matchFirefox_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Firefox\") || goog.labs.userAgent.util.matchUserAgent(\"FxiOS\");\n  };\n\n  goog.labs.userAgent.browser.matchSafari_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Safari\") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdgeHtml_() || goog.labs.userAgent.browser.matchEdgeChromium_() || goog.labs.userAgent.browser.matchOperaChromium_() || goog.labs.userAgent.browser.matchFirefox_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent(\"Android\"));\n  };\n\n  goog.labs.userAgent.browser.matchCoast_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Coast\");\n  };\n\n  goog.labs.userAgent.browser.matchIosWebview_ = function () {\n    return (goog.labs.userAgent.util.matchUserAgent(\"iPad\") || goog.labs.userAgent.util.matchUserAgent(\"iPhone\")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && !goog.labs.userAgent.browser.matchFirefox_() && goog.labs.userAgent.util.matchUserAgent(\"AppleWebKit\");\n  };\n\n  goog.labs.userAgent.browser.matchChrome_ = function () {\n    return (goog.labs.userAgent.util.matchUserAgent(\"Chrome\") || goog.labs.userAgent.util.matchUserAgent(\"CriOS\")) && !goog.labs.userAgent.browser.matchEdgeHtml_();\n  };\n\n  goog.labs.userAgent.browser.matchAndroidBrowser_ = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Android\") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());\n  };\n\n  goog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;\n  goog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;\n  goog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdgeHtml_;\n  goog.labs.userAgent.browser.isEdgeChromium = goog.labs.userAgent.browser.matchEdgeChromium_;\n  goog.labs.userAgent.browser.isOperaChromium = goog.labs.userAgent.browser.matchOperaChromium_;\n  goog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;\n  goog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;\n  goog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;\n  goog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;\n  goog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;\n  goog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;\n\n  goog.labs.userAgent.browser.isSilk = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Silk\");\n  };\n\n  goog.labs.userAgent.browser.getVersion = function () {\n    function a(a) {\n      a = goog.array.find(a, d);\n      return c[a] || \"\";\n    }\n\n    var b = goog.labs.userAgent.util.getUserAgent();\n    if (goog.labs.userAgent.browser.isIE()) return goog.labs.userAgent.browser.getIEVersion_(b);\n    b = goog.labs.userAgent.util.extractVersionTuples(b);\n    var c = {};\n    goog.array.forEach(b, function (a) {\n      c[a[0]] = a[1];\n    });\n    var d = goog.partial(goog.object.containsKey, c);\n    return goog.labs.userAgent.browser.isOpera() ? a([\"Version\", \"Opera\"]) : goog.labs.userAgent.browser.isEdge() ? a([\"Edge\"]) : goog.labs.userAgent.browser.isEdgeChromium() ? a([\"Edg\"]) : goog.labs.userAgent.browser.isChrome() ? a([\"Chrome\", \"CriOS\"]) : (b = b[2]) && b[1] || \"\";\n  };\n\n  goog.labs.userAgent.browser.isVersionOrHigher = function (a) {\n    return 0 <= goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(), a);\n  };\n\n  goog.labs.userAgent.browser.getIEVersion_ = function (a) {\n    var b = /rv: *([\\d\\.]*)/.exec(a);\n    if (b && b[1]) return b[1];\n    b = \"\";\n    var c = /MSIE +([\\d\\.]+)/.exec(a);\n    if (c && c[1]) if (a = /Trident\\/(\\d.\\d)/.exec(a), \"7.0\" == c[1]) {\n      if (a && a[1]) switch (a[1]) {\n        case \"4.0\":\n          b = \"8.0\";\n          break;\n\n        case \"5.0\":\n          b = \"9.0\";\n          break;\n\n        case \"6.0\":\n          b = \"10.0\";\n          break;\n\n        case \"7.0\":\n          b = \"11.0\";\n      } else b = \"7.0\";\n    } else b = c[1];\n    return b;\n  };\n\n  goog.dom.asserts = {};\n\n  goog.dom.asserts.assertIsLocation = function (a) {\n    if (goog.asserts.ENABLE_ASSERTS) {\n      var b = goog.dom.asserts.getWindow_(a);\n      b && (!a || !(a instanceof b.Location) && a instanceof b.Element) && goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\", goog.dom.asserts.debugStringForType_(a));\n    }\n\n    return a;\n  };\n\n  goog.dom.asserts.assertIsElementType_ = function (a, b) {\n    if (goog.asserts.ENABLE_ASSERTS) {\n      var c = goog.dom.asserts.getWindow_(a);\n      c && \"undefined\" != typeof c[b] && (a && (a instanceof c[b] || !(a instanceof c.Location || a instanceof c.Element)) || goog.asserts.fail(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\", b, goog.dom.asserts.debugStringForType_(a)));\n    }\n\n    return a;\n  };\n\n  goog.dom.asserts.assertIsHTMLAnchorElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLAnchorElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLButtonElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLButtonElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLLinkElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLLinkElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLImageElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLImageElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLAudioElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLAudioElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLVideoElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLVideoElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLInputElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLInputElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLTextAreaElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLTextAreaElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLCanvasElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLCanvasElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLEmbedElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLEmbedElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLFormElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLFormElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLFrameElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLFrameElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLIFrameElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLIFrameElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLObjectElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLObjectElement\");\n  };\n\n  goog.dom.asserts.assertIsHTMLScriptElement = function (a) {\n    return goog.dom.asserts.assertIsElementType_(a, \"HTMLScriptElement\");\n  };\n\n  goog.dom.asserts.debugStringForType_ = function (a) {\n    if (goog.isObject(a)) try {\n      return a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a);\n    } catch (b) {\n      return \"<object could not be stringified>\";\n    } else return void 0 === a ? \"undefined\" : null === a ? \"null\" : typeof a;\n  };\n\n  goog.dom.asserts.getWindow_ = function (a) {\n    try {\n      var b = a && a.ownerDocument,\n          c = b && (b.defaultView || b.parentWindow);\n      c = c || goog.global;\n      if (c.Element && c.Location) return c;\n    } catch (d) {}\n\n    return null;\n  };\n\n  goog.functions = {};\n\n  goog.functions.constant = function (a) {\n    return function () {\n      return a;\n    };\n  };\n\n  goog.functions.FALSE = function () {\n    return !1;\n  };\n\n  goog.functions.TRUE = function () {\n    return !0;\n  };\n\n  goog.functions.NULL = function () {\n    return null;\n  };\n\n  goog.functions.identity = function (a, b) {\n    return a;\n  };\n\n  goog.functions.error = function (a) {\n    return function () {\n      throw Error(a);\n    };\n  };\n\n  goog.functions.fail = function (a) {\n    return function () {\n      throw a;\n    };\n  };\n\n  goog.functions.lock = function (a, b) {\n    b = b || 0;\n    return function () {\n      return a.apply(this, Array.prototype.slice.call(arguments, 0, b));\n    };\n  };\n\n  goog.functions.nth = function (a) {\n    return function () {\n      return arguments[a];\n    };\n  };\n\n  goog.functions.partialRight = function (a, b) {\n    var c = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      var b = Array.prototype.slice.call(arguments);\n      b.push.apply(b, c);\n      return a.apply(this, b);\n    };\n  };\n\n  goog.functions.withReturnValue = function (a, b) {\n    return goog.functions.sequence(a, goog.functions.constant(b));\n  };\n\n  goog.functions.equalTo = function (a, b) {\n    return function (c) {\n      return b ? a == c : a === c;\n    };\n  };\n\n  goog.functions.compose = function (a, b) {\n    var c = arguments,\n        d = c.length;\n    return function () {\n      var a;\n      d && (a = c[d - 1].apply(this, arguments));\n\n      for (var b = d - 2; 0 <= b; b--) a = c[b].call(this, a);\n\n      return a;\n    };\n  };\n\n  goog.functions.sequence = function (a) {\n    var b = arguments,\n        c = b.length;\n    return function () {\n      for (var a, e = 0; e < c; e++) a = b[e].apply(this, arguments);\n\n      return a;\n    };\n  };\n\n  goog.functions.and = function (a) {\n    var b = arguments,\n        c = b.length;\n    return function () {\n      for (var a = 0; a < c; a++) if (!b[a].apply(this, arguments)) return !1;\n\n      return !0;\n    };\n  };\n\n  goog.functions.or = function (a) {\n    var b = arguments,\n        c = b.length;\n    return function () {\n      for (var a = 0; a < c; a++) if (b[a].apply(this, arguments)) return !0;\n\n      return !1;\n    };\n  };\n\n  goog.functions.not = function (a) {\n    return function () {\n      return !a.apply(this, arguments);\n    };\n  };\n\n  goog.functions.create = function (a, b) {\n    var c = function () {};\n\n    c.prototype = a.prototype;\n    c = new c();\n    a.apply(c, Array.prototype.slice.call(arguments, 1));\n    return c;\n  };\n\n  goog.functions.CACHE_RETURN_VALUE = !0;\n\n  goog.functions.cacheReturnValue = function (a) {\n    var b = !1,\n        c;\n    return function () {\n      if (!goog.functions.CACHE_RETURN_VALUE) return a();\n      b || (c = a(), b = !0);\n      return c;\n    };\n  };\n\n  goog.functions.once = function (a) {\n    var b = a;\n    return function () {\n      if (b) {\n        var a = b;\n        b = null;\n        a();\n      }\n    };\n  };\n\n  goog.functions.debounce = function (a, b, c) {\n    var d = 0;\n    return function (e) {\n      goog.global.clearTimeout(d);\n      var f = arguments;\n      d = goog.global.setTimeout(function () {\n        a.apply(c, f);\n      }, b);\n    };\n  };\n\n  goog.functions.throttle = function (a, b, c) {\n    var d = 0,\n        e = !1,\n        f = [],\n        g = function () {\n      d = 0;\n      e && (e = !1, h());\n    },\n        h = function () {\n      d = goog.global.setTimeout(g, b);\n      a.apply(c, f);\n    };\n\n    return function (a) {\n      f = arguments;\n      d ? e = !0 : h();\n    };\n  };\n\n  goog.functions.rateLimit = function (a, b, c) {\n    var d = 0,\n        e = function () {\n      d = 0;\n    };\n\n    return function (f) {\n      d || (d = goog.global.setTimeout(e, b), a.apply(c, arguments));\n    };\n  };\n\n  goog.dom.HtmlElement = function () {};\n\n  goog.dom.TagName = function (a) {\n    this.tagName_ = a;\n  };\n\n  goog.dom.TagName.prototype.toString = function () {\n    return this.tagName_;\n  };\n\n  goog.dom.TagName.A = new goog.dom.TagName(\"A\");\n  goog.dom.TagName.ABBR = new goog.dom.TagName(\"ABBR\");\n  goog.dom.TagName.ACRONYM = new goog.dom.TagName(\"ACRONYM\");\n  goog.dom.TagName.ADDRESS = new goog.dom.TagName(\"ADDRESS\");\n  goog.dom.TagName.APPLET = new goog.dom.TagName(\"APPLET\");\n  goog.dom.TagName.AREA = new goog.dom.TagName(\"AREA\");\n  goog.dom.TagName.ARTICLE = new goog.dom.TagName(\"ARTICLE\");\n  goog.dom.TagName.ASIDE = new goog.dom.TagName(\"ASIDE\");\n  goog.dom.TagName.AUDIO = new goog.dom.TagName(\"AUDIO\");\n  goog.dom.TagName.B = new goog.dom.TagName(\"B\");\n  goog.dom.TagName.BASE = new goog.dom.TagName(\"BASE\");\n  goog.dom.TagName.BASEFONT = new goog.dom.TagName(\"BASEFONT\");\n  goog.dom.TagName.BDI = new goog.dom.TagName(\"BDI\");\n  goog.dom.TagName.BDO = new goog.dom.TagName(\"BDO\");\n  goog.dom.TagName.BIG = new goog.dom.TagName(\"BIG\");\n  goog.dom.TagName.BLOCKQUOTE = new goog.dom.TagName(\"BLOCKQUOTE\");\n  goog.dom.TagName.BODY = new goog.dom.TagName(\"BODY\");\n  goog.dom.TagName.BR = new goog.dom.TagName(\"BR\");\n  goog.dom.TagName.BUTTON = new goog.dom.TagName(\"BUTTON\");\n  goog.dom.TagName.CANVAS = new goog.dom.TagName(\"CANVAS\");\n  goog.dom.TagName.CAPTION = new goog.dom.TagName(\"CAPTION\");\n  goog.dom.TagName.CENTER = new goog.dom.TagName(\"CENTER\");\n  goog.dom.TagName.CITE = new goog.dom.TagName(\"CITE\");\n  goog.dom.TagName.CODE = new goog.dom.TagName(\"CODE\");\n  goog.dom.TagName.COL = new goog.dom.TagName(\"COL\");\n  goog.dom.TagName.COLGROUP = new goog.dom.TagName(\"COLGROUP\");\n  goog.dom.TagName.COMMAND = new goog.dom.TagName(\"COMMAND\");\n  goog.dom.TagName.DATA = new goog.dom.TagName(\"DATA\");\n  goog.dom.TagName.DATALIST = new goog.dom.TagName(\"DATALIST\");\n  goog.dom.TagName.DD = new goog.dom.TagName(\"DD\");\n  goog.dom.TagName.DEL = new goog.dom.TagName(\"DEL\");\n  goog.dom.TagName.DETAILS = new goog.dom.TagName(\"DETAILS\");\n  goog.dom.TagName.DFN = new goog.dom.TagName(\"DFN\");\n  goog.dom.TagName.DIALOG = new goog.dom.TagName(\"DIALOG\");\n  goog.dom.TagName.DIR = new goog.dom.TagName(\"DIR\");\n  goog.dom.TagName.DIV = new goog.dom.TagName(\"DIV\");\n  goog.dom.TagName.DL = new goog.dom.TagName(\"DL\");\n  goog.dom.TagName.DT = new goog.dom.TagName(\"DT\");\n  goog.dom.TagName.EM = new goog.dom.TagName(\"EM\");\n  goog.dom.TagName.EMBED = new goog.dom.TagName(\"EMBED\");\n  goog.dom.TagName.FIELDSET = new goog.dom.TagName(\"FIELDSET\");\n  goog.dom.TagName.FIGCAPTION = new goog.dom.TagName(\"FIGCAPTION\");\n  goog.dom.TagName.FIGURE = new goog.dom.TagName(\"FIGURE\");\n  goog.dom.TagName.FONT = new goog.dom.TagName(\"FONT\");\n  goog.dom.TagName.FOOTER = new goog.dom.TagName(\"FOOTER\");\n  goog.dom.TagName.FORM = new goog.dom.TagName(\"FORM\");\n  goog.dom.TagName.FRAME = new goog.dom.TagName(\"FRAME\");\n  goog.dom.TagName.FRAMESET = new goog.dom.TagName(\"FRAMESET\");\n  goog.dom.TagName.H1 = new goog.dom.TagName(\"H1\");\n  goog.dom.TagName.H2 = new goog.dom.TagName(\"H2\");\n  goog.dom.TagName.H3 = new goog.dom.TagName(\"H3\");\n  goog.dom.TagName.H4 = new goog.dom.TagName(\"H4\");\n  goog.dom.TagName.H5 = new goog.dom.TagName(\"H5\");\n  goog.dom.TagName.H6 = new goog.dom.TagName(\"H6\");\n  goog.dom.TagName.HEAD = new goog.dom.TagName(\"HEAD\");\n  goog.dom.TagName.HEADER = new goog.dom.TagName(\"HEADER\");\n  goog.dom.TagName.HGROUP = new goog.dom.TagName(\"HGROUP\");\n  goog.dom.TagName.HR = new goog.dom.TagName(\"HR\");\n  goog.dom.TagName.HTML = new goog.dom.TagName(\"HTML\");\n  goog.dom.TagName.I = new goog.dom.TagName(\"I\");\n  goog.dom.TagName.IFRAME = new goog.dom.TagName(\"IFRAME\");\n  goog.dom.TagName.IMG = new goog.dom.TagName(\"IMG\");\n  goog.dom.TagName.INPUT = new goog.dom.TagName(\"INPUT\");\n  goog.dom.TagName.INS = new goog.dom.TagName(\"INS\");\n  goog.dom.TagName.ISINDEX = new goog.dom.TagName(\"ISINDEX\");\n  goog.dom.TagName.KBD = new goog.dom.TagName(\"KBD\");\n  goog.dom.TagName.KEYGEN = new goog.dom.TagName(\"KEYGEN\");\n  goog.dom.TagName.LABEL = new goog.dom.TagName(\"LABEL\");\n  goog.dom.TagName.LEGEND = new goog.dom.TagName(\"LEGEND\");\n  goog.dom.TagName.LI = new goog.dom.TagName(\"LI\");\n  goog.dom.TagName.LINK = new goog.dom.TagName(\"LINK\");\n  goog.dom.TagName.MAIN = new goog.dom.TagName(\"MAIN\");\n  goog.dom.TagName.MAP = new goog.dom.TagName(\"MAP\");\n  goog.dom.TagName.MARK = new goog.dom.TagName(\"MARK\");\n  goog.dom.TagName.MATH = new goog.dom.TagName(\"MATH\");\n  goog.dom.TagName.MENU = new goog.dom.TagName(\"MENU\");\n  goog.dom.TagName.MENUITEM = new goog.dom.TagName(\"MENUITEM\");\n  goog.dom.TagName.META = new goog.dom.TagName(\"META\");\n  goog.dom.TagName.METER = new goog.dom.TagName(\"METER\");\n  goog.dom.TagName.NAV = new goog.dom.TagName(\"NAV\");\n  goog.dom.TagName.NOFRAMES = new goog.dom.TagName(\"NOFRAMES\");\n  goog.dom.TagName.NOSCRIPT = new goog.dom.TagName(\"NOSCRIPT\");\n  goog.dom.TagName.OBJECT = new goog.dom.TagName(\"OBJECT\");\n  goog.dom.TagName.OL = new goog.dom.TagName(\"OL\");\n  goog.dom.TagName.OPTGROUP = new goog.dom.TagName(\"OPTGROUP\");\n  goog.dom.TagName.OPTION = new goog.dom.TagName(\"OPTION\");\n  goog.dom.TagName.OUTPUT = new goog.dom.TagName(\"OUTPUT\");\n  goog.dom.TagName.P = new goog.dom.TagName(\"P\");\n  goog.dom.TagName.PARAM = new goog.dom.TagName(\"PARAM\");\n  goog.dom.TagName.PICTURE = new goog.dom.TagName(\"PICTURE\");\n  goog.dom.TagName.PRE = new goog.dom.TagName(\"PRE\");\n  goog.dom.TagName.PROGRESS = new goog.dom.TagName(\"PROGRESS\");\n  goog.dom.TagName.Q = new goog.dom.TagName(\"Q\");\n  goog.dom.TagName.RP = new goog.dom.TagName(\"RP\");\n  goog.dom.TagName.RT = new goog.dom.TagName(\"RT\");\n  goog.dom.TagName.RTC = new goog.dom.TagName(\"RTC\");\n  goog.dom.TagName.RUBY = new goog.dom.TagName(\"RUBY\");\n  goog.dom.TagName.S = new goog.dom.TagName(\"S\");\n  goog.dom.TagName.SAMP = new goog.dom.TagName(\"SAMP\");\n  goog.dom.TagName.SCRIPT = new goog.dom.TagName(\"SCRIPT\");\n  goog.dom.TagName.SECTION = new goog.dom.TagName(\"SECTION\");\n  goog.dom.TagName.SELECT = new goog.dom.TagName(\"SELECT\");\n  goog.dom.TagName.SMALL = new goog.dom.TagName(\"SMALL\");\n  goog.dom.TagName.SOURCE = new goog.dom.TagName(\"SOURCE\");\n  goog.dom.TagName.SPAN = new goog.dom.TagName(\"SPAN\");\n  goog.dom.TagName.STRIKE = new goog.dom.TagName(\"STRIKE\");\n  goog.dom.TagName.STRONG = new goog.dom.TagName(\"STRONG\");\n  goog.dom.TagName.STYLE = new goog.dom.TagName(\"STYLE\");\n  goog.dom.TagName.SUB = new goog.dom.TagName(\"SUB\");\n  goog.dom.TagName.SUMMARY = new goog.dom.TagName(\"SUMMARY\");\n  goog.dom.TagName.SUP = new goog.dom.TagName(\"SUP\");\n  goog.dom.TagName.SVG = new goog.dom.TagName(\"SVG\");\n  goog.dom.TagName.TABLE = new goog.dom.TagName(\"TABLE\");\n  goog.dom.TagName.TBODY = new goog.dom.TagName(\"TBODY\");\n  goog.dom.TagName.TD = new goog.dom.TagName(\"TD\");\n  goog.dom.TagName.TEMPLATE = new goog.dom.TagName(\"TEMPLATE\");\n  goog.dom.TagName.TEXTAREA = new goog.dom.TagName(\"TEXTAREA\");\n  goog.dom.TagName.TFOOT = new goog.dom.TagName(\"TFOOT\");\n  goog.dom.TagName.TH = new goog.dom.TagName(\"TH\");\n  goog.dom.TagName.THEAD = new goog.dom.TagName(\"THEAD\");\n  goog.dom.TagName.TIME = new goog.dom.TagName(\"TIME\");\n  goog.dom.TagName.TITLE = new goog.dom.TagName(\"TITLE\");\n  goog.dom.TagName.TR = new goog.dom.TagName(\"TR\");\n  goog.dom.TagName.TRACK = new goog.dom.TagName(\"TRACK\");\n  goog.dom.TagName.TT = new goog.dom.TagName(\"TT\");\n  goog.dom.TagName.U = new goog.dom.TagName(\"U\");\n  goog.dom.TagName.UL = new goog.dom.TagName(\"UL\");\n  goog.dom.TagName.VAR = new goog.dom.TagName(\"VAR\");\n  goog.dom.TagName.VIDEO = new goog.dom.TagName(\"VIDEO\");\n  goog.dom.TagName.WBR = new goog.dom.TagName(\"WBR\");\n  goog.dom.tags = {};\n  goog.dom.tags.VOID_TAGS_ = {\n    area: !0,\n    base: !0,\n    br: !0,\n    col: !0,\n    command: !0,\n    embed: !0,\n    hr: !0,\n    img: !0,\n    input: !0,\n    keygen: !0,\n    link: !0,\n    meta: !0,\n    param: !0,\n    source: !0,\n    track: !0,\n    wbr: !0\n  };\n\n  goog.dom.tags.isVoidTag = function (a) {\n    return !0 === goog.dom.tags.VOID_TAGS_[a];\n  };\n\n  goog.html = {};\n  goog.html.trustedtypes = {};\n  goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY = goog.TRUSTED_TYPES_POLICY_NAME ? goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + \"#html\") : null;\n\n  goog.string.TypedString = function () {};\n\n  goog.string.Const = function (a, b) {\n    this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = a === goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ && b || \"\";\n    this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;\n  };\n\n  goog.string.Const.prototype.implementsGoogStringTypedString = !0;\n\n  goog.string.Const.prototype.getTypedStringValue = function () {\n    return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n  };\n\n  goog.string.Const.prototype.toString = function () {\n    return \"Const{\" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + \"}\";\n  };\n\n  goog.string.Const.unwrap = function (a) {\n    if (a instanceof goog.string.Const && a.constructor === goog.string.Const && a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n    goog.asserts.fail(\"expected object of type Const, got '\" + a + \"'\");\n    return \"type_error:Const\";\n  };\n\n  goog.string.Const.from = function (a) {\n    return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, a);\n  };\n\n  goog.string.Const.TYPE_MARKER_ = {};\n  goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};\n  goog.string.Const.EMPTY = goog.string.Const.from(\"\");\n\n  goog.html.SafeScript = function () {\n    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = \"\";\n    this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n  };\n\n  goog.html.SafeScript.prototype.implementsGoogStringTypedString = !0;\n  goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.SafeScript.fromConstant = function (a) {\n    a = goog.string.Const.unwrap(a);\n    return 0 === a.length ? goog.html.SafeScript.EMPTY : goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeScript.fromConstantAndArgs = function (a, b) {\n    for (var c = [], d = 1; d < arguments.length; d++) c.push(goog.html.SafeScript.stringify_(arguments[d]));\n\n    return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"(\" + goog.string.Const.unwrap(a) + \")(\" + c.join(\", \") + \");\");\n  };\n\n  goog.html.SafeScript.fromJson = function (a) {\n    return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(a));\n  };\n\n  goog.html.SafeScript.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n  };\n\n  goog.DEBUG && (goog.html.SafeScript.prototype.toString = function () {\n    return \"SafeScript{\" + this.privateDoNotAccessOrElseSafeScriptWrappedValue_ + \"}\";\n  });\n\n  goog.html.SafeScript.unwrap = function (a) {\n    return goog.html.SafeScript.unwrapTrustedScript(a).toString();\n  };\n\n  goog.html.SafeScript.unwrapTrustedScript = function (a) {\n    if (a instanceof goog.html.SafeScript && a.constructor === goog.html.SafeScript && a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n    goog.asserts.fail(\"expected object of type SafeScript, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:SafeScript\";\n  };\n\n  goog.html.SafeScript.stringify_ = function (a) {\n    return JSON.stringify(a).replace(/</g, \"\\\\x3c\");\n  };\n\n  goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function (a) {\n    return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(a);\n  };\n\n  goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_ = function (a) {\n    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(a) : a;\n    return this;\n  };\n\n  goog.html.SafeScript.EMPTY = goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\");\n  goog.fs = {};\n  goog.fs.url = {};\n\n  goog.fs.url.createObjectUrl = function (a) {\n    return goog.fs.url.getUrlObject_().createObjectURL(a);\n  };\n\n  goog.fs.url.revokeObjectUrl = function (a) {\n    goog.fs.url.getUrlObject_().revokeObjectURL(a);\n  };\n\n  goog.fs.url.getUrlObject_ = function () {\n    var a = goog.fs.url.findUrlObject_();\n    if (null != a) return a;\n    throw Error(\"This browser doesn't seem to support blob URLs\");\n  };\n\n  goog.fs.url.findUrlObject_ = function () {\n    return goog.isDef(goog.global.URL) && goog.isDef(goog.global.URL.createObjectURL) ? goog.global.URL : goog.isDef(goog.global.webkitURL) && goog.isDef(goog.global.webkitURL.createObjectURL) ? goog.global.webkitURL : goog.isDef(goog.global.createObjectURL) ? goog.global : null;\n  };\n\n  goog.fs.url.browserSupportsObjectUrls = function () {\n    return null != goog.fs.url.findUrlObject_();\n  };\n\n  goog.i18n = {};\n  goog.i18n.bidi = {};\n  goog.i18n.bidi.FORCE_RTL = !1;\n  goog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || (\"ar\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"fa\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"he\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"iw\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ps\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"sd\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ug\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ur\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"yi\" == goog.LOCALE.substring(0, 2).toLowerCase()) && (2 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) || 3 <= goog.LOCALE.length && \"ckb\" == goog.LOCALE.substring(0, 3).toLowerCase() && (3 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) || 7 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) && (\"adlm\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"arab\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"hebr\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"nkoo\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"rohg\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"thaa\" == goog.LOCALE.substring(3, 7).toLowerCase()) || 8 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) && (\"adlm\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"arab\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"hebr\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"nkoo\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"rohg\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"thaa\" == goog.LOCALE.substring(4, 8).toLowerCase());\n  goog.i18n.bidi.Format = {\n    LRE: \"\\u202a\",\n    RLE: \"\\u202b\",\n    PDF: \"\\u202c\",\n    LRM: \"\\u200e\",\n    RLM: \"\\u200f\"\n  };\n  goog.i18n.bidi.Dir = {\n    LTR: 1,\n    RTL: -1,\n    NEUTRAL: 0\n  };\n  goog.i18n.bidi.RIGHT = \"right\";\n  goog.i18n.bidi.LEFT = \"left\";\n  goog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;\n  goog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;\n\n  goog.i18n.bidi.toDir = function (a, b) {\n    return \"number\" == typeof a ? 0 < a ? goog.i18n.bidi.Dir.LTR : 0 > a ? goog.i18n.bidi.Dir.RTL : b ? null : goog.i18n.bidi.Dir.NEUTRAL : null == a ? null : a ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n  };\n\n  goog.i18n.bidi.ltrChars_ = \"A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0900-\\u1fff\\u200e\\u2c00-\\ud801\\ud804-\\ud839\\ud83c-\\udbff\\uf900-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff\";\n  goog.i18n.bidi.rtlChars_ = \"\\u0591-\\u06ef\\u06fa-\\u08ff\\u200f\\ud802-\\ud803\\ud83a-\\ud83b\\ufb1d-\\ufdff\\ufe70-\\ufefc\";\n  goog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;\n\n  goog.i18n.bidi.stripHtmlIfNeeded_ = function (a, b) {\n    return b ? a.replace(goog.i18n.bidi.htmlSkipReg_, \"\") : a;\n  };\n\n  goog.i18n.bidi.rtlCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"]\");\n  goog.i18n.bidi.ltrCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"]\");\n\n  goog.i18n.bidi.hasAnyRtl = function (a, b) {\n    return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;\n\n  goog.i18n.bidi.hasAnyLtr = function (a, b) {\n    return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.ltrRe_ = new RegExp(\"^[\" + goog.i18n.bidi.ltrChars_ + \"]\");\n  goog.i18n.bidi.rtlRe_ = new RegExp(\"^[\" + goog.i18n.bidi.rtlChars_ + \"]\");\n\n  goog.i18n.bidi.isRtlChar = function (a) {\n    return goog.i18n.bidi.rtlRe_.test(a);\n  };\n\n  goog.i18n.bidi.isLtrChar = function (a) {\n    return goog.i18n.bidi.ltrRe_.test(a);\n  };\n\n  goog.i18n.bidi.isNeutralChar = function (a) {\n    return !goog.i18n.bidi.isLtrChar(a) && !goog.i18n.bidi.isRtlChar(a);\n  };\n\n  goog.i18n.bidi.ltrDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.rtlChars_ + \"]*[\" + goog.i18n.bidi.ltrChars_ + \"]\");\n  goog.i18n.bidi.rtlDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.ltrChars_ + \"]*[\" + goog.i18n.bidi.rtlChars_ + \"]\");\n\n  goog.i18n.bidi.startsWithRtl = function (a, b) {\n    return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;\n\n  goog.i18n.bidi.startsWithLtr = function (a, b) {\n    return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;\n  goog.i18n.bidi.isRequiredLtrRe_ = /^http:\\/\\/.*/;\n\n  goog.i18n.bidi.isNeutralText = function (a, b) {\n    a = goog.i18n.bidi.stripHtmlIfNeeded_(a, b);\n    return goog.i18n.bidi.isRequiredLtrRe_.test(a) || !goog.i18n.bidi.hasAnyLtr(a) && !goog.i18n.bidi.hasAnyRtl(a);\n  };\n\n  goog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"][^\" + goog.i18n.bidi.rtlChars_ + \"]*$\");\n  goog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"][^\" + goog.i18n.bidi.ltrChars_ + \"]*$\");\n\n  goog.i18n.bidi.endsWithLtr = function (a, b) {\n    return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;\n\n  goog.i18n.bidi.endsWithRtl = function (a, b) {\n    return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a, b));\n  };\n\n  goog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;\n  goog.i18n.bidi.rtlLocalesRe_ = /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;\n\n  goog.i18n.bidi.isRtlLanguage = function (a) {\n    return goog.i18n.bidi.rtlLocalesRe_.test(a);\n  };\n\n  goog.i18n.bidi.bracketGuardTextRe_ = /(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\n\n  goog.i18n.bidi.guardBracketInText = function (a, b) {\n    var c = (void 0 === b ? goog.i18n.bidi.hasAnyRtl(a) : b) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;\n    return a.replace(goog.i18n.bidi.bracketGuardTextRe_, c + \"$&\" + c);\n  };\n\n  goog.i18n.bidi.enforceRtlInHtml = function (a) {\n    return \"<\" == a.charAt(0) ? a.replace(/<\\w+/, \"$& dir=rtl\") : \"\\n<span dir=rtl>\" + a + \"</span>\";\n  };\n\n  goog.i18n.bidi.enforceRtlInText = function (a) {\n    return goog.i18n.bidi.Format.RLE + a + goog.i18n.bidi.Format.PDF;\n  };\n\n  goog.i18n.bidi.enforceLtrInHtml = function (a) {\n    return \"<\" == a.charAt(0) ? a.replace(/<\\w+/, \"$& dir=ltr\") : \"\\n<span dir=ltr>\" + a + \"</span>\";\n  };\n\n  goog.i18n.bidi.enforceLtrInText = function (a) {\n    return goog.i18n.bidi.Format.LRE + a + goog.i18n.bidi.Format.PDF;\n  };\n\n  goog.i18n.bidi.dimensionsRe_ = /:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;\n  goog.i18n.bidi.leftRe_ = /left/gi;\n  goog.i18n.bidi.rightRe_ = /right/gi;\n  goog.i18n.bidi.tempRe_ = /%%%%/g;\n\n  goog.i18n.bidi.mirrorCSS = function (a) {\n    return a.replace(goog.i18n.bidi.dimensionsRe_, \":$1 $4 $3 $2\").replace(goog.i18n.bidi.leftRe_, \"%%%%\").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);\n  };\n\n  goog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])\"/g;\n  goog.i18n.bidi.singleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])'/g;\n\n  goog.i18n.bidi.normalizeHebrewQuote = function (a) {\n    return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, \"$1\\u05f4\").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, \"$1\\u05f3\");\n  };\n\n  goog.i18n.bidi.wordSeparatorRe_ = /\\s+/;\n  goog.i18n.bidi.hasNumeralsRe_ = /[\\d\\u06f0-\\u06f9]/;\n  goog.i18n.bidi.rtlDetectionThreshold_ = .4;\n\n  goog.i18n.bidi.estimateDirection = function (a, b) {\n    for (var c = 0, d = 0, e = !1, f = goog.i18n.bidi.stripHtmlIfNeeded_(a, b).split(goog.i18n.bidi.wordSeparatorRe_), g = 0; g < f.length; g++) {\n      var h = f[g];\n      goog.i18n.bidi.startsWithRtl(h) ? (c++, d++) : goog.i18n.bidi.isRequiredLtrRe_.test(h) ? e = !0 : goog.i18n.bidi.hasAnyLtr(h) ? d++ : goog.i18n.bidi.hasNumeralsRe_.test(h) && (e = !0);\n    }\n\n    return 0 == d ? e ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : c / d > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n  };\n\n  goog.i18n.bidi.detectRtlDirectionality = function (a, b) {\n    return goog.i18n.bidi.estimateDirection(a, b) == goog.i18n.bidi.Dir.RTL;\n  };\n\n  goog.i18n.bidi.setElementDirAndAlign = function (a, b) {\n    a && (b = goog.i18n.bidi.toDir(b)) && (a.style.textAlign = b == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, a.dir = b == goog.i18n.bidi.Dir.RTL ? \"rtl\" : \"ltr\");\n  };\n\n  goog.i18n.bidi.setElementDirByTextDirectionality = function (a, b) {\n    switch (goog.i18n.bidi.estimateDirection(b)) {\n      case goog.i18n.bidi.Dir.LTR:\n        a.dir = \"ltr\";\n        break;\n\n      case goog.i18n.bidi.Dir.RTL:\n        a.dir = \"rtl\";\n        break;\n\n      default:\n        a.removeAttribute(\"dir\");\n    }\n  };\n\n  goog.i18n.bidi.DirectionalString = function () {};\n\n  goog.html.TrustedResourceUrl = function () {\n    this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = \"\";\n    this.trustedURL_ = null;\n    this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n  };\n\n  goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;\n\n  goog.html.TrustedResourceUrl.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString();\n  };\n\n  goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\n\n  goog.html.TrustedResourceUrl.prototype.getDirection = function () {\n    return goog.i18n.bidi.Dir.LTR;\n  };\n\n  goog.html.TrustedResourceUrl.prototype.cloneWithParams = function (a, b) {\n    var c = goog.html.TrustedResourceUrl.unwrap(this);\n    c = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(c);\n    var d = c[3] || \"\";\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(c[1] + goog.html.TrustedResourceUrl.stringifyParams_(\"?\", c[2] || \"\", a) + goog.html.TrustedResourceUrl.stringifyParams_(\"#\", d, b));\n  };\n\n  goog.DEBUG && (goog.html.TrustedResourceUrl.prototype.toString = function () {\n    return \"TrustedResourceUrl{\" + this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + \"}\";\n  });\n\n  goog.html.TrustedResourceUrl.unwrap = function (a) {\n    return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(a).toString();\n  };\n\n  goog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function (a) {\n    if (a instanceof goog.html.TrustedResourceUrl && a.constructor === goog.html.TrustedResourceUrl && a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n    goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:TrustedResourceUrl\";\n  };\n\n  goog.html.TrustedResourceUrl.unwrapTrustedURL = function (a) {\n    return a.trustedURL_ ? a.trustedURL_ : goog.html.TrustedResourceUrl.unwrap(a);\n  };\n\n  goog.html.TrustedResourceUrl.format = function (a, b) {\n    var c = goog.string.Const.unwrap(a);\n    if (!goog.html.TrustedResourceUrl.BASE_URL_.test(c)) throw Error(\"Invalid TrustedResourceUrl format: \" + c);\n    var d = c.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function (a, d) {\n      if (!Object.prototype.hasOwnProperty.call(b, d)) throw Error('Found marker, \"' + d + '\", in format string, \"' + c + '\", but no valid label mapping found in args: ' + JSON.stringify(b));\n      var e = b[d];\n      return e instanceof goog.string.Const ? goog.string.Const.unwrap(e) : encodeURIComponent(String(e));\n    });\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(d);\n  };\n\n  goog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\\w+)}/g;\n  goog.html.TrustedResourceUrl.BASE_URL_ = /^((https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|\\/[^/\\\\]|[^:/\\\\%]+\\/|[^:/\\\\%]*[?#]|about:blank#)/i;\n  goog.html.TrustedResourceUrl.URL_PARAM_PARSER_ = /^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/;\n\n  goog.html.TrustedResourceUrl.formatWithParams = function (a, b, c, d) {\n    return goog.html.TrustedResourceUrl.format(a, b).cloneWithParams(c, d);\n  };\n\n  goog.html.TrustedResourceUrl.fromConstant = function (a) {\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a));\n  };\n\n  goog.html.TrustedResourceUrl.fromConstants = function (a) {\n    for (var b = \"\", c = 0; c < a.length; c++) b += goog.string.Const.unwrap(a[c]);\n\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function (a) {\n    var b = new goog.html.TrustedResourceUrl();\n    b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(a) : a;\n    goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY && (b.trustedURL_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(a));\n    return b;\n  };\n\n  goog.html.TrustedResourceUrl.stringifyParams_ = function (a, b, c) {\n    if (null == c) return b;\n    if (goog.isString(c)) return c ? a + encodeURIComponent(c) : \"\";\n\n    for (var d in c) {\n      var e = c[d];\n      e = goog.isArray(e) ? e : [e];\n\n      for (var f = 0; f < e.length; f++) {\n        var g = e[f];\n        null != g && (b || (b = a), b += (b.length > a.length ? \"&\" : \"\") + encodeURIComponent(d) + \"=\" + encodeURIComponent(String(g)));\n      }\n    }\n\n    return b;\n  };\n\n  goog.html.SafeUrl = function () {\n    this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = \"\";\n    this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n  };\n\n  goog.html.SafeUrl.INNOCUOUS_STRING = \"about:invalid#zClosurez\";\n  goog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;\n\n  goog.html.SafeUrl.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n  };\n\n  goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\n\n  goog.html.SafeUrl.prototype.getDirection = function () {\n    return goog.i18n.bidi.Dir.LTR;\n  };\n\n  goog.DEBUG && (goog.html.SafeUrl.prototype.toString = function () {\n    return \"SafeUrl{\" + this.privateDoNotAccessOrElseSafeUrlWrappedValue_ + \"}\";\n  });\n\n  goog.html.SafeUrl.unwrap = function (a) {\n    return goog.html.SafeUrl.unwrapTrustedURL(a).toString();\n  };\n\n  goog.html.SafeUrl.unwrapTrustedURL = function (a) {\n    if (a instanceof goog.html.SafeUrl && a.constructor === goog.html.SafeUrl && a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;\n    goog.asserts.fail(\"expected object of type SafeUrl, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:SafeUrl\";\n  };\n\n  goog.html.SafeUrl.fromConstant = function (a) {\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a));\n  };\n\n  goog.html.SAFE_MIME_TYPE_PATTERN_ = /^(?:audio\\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\\/csv|video\\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\\w+=(?:\\w+|\"[\\w;=]+\"))*$/i;\n\n  goog.html.SafeUrl.isSafeMimeType = function (a) {\n    return goog.html.SAFE_MIME_TYPE_PATTERN_.test(a);\n  };\n\n  goog.html.SafeUrl.fromBlob = function (a) {\n    a = goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type) ? goog.fs.url.createObjectUrl(a) : goog.html.SafeUrl.INNOCUOUS_STRING;\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.DATA_URL_PATTERN_ = /^data:([^,]*);base64,[a-z0-9+\\/]+=*$/i;\n\n  goog.html.SafeUrl.fromDataUrl = function (a) {\n    a = a.replace(/(%0A|%0D)/g, \"\");\n    var b = a.match(goog.html.DATA_URL_PATTERN_);\n    b = b && goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[1]);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b ? a : goog.html.SafeUrl.INNOCUOUS_STRING);\n  };\n\n  goog.html.SafeUrl.fromTelUrl = function (a) {\n    goog.string.internal.caseInsensitiveStartsWith(a, \"tel:\") || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SIP_URL_PATTERN_ = /^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$/i;\n\n  goog.html.SafeUrl.fromSipUrl = function (a) {\n    goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(a)) || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.fromFacebookMessengerUrl = function (a) {\n    goog.string.internal.caseInsensitiveStartsWith(a, \"fb-messenger://share\") || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.fromWhatsAppUrl = function (a) {\n    goog.string.internal.caseInsensitiveStartsWith(a, \"whatsapp://send\") || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.fromSmsUrl = function (a) {\n    goog.string.internal.caseInsensitiveStartsWith(a, \"sms:\") && goog.html.SafeUrl.isSmsUrlBodyValid_(a) || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.isSmsUrlBodyValid_ = function (a) {\n    var b = a.indexOf(\"#\");\n    0 < b && (a = a.substring(0, b));\n    b = a.match(/[?&]body=/gi);\n    if (!b) return !0;\n    if (1 < b.length) return !1;\n    a = a.match(/[?&]body=([^&]*)/)[1];\n    if (!a) return !0;\n\n    try {\n      decodeURIComponent(a);\n    } catch (c) {\n      return !1;\n    }\n\n    return /^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(a);\n  };\n\n  goog.html.SafeUrl.fromSshUrl = function (a) {\n    goog.string.internal.caseInsensitiveStartsWith(a, \"ssh://\") || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.sanitizeChromeExtensionUrl = function (a, b) {\n    return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//, a, b);\n  };\n\n  goog.html.SafeUrl.sanitizeFirefoxExtensionUrl = function (a, b) {\n    return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//, a, b);\n  };\n\n  goog.html.SafeUrl.sanitizeEdgeExtensionUrl = function (a, b) {\n    return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//, a, b);\n  };\n\n  goog.html.SafeUrl.sanitizeExtensionUrl_ = function (a, b, c) {\n    (a = a.exec(b)) ? (a = a[1], -1 == (c instanceof goog.string.Const ? [goog.string.Const.unwrap(c)] : c.map(function (a) {\n      return goog.string.Const.unwrap(a);\n    })).indexOf(a) && (b = goog.html.SafeUrl.INNOCUOUS_STRING)) : b = goog.html.SafeUrl.INNOCUOUS_STRING;\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.SafeUrl.fromTrustedResourceUrl = function (a) {\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(a));\n  };\n\n  goog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\n  goog.html.SafeUrl.SAFE_URL_PATTERN = goog.html.SAFE_URL_PATTERN_;\n\n  goog.html.SafeUrl.sanitize = function (a) {\n    if (a instanceof goog.html.SafeUrl) return a;\n    a = \"object\" == typeof a && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a);\n    goog.html.SAFE_URL_PATTERN_.test(a) || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.sanitizeAssertUnchanged = function (a, b) {\n    if (a instanceof goog.html.SafeUrl) return a;\n    a = \"object\" == typeof a && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a);\n\n    if (b && /^data:/i.test(a)) {\n      var c = goog.html.SafeUrl.fromDataUrl(a);\n      if (c.getTypedStringValue() == a) return c;\n    }\n\n    goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(a), \"%s does not match the safe URL pattern\", a) || (a = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function (a) {\n    var b = new goog.html.SafeUrl();\n    b.privateDoNotAccessOrElseSafeUrlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(a) : a;\n    return b;\n  };\n\n  goog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\");\n\n  goog.html.SafeStyle = function () {\n    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = \"\";\n    this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n  };\n\n  goog.html.SafeStyle.prototype.implementsGoogStringTypedString = !0;\n  goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.SafeStyle.fromConstant = function (a) {\n    a = goog.string.Const.unwrap(a);\n    if (0 === a.length) return goog.html.SafeStyle.EMPTY;\n    goog.asserts.assert(goog.string.internal.endsWith(a, \";\"), \"Last character of style string is not ';': \" + a);\n    goog.asserts.assert(goog.string.internal.contains(a, \":\"), \"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \" + a);\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeStyle.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n  };\n\n  goog.DEBUG && (goog.html.SafeStyle.prototype.toString = function () {\n    return \"SafeStyle{\" + this.privateDoNotAccessOrElseSafeStyleWrappedValue_ + \"}\";\n  });\n\n  goog.html.SafeStyle.unwrap = function (a) {\n    if (a instanceof goog.html.SafeStyle && a.constructor === goog.html.SafeStyle && a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n    goog.asserts.fail(\"expected object of type SafeStyle, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:SafeStyle\";\n  };\n\n  goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function (a) {\n    return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(a);\n  };\n\n  goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_ = function (a) {\n    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = a;\n    return this;\n  };\n\n  goog.html.SafeStyle.EMPTY = goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\");\n  goog.html.SafeStyle.INNOCUOUS_STRING = \"zClosurez\";\n\n  goog.html.SafeStyle.create = function (a) {\n    var b = \"\",\n        c;\n\n    for (c in a) {\n      if (!/^[-_a-zA-Z0-9]+$/.test(c)) throw Error(\"Name allows only [-_a-zA-Z0-9], got: \" + c);\n      var d = a[c];\n      null != d && (d = goog.isArray(d) ? goog.array.map(d, goog.html.SafeStyle.sanitizePropertyValue_).join(\" \") : goog.html.SafeStyle.sanitizePropertyValue_(d), b += c + \":\" + d + \";\");\n    }\n\n    return b ? goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b) : goog.html.SafeStyle.EMPTY;\n  };\n\n  goog.html.SafeStyle.sanitizePropertyValue_ = function (a) {\n    if (a instanceof goog.html.SafeUrl) return 'url(\"' + goog.html.SafeUrl.unwrap(a).replace(/</g, \"%3c\").replace(/[\\\\\"]/g, \"\\\\$&\") + '\")';\n    a = a instanceof goog.string.Const ? goog.string.Const.unwrap(a) : goog.html.SafeStyle.sanitizePropertyValueString_(String(a));\n    if (/[{;}]/.test(a)) throw new goog.asserts.AssertionError(\"Value does not allow [{;}], got: %s.\", [a]);\n    return a;\n  };\n\n  goog.html.SafeStyle.sanitizePropertyValueString_ = function (a) {\n    var b = a.replace(goog.html.SafeStyle.FUNCTIONS_RE_, \"$1\").replace(goog.html.SafeStyle.FUNCTIONS_RE_, \"$1\").replace(goog.html.SafeStyle.URL_RE_, \"url\");\n\n    if (goog.html.SafeStyle.VALUE_RE_.test(b)) {\n      if (goog.html.SafeStyle.COMMENT_RE_.test(a)) return goog.asserts.fail(\"String value disallows comments, got: \" + a), goog.html.SafeStyle.INNOCUOUS_STRING;\n      if (!goog.html.SafeStyle.hasBalancedQuotes_(a)) return goog.asserts.fail(\"String value requires balanced quotes, got: \" + a), goog.html.SafeStyle.INNOCUOUS_STRING;\n      if (!goog.html.SafeStyle.hasBalancedSquareBrackets_(a)) return goog.asserts.fail(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \" + a), goog.html.SafeStyle.INNOCUOUS_STRING;\n    } else return goog.asserts.fail(\"String value allows only \" + goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ + \" and simple functions, got: \" + a), goog.html.SafeStyle.INNOCUOUS_STRING;\n\n    return goog.html.SafeStyle.sanitizeUrl_(a);\n  };\n\n  goog.html.SafeStyle.hasBalancedQuotes_ = function (a) {\n    for (var b = !0, c = !0, d = 0; d < a.length; d++) {\n      var e = a.charAt(d);\n      \"'\" == e && c ? b = !b : '\"' == e && b && (c = !c);\n    }\n\n    return b && c;\n  };\n\n  goog.html.SafeStyle.hasBalancedSquareBrackets_ = function (a) {\n    for (var b = !0, c = /^[-_a-zA-Z0-9]$/, d = 0; d < a.length; d++) {\n      var e = a.charAt(d);\n\n      if (\"]\" == e) {\n        if (b) return !1;\n        b = !0;\n      } else if (\"[\" == e) {\n        if (!b) return !1;\n        b = !1;\n      } else if (!b && !c.test(e)) return !1;\n    }\n\n    return b;\n  };\n\n  goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ = \"[-,.\\\"'%_!# a-zA-Z0-9\\\\[\\\\]]\";\n  goog.html.SafeStyle.VALUE_RE_ = new RegExp(\"^\" + goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ + \"+$\");\n  goog.html.SafeStyle.URL_RE_ = RegExp(\"\\\\b(url\\\\([ \\t\\n]*)('[ -&(-\\\\[\\\\]-~]*'|\\\"[ !#-\\\\[\\\\]-~]*\\\"|[!#-&*-\\\\[\\\\]-~]*)([ \\t\\n]*\\\\))\", \"g\");\n  goog.html.SafeStyle.FUNCTIONS_RE_ = RegExp(\"\\\\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\\\\([-+*/0-9a-z.%\\\\[\\\\], ]+\\\\)\", \"g\");\n  goog.html.SafeStyle.COMMENT_RE_ = /\\/\\*/;\n\n  goog.html.SafeStyle.sanitizeUrl_ = function (a) {\n    return a.replace(goog.html.SafeStyle.URL_RE_, function (a, c, d, e) {\n      var b = \"\";\n      d = d.replace(/^(['\"])(.*)\\1$/, function (a, c, d) {\n        b = c;\n        return d;\n      });\n      a = goog.html.SafeUrl.sanitize(d).getTypedStringValue();\n      return c + b + a + b + e;\n    });\n  };\n\n  goog.html.SafeStyle.concat = function (a) {\n    var b = \"\",\n        c = function (a) {\n      goog.isArray(a) ? goog.array.forEach(a, c) : b += goog.html.SafeStyle.unwrap(a);\n    };\n\n    goog.array.forEach(arguments, c);\n    return b ? goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b) : goog.html.SafeStyle.EMPTY;\n  };\n\n  goog.html.SafeStyleSheet = function () {\n    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = \"\";\n    this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n  };\n\n  goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString = !0;\n  goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.SafeStyleSheet.createRule = function (a, b) {\n    if (goog.string.internal.contains(a, \"<\")) throw Error(\"Selector does not allow '<', got: \" + a);\n    var c = a.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g, \"\");\n    if (!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(c)) throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \" + a);\n    if (!goog.html.SafeStyleSheet.hasBalancedBrackets_(c)) throw Error(\"() and [] in selector must be balanced, got: \" + a);\n    b instanceof goog.html.SafeStyle || (b = goog.html.SafeStyle.create(b));\n    c = a + \"{\" + goog.html.SafeStyle.unwrap(b).replace(/</g, \"\\\\3C \") + \"}\";\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(c);\n  };\n\n  goog.html.SafeStyleSheet.hasBalancedBrackets_ = function (a) {\n    for (var b = {\n      \"(\": \")\",\n      \"[\": \"]\"\n    }, c = [], d = 0; d < a.length; d++) {\n      var e = a[d];\n      if (b[e]) c.push(b[e]);else if (goog.object.contains(b, e) && c.pop() != e) return !1;\n    }\n\n    return 0 == c.length;\n  };\n\n  goog.html.SafeStyleSheet.concat = function (a) {\n    var b = \"\",\n        c = function (a) {\n      goog.isArray(a) ? goog.array.forEach(a, c) : b += goog.html.SafeStyleSheet.unwrap(a);\n    };\n\n    goog.array.forEach(arguments, c);\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.SafeStyleSheet.fromConstant = function (a) {\n    a = goog.string.Const.unwrap(a);\n    if (0 === a.length) return goog.html.SafeStyleSheet.EMPTY;\n    goog.asserts.assert(!goog.string.internal.contains(a, \"<\"), \"Forbidden '<' character in style sheet string: \" + a);\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a);\n  };\n\n  goog.html.SafeStyleSheet.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n  };\n\n  goog.DEBUG && (goog.html.SafeStyleSheet.prototype.toString = function () {\n    return \"SafeStyleSheet{\" + this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ + \"}\";\n  });\n\n  goog.html.SafeStyleSheet.unwrap = function (a) {\n    if (a instanceof goog.html.SafeStyleSheet && a.constructor === goog.html.SafeStyleSheet && a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n    goog.asserts.fail(\"expected object of type SafeStyleSheet, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:SafeStyleSheet\";\n  };\n\n  goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function (a) {\n    return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(a);\n  };\n\n  goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_ = function (a) {\n    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = a;\n    return this;\n  };\n\n  goog.html.SafeStyleSheet.EMPTY = goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\");\n\n  goog.html.SafeHtml = function () {\n    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = \"\";\n    this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n    this.dir_ = null;\n  };\n\n  goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString = !0;\n\n  goog.html.SafeHtml.prototype.getDirection = function () {\n    return this.dir_;\n  };\n\n  goog.html.SafeHtml.prototype.implementsGoogStringTypedString = !0;\n\n  goog.html.SafeHtml.prototype.getTypedStringValue = function () {\n    return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n  };\n\n  goog.DEBUG && (goog.html.SafeHtml.prototype.toString = function () {\n    return \"SafeHtml{\" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + \"}\";\n  });\n\n  goog.html.SafeHtml.unwrap = function (a) {\n    return goog.html.SafeHtml.unwrapTrustedHTML(a).toString();\n  };\n\n  goog.html.SafeHtml.unwrapTrustedHTML = function (a) {\n    if (a instanceof goog.html.SafeHtml && a.constructor === goog.html.SafeHtml && a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n    goog.asserts.fail(\"expected object of type SafeHtml, got '\" + a + \"' of type \" + goog.typeOf(a));\n    return \"type_error:SafeHtml\";\n  };\n\n  goog.html.SafeHtml.htmlEscape = function (a) {\n    if (a instanceof goog.html.SafeHtml) return a;\n    var b = \"object\" == typeof a,\n        c = null;\n    b && a.implementsGoogI18nBidiDirectionalString && (c = a.getDirection());\n    a = b && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(a), c);\n  };\n\n  goog.html.SafeHtml.htmlEscapePreservingNewlines = function (a) {\n    if (a instanceof goog.html.SafeHtml) return a;\n    a = goog.html.SafeHtml.htmlEscape(a);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(a)), a.getDirection());\n  };\n\n  goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function (a) {\n    if (a instanceof goog.html.SafeHtml) return a;\n    a = goog.html.SafeHtml.htmlEscape(a);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(a)), a.getDirection());\n  };\n\n  goog.html.SafeHtml.from = goog.html.SafeHtml.htmlEscape;\n  goog.html.SafeHtml.VALID_NAMES_IN_TAG_ = /^[a-zA-Z0-9-]+$/;\n  goog.html.SafeHtml.URL_ATTRIBUTES_ = {\n    action: !0,\n    cite: !0,\n    data: !0,\n    formaction: !0,\n    href: !0,\n    manifest: !0,\n    poster: !0,\n    src: !0\n  };\n  goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_ = {\n    APPLET: !0,\n    BASE: !0,\n    EMBED: !0,\n    IFRAME: !0,\n    LINK: !0,\n    MATH: !0,\n    META: !0,\n    OBJECT: !0,\n    SCRIPT: !0,\n    STYLE: !0,\n    SVG: !0,\n    TEMPLATE: !0\n  };\n\n  goog.html.SafeHtml.create = function (a, b, c) {\n    goog.html.SafeHtml.verifyTagName(String(a));\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a), b, c);\n  };\n\n  goog.html.SafeHtml.verifyTagName = function (a) {\n    if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a)) throw Error(\"Invalid tag name <\" + a + \">.\");\n    if (a.toUpperCase() in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_) throw Error(\"Tag name <\" + a + \"> is not allowed for SafeHtml.\");\n  };\n\n  goog.html.SafeHtml.createIframe = function (a, b, c, d) {\n    a && goog.html.TrustedResourceUrl.unwrap(a);\n    var e = {};\n    e.src = a || null;\n    e.srcdoc = b && goog.html.SafeHtml.unwrap(b);\n    a = goog.html.SafeHtml.combineAttributes(e, {\n      sandbox: \"\"\n    }, c);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", a, d);\n  };\n\n  goog.html.SafeHtml.createSandboxIframe = function (a, b, c, d) {\n    if (!goog.html.SafeHtml.canUseSandboxIframe()) throw Error(\"The browser does not support sandboxed iframes.\");\n    var e = {};\n    e.src = a ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)) : null;\n    e.srcdoc = b || null;\n    e.sandbox = \"\";\n    a = goog.html.SafeHtml.combineAttributes(e, {}, c);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", a, d);\n  };\n\n  goog.html.SafeHtml.canUseSandboxIframe = function () {\n    return goog.global.HTMLIFrameElement && \"sandbox\" in goog.global.HTMLIFrameElement.prototype;\n  };\n\n  goog.html.SafeHtml.createScriptSrc = function (a, b) {\n    goog.html.TrustedResourceUrl.unwrap(a);\n    var c = goog.html.SafeHtml.combineAttributes({\n      src: a\n    }, {}, b);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", c);\n  };\n\n  goog.html.SafeHtml.createScript = function (a, b) {\n    for (var c in b) {\n      var d = c.toLowerCase();\n      if (\"language\" == d || \"src\" == d || \"text\" == d || \"type\" == d) throw Error('Cannot set \"' + d + '\" attribute');\n    }\n\n    c = \"\";\n    a = goog.array.concat(a);\n\n    for (d = 0; d < a.length; d++) c += goog.html.SafeScript.unwrap(a[d]);\n\n    c = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c, goog.i18n.bidi.Dir.NEUTRAL);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", b, c);\n  };\n\n  goog.html.SafeHtml.createStyle = function (a, b) {\n    var c = goog.html.SafeHtml.combineAttributes({\n      type: \"text/css\"\n    }, {}, b),\n        d = \"\";\n    a = goog.array.concat(a);\n\n    for (var e = 0; e < a.length; e++) d += goog.html.SafeStyleSheet.unwrap(a[e]);\n\n    d = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d, goog.i18n.bidi.Dir.NEUTRAL);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\", c, d);\n  };\n\n  goog.html.SafeHtml.createMetaRefresh = function (a, b) {\n    var c = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));\n    (goog.labs.userAgent.browser.isIE() || goog.labs.userAgent.browser.isEdge()) && goog.string.internal.contains(c, \";\") && (c = \"'\" + c.replace(/'/g, \"%27\") + \"'\");\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\", {\n      \"http-equiv\": \"refresh\",\n      content: (b || 0) + \"; url=\" + c\n    });\n  };\n\n  goog.html.SafeHtml.getAttrNameAndValue_ = function (a, b, c) {\n    if (c instanceof goog.string.Const) c = goog.string.Const.unwrap(c);else if (\"style\" == b.toLowerCase()) c = goog.html.SafeHtml.getStyleValue_(c);else {\n      if (/^on/i.test(b)) throw Error('Attribute \"' + b + '\" requires goog.string.Const value, \"' + c + '\" given.');\n      if (b.toLowerCase() in goog.html.SafeHtml.URL_ATTRIBUTES_) if (c instanceof goog.html.TrustedResourceUrl) c = goog.html.TrustedResourceUrl.unwrap(c);else if (c instanceof goog.html.SafeUrl) c = goog.html.SafeUrl.unwrap(c);else if (goog.isString(c)) c = goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error('Attribute \"' + b + '\" on tag \"' + a + '\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"' + c + '\" given.');\n    }\n    c.implementsGoogStringTypedString && (c = c.getTypedStringValue());\n    goog.asserts.assert(goog.isString(c) || goog.isNumber(c), \"String or number value expected, got \" + typeof c + \" with value: \" + c);\n    return b + '=\"' + goog.string.internal.htmlEscape(String(c)) + '\"';\n  };\n\n  goog.html.SafeHtml.getStyleValue_ = function (a) {\n    if (!goog.isObject(a)) throw Error('The \"style\" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof a + \" given: \" + a);\n    a instanceof goog.html.SafeStyle || (a = goog.html.SafeStyle.create(a));\n    return goog.html.SafeStyle.unwrap(a);\n  };\n\n  goog.html.SafeHtml.createWithDir = function (a, b, c, d) {\n    b = goog.html.SafeHtml.create(b, c, d);\n    b.dir_ = a;\n    return b;\n  };\n\n  goog.html.SafeHtml.join = function (a, b) {\n    var c = goog.html.SafeHtml.htmlEscape(a),\n        d = c.getDirection(),\n        e = [],\n        f = function (a) {\n      goog.isArray(a) ? goog.array.forEach(a, f) : (a = goog.html.SafeHtml.htmlEscape(a), e.push(goog.html.SafeHtml.unwrap(a)), a = a.getDirection(), d == goog.i18n.bidi.Dir.NEUTRAL ? d = a : a != goog.i18n.bidi.Dir.NEUTRAL && d != a && (d = null));\n    };\n\n    goog.array.forEach(b, f);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e.join(goog.html.SafeHtml.unwrap(c)), d);\n  };\n\n  goog.html.SafeHtml.concat = function (a) {\n    return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY, Array.prototype.slice.call(arguments));\n  };\n\n  goog.html.SafeHtml.concatWithDir = function (a, b) {\n    var c = goog.html.SafeHtml.concat(goog.array.slice(arguments, 1));\n    c.dir_ = a;\n    return c;\n  };\n\n  goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\n\n  goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function (a, b) {\n    return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(a, b);\n  };\n\n  goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_ = function (a, b) {\n    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(a) : a;\n    this.dir_ = b;\n    return this;\n  };\n\n  goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function (a, b, c) {\n    var d = null;\n    var e = \"<\" + a + goog.html.SafeHtml.stringifyAttributes(a, b);\n    goog.isDefAndNotNull(c) ? goog.isArray(c) || (c = [c]) : c = [];\n    goog.dom.tags.isVoidTag(a.toLowerCase()) ? (goog.asserts.assert(!c.length, \"Void tag <\" + a + \"> does not allow content.\"), e += \">\") : (d = goog.html.SafeHtml.concat(c), e += \">\" + goog.html.SafeHtml.unwrap(d) + \"</\" + a + \">\", d = d.getDirection());\n    (a = b && b.dir) && (d = /^(ltr|rtl|auto)$/i.test(a) ? goog.i18n.bidi.Dir.NEUTRAL : null);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e, d);\n  };\n\n  goog.html.SafeHtml.stringifyAttributes = function (a, b) {\n    var c = \"\";\n    if (b) for (var d in b) {\n      if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d)) throw Error('Invalid attribute name \"' + d + '\".');\n      var e = b[d];\n      goog.isDefAndNotNull(e) && (c += \" \" + goog.html.SafeHtml.getAttrNameAndValue_(a, d, e));\n    }\n    return c;\n  };\n\n  goog.html.SafeHtml.combineAttributes = function (a, b, c) {\n    var d = {},\n        e;\n\n    for (e in a) goog.asserts.assert(e.toLowerCase() == e, \"Must be lower case\"), d[e] = a[e];\n\n    for (e in b) goog.asserts.assert(e.toLowerCase() == e, \"Must be lower case\"), d[e] = b[e];\n\n    for (e in c) {\n      var f = e.toLowerCase();\n      if (f in a) throw Error('Cannot override \"' + f + '\" attribute, got \"' + e + '\" with value \"' + c[e] + '\"');\n      f in b && delete d[f];\n      d[e] = c[e];\n    }\n\n    return d;\n  };\n\n  goog.html.SafeHtml.DOCTYPE_HTML = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\", goog.i18n.bidi.Dir.NEUTRAL);\n  goog.html.SafeHtml.EMPTY = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\", goog.i18n.bidi.Dir.NEUTRAL);\n  goog.html.SafeHtml.BR = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\", goog.i18n.bidi.Dir.NEUTRAL);\n  goog.html.uncheckedconversions = {};\n\n  goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function (a, b, c) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b, c || null);\n  };\n\n  goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function (a, b) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function (a, b) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function (a, b) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function (a, b) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function (a, b) {\n    goog.asserts.assertString(goog.string.Const.unwrap(a), \"must provide justification\");\n    goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)), \"must provide non-empty justification\");\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b);\n  };\n\n  goog.dom.safe = {};\n  goog.dom.safe.InsertAdjacentHtmlPosition = {\n    AFTERBEGIN: \"afterbegin\",\n    AFTEREND: \"afterend\",\n    BEFOREBEGIN: \"beforebegin\",\n    BEFOREEND: \"beforeend\"\n  };\n\n  goog.dom.safe.insertAdjacentHtml = function (a, b, c) {\n    a.insertAdjacentHTML(b, goog.html.SafeHtml.unwrapTrustedHTML(c));\n  };\n\n  goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {\n    MATH: !0,\n    SCRIPT: !0,\n    STYLE: !0,\n    SVG: !0,\n    TEMPLATE: !0\n  };\n  goog.dom.safe.isInnerHtmlCleanupRecursive_ = goog.functions.cacheReturnValue(function () {\n    if (goog.DEBUG && \"undefined\" === typeof document) return !1;\n    var a = document.createElement(\"div\"),\n        b = document.createElement(\"div\");\n    b.appendChild(document.createElement(\"div\"));\n    a.appendChild(b);\n    if (goog.DEBUG && !a.firstChild) return !1;\n    b = a.firstChild.firstChild;\n    a.innerHTML = goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY);\n    return !b.parentElement;\n  });\n\n  goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse = function (a, b) {\n    if (goog.dom.safe.isInnerHtmlCleanupRecursive_()) for (; a.lastChild;) a.removeChild(a.lastChild);\n    a.innerHTML = goog.html.SafeHtml.unwrapTrustedHTML(b);\n  };\n\n  goog.dom.safe.setInnerHtml = function (a, b) {\n    if (goog.asserts.ENABLE_ASSERTS) {\n      var c = a.tagName.toUpperCase();\n      if (goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c]) throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \" + a.tagName + \".\");\n    }\n\n    goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(a, b);\n  };\n\n  goog.dom.safe.setOuterHtml = function (a, b) {\n    a.outerHTML = goog.html.SafeHtml.unwrapTrustedHTML(b);\n  };\n\n  goog.dom.safe.setFormElementAction = function (a, b) {\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    goog.dom.asserts.assertIsHTMLFormElement(a).action = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setButtonFormAction = function (a, b) {\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    goog.dom.asserts.assertIsHTMLButtonElement(a).formAction = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setInputFormAction = function (a, b) {\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    goog.dom.asserts.assertIsHTMLInputElement(a).formAction = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setStyle = function (a, b) {\n    a.style.cssText = goog.html.SafeStyle.unwrap(b);\n  };\n\n  goog.dom.safe.documentWrite = function (a, b) {\n    a.write(goog.html.SafeHtml.unwrapTrustedHTML(b));\n  };\n\n  goog.dom.safe.setAnchorHref = function (a, b) {\n    goog.dom.asserts.assertIsHTMLAnchorElement(a);\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    a.href = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setImageSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLImageElement(a);\n    if (b instanceof goog.html.SafeUrl) var c = b;else c = /^data:image\\//i.test(b), c = goog.html.SafeUrl.sanitizeAssertUnchanged(b, c);\n    a.src = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setAudioSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLAudioElement(a);\n    if (b instanceof goog.html.SafeUrl) var c = b;else c = /^data:audio\\//i.test(b), c = goog.html.SafeUrl.sanitizeAssertUnchanged(b, c);\n    a.src = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setVideoSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLVideoElement(a);\n    if (b instanceof goog.html.SafeUrl) var c = b;else c = /^data:video\\//i.test(b), c = goog.html.SafeUrl.sanitizeAssertUnchanged(b, c);\n    a.src = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.setEmbedSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLEmbedElement(a);\n    a.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b);\n  };\n\n  goog.dom.safe.setFrameSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLFrameElement(a);\n    a.src = goog.html.TrustedResourceUrl.unwrapTrustedURL(b);\n  };\n\n  goog.dom.safe.setIframeSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLIFrameElement(a);\n    a.src = goog.html.TrustedResourceUrl.unwrapTrustedURL(b);\n  };\n\n  goog.dom.safe.setIframeSrcdoc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLIFrameElement(a);\n    a.srcdoc = goog.html.SafeHtml.unwrapTrustedHTML(b);\n  };\n\n  goog.dom.safe.setLinkHrefAndRel = function (a, b, c) {\n    goog.dom.asserts.assertIsHTMLLinkElement(a);\n    a.rel = c;\n    goog.string.internal.caseInsensitiveContains(c, \"stylesheet\") ? (goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"'), a.href = goog.html.TrustedResourceUrl.unwrapTrustedURL(b)) : a.href = b instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrapTrustedURL(b) : b instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrapTrustedURL(b) : goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(b));\n  };\n\n  goog.dom.safe.setObjectData = function (a, b) {\n    goog.dom.asserts.assertIsHTMLObjectElement(a);\n    a.data = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b);\n  };\n\n  goog.dom.safe.setScriptSrc = function (a, b) {\n    goog.dom.asserts.assertIsHTMLScriptElement(a);\n    a.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b);\n    var c = goog.getScriptNonce();\n    c && a.setAttribute(\"nonce\", c);\n  };\n\n  goog.dom.safe.setScriptContent = function (a, b) {\n    goog.dom.asserts.assertIsHTMLScriptElement(a);\n    a.text = goog.html.SafeScript.unwrapTrustedScript(b);\n    var c = goog.getScriptNonce();\n    c && a.setAttribute(\"nonce\", c);\n  };\n\n  goog.dom.safe.setLocationHref = function (a, b) {\n    goog.dom.asserts.assertIsLocation(a);\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    a.href = goog.html.SafeUrl.unwrapTrustedURL(c);\n  };\n\n  goog.dom.safe.assignLocation = function (a, b) {\n    goog.dom.asserts.assertIsLocation(a);\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    a.assign(goog.html.SafeUrl.unwrapTrustedURL(c));\n  };\n\n  goog.dom.safe.replaceLocation = function (a, b) {\n    goog.dom.asserts.assertIsLocation(a);\n    var c = b instanceof goog.html.SafeUrl ? b : goog.html.SafeUrl.sanitizeAssertUnchanged(b);\n    a.replace(goog.html.SafeUrl.unwrapTrustedURL(c));\n  };\n\n  goog.dom.safe.openInWindow = function (a, b, c, d, e) {\n    a = a instanceof goog.html.SafeUrl ? a : goog.html.SafeUrl.sanitizeAssertUnchanged(a);\n    return (b || goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(a), c ? goog.string.Const.unwrap(c) : \"\", d, e);\n  };\n\n  goog.dom.safe.parseFromStringHtml = function (a, b) {\n    return goog.dom.safe.parseFromString(a, b, \"text/html\");\n  };\n\n  goog.dom.safe.parseFromString = function (a, b, c) {\n    return a.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(b), c);\n  };\n\n  goog.dom.safe.createImageFromBlob = function (a) {\n    if (!/^image\\/.*/g.test(a.type)) throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");\n    var b = goog.global.URL.createObjectURL(a);\n    a = new goog.global.Image();\n\n    a.onload = function () {\n      goog.global.URL.revokeObjectURL(b);\n    };\n\n    goog.dom.safe.setImageSrc(a, goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Image blob URL.\"), b));\n    return a;\n  };\n\n  goog.string.DETECT_DOUBLE_ESCAPING = !1;\n  goog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;\n  goog.string.Unicode = {\n    NBSP: \"\\u00a0\"\n  };\n  goog.string.startsWith = goog.string.internal.startsWith;\n  goog.string.endsWith = goog.string.internal.endsWith;\n  goog.string.caseInsensitiveStartsWith = goog.string.internal.caseInsensitiveStartsWith;\n  goog.string.caseInsensitiveEndsWith = goog.string.internal.caseInsensitiveEndsWith;\n  goog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\n\n  goog.string.subs = function (a, b) {\n    for (var c = a.split(\"%s\"), d = \"\", e = Array.prototype.slice.call(arguments, 1); e.length && 1 < c.length;) d += c.shift() + e.shift();\n\n    return d + c.join(\"%s\");\n  };\n\n  goog.string.collapseWhitespace = function (a) {\n    return a.replace(/[\\s\\xa0]+/g, \" \").replace(/^\\s+|\\s+$/g, \"\");\n  };\n\n  goog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\n\n  goog.string.isEmptyString = function (a) {\n    return 0 == a.length;\n  };\n\n  goog.string.isEmpty = goog.string.isEmptyOrWhitespace;\n\n  goog.string.isEmptyOrWhitespaceSafe = function (a) {\n    return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a));\n  };\n\n  goog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\n\n  goog.string.isBreakingWhitespace = function (a) {\n    return !/[^\\t\\n\\r ]/.test(a);\n  };\n\n  goog.string.isAlpha = function (a) {\n    return !/[^a-zA-Z]/.test(a);\n  };\n\n  goog.string.isNumeric = function (a) {\n    return !/[^0-9]/.test(a);\n  };\n\n  goog.string.isAlphaNumeric = function (a) {\n    return !/[^a-zA-Z0-9]/.test(a);\n  };\n\n  goog.string.isSpace = function (a) {\n    return \" \" == a;\n  };\n\n  goog.string.isUnicodeChar = function (a) {\n    return 1 == a.length && \" \" <= a && \"~\" >= a || \"\\u0080\" <= a && \"\\ufffd\" >= a;\n  };\n\n  goog.string.stripNewlines = function (a) {\n    return a.replace(/(\\r\\n|\\r|\\n)+/g, \" \");\n  };\n\n  goog.string.canonicalizeNewlines = function (a) {\n    return a.replace(/(\\r\\n|\\r|\\n)/g, \"\\n\");\n  };\n\n  goog.string.normalizeWhitespace = function (a) {\n    return a.replace(/\\xa0|\\s/g, \" \");\n  };\n\n  goog.string.normalizeSpaces = function (a) {\n    return a.replace(/\\xa0|[ \\t]+/g, \" \");\n  };\n\n  goog.string.collapseBreakingSpaces = function (a) {\n    return a.replace(/[\\t\\r\\n ]+/g, \" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, \"\");\n  };\n\n  goog.string.trim = goog.string.internal.trim;\n\n  goog.string.trimLeft = function (a) {\n    return a.replace(/^[\\s\\xa0]+/, \"\");\n  };\n\n  goog.string.trimRight = function (a) {\n    return a.replace(/[\\s\\xa0]+$/, \"\");\n  };\n\n  goog.string.caseInsensitiveCompare = goog.string.internal.caseInsensitiveCompare;\n\n  goog.string.numberAwareCompare_ = function (a, b, c) {\n    if (a == b) return 0;\n    if (!a) return -1;\n    if (!b) return 1;\n\n    for (var d = a.toLowerCase().match(c), e = b.toLowerCase().match(c), f = Math.min(d.length, e.length), g = 0; g < f; g++) {\n      c = d[g];\n      var h = e[g];\n      if (c != h) return a = parseInt(c, 10), !isNaN(a) && (b = parseInt(h, 10), !isNaN(b) && a - b) ? a - b : c < h ? -1 : 1;\n    }\n\n    return d.length != e.length ? d.length - e.length : a < b ? -1 : 1;\n  };\n\n  goog.string.intAwareCompare = function (a, b) {\n    return goog.string.numberAwareCompare_(a, b, /\\d+|\\D+/g);\n  };\n\n  goog.string.floatAwareCompare = function (a, b) {\n    return goog.string.numberAwareCompare_(a, b, /\\d+|\\.\\d+|\\D+/g);\n  };\n\n  goog.string.numerateCompare = goog.string.floatAwareCompare;\n\n  goog.string.urlEncode = function (a) {\n    return encodeURIComponent(String(a));\n  };\n\n  goog.string.urlDecode = function (a) {\n    return decodeURIComponent(a.replace(/\\+/g, \" \"));\n  };\n\n  goog.string.newLineToBr = goog.string.internal.newLineToBr;\n\n  goog.string.htmlEscape = function (a, b) {\n    a = goog.string.internal.htmlEscape(a, b);\n    goog.string.DETECT_DOUBLE_ESCAPING && (a = a.replace(goog.string.E_RE_, \"&#101;\"));\n    return a;\n  };\n\n  goog.string.E_RE_ = /e/g;\n\n  goog.string.unescapeEntities = function (a) {\n    return goog.string.contains(a, \"&\") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && \"document\" in goog.global ? goog.string.unescapeEntitiesUsingDom_(a) : goog.string.unescapePureXmlEntities_(a) : a;\n  };\n\n  goog.string.unescapeEntitiesWithDocument = function (a, b) {\n    return goog.string.contains(a, \"&\") ? goog.string.unescapeEntitiesUsingDom_(a, b) : a;\n  };\n\n  goog.string.unescapeEntitiesUsingDom_ = function (a, b) {\n    var c = {\n      \"&amp;\": \"&\",\n      \"&lt;\": \"<\",\n      \"&gt;\": \">\",\n      \"&quot;\": '\"'\n    };\n    var d = b ? b.createElement(\"div\") : goog.global.document.createElement(\"div\");\n    return a.replace(goog.string.HTML_ENTITY_PATTERN_, function (a, b) {\n      var e = c[a];\n      if (e) return e;\n\n      if (\"#\" == b.charAt(0)) {\n        var f = Number(\"0\" + b.substr(1));\n        isNaN(f) || (e = String.fromCharCode(f));\n      }\n\n      e || (goog.dom.safe.setInnerHtml(d, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"), a + \" \")), e = d.firstChild.nodeValue.slice(0, -1));\n      return c[a] = e;\n    });\n  };\n\n  goog.string.unescapePureXmlEntities_ = function (a) {\n    return a.replace(/&([^;]+);/g, function (a, c) {\n      switch (c) {\n        case \"amp\":\n          return \"&\";\n\n        case \"lt\":\n          return \"<\";\n\n        case \"gt\":\n          return \">\";\n\n        case \"quot\":\n          return '\"';\n\n        default:\n          if (\"#\" == c.charAt(0)) {\n            var b = Number(\"0\" + c.substr(1));\n            if (!isNaN(b)) return String.fromCharCode(b);\n          }\n\n          return a;\n      }\n    });\n  };\n\n  goog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n\n  goog.string.whitespaceEscape = function (a, b) {\n    return goog.string.newLineToBr(a.replace(/  /g, \" &#160;\"), b);\n  };\n\n  goog.string.preserveSpaces = function (a) {\n    return a.replace(/(^|[\\n ]) /g, \"$1\" + goog.string.Unicode.NBSP);\n  };\n\n  goog.string.stripQuotes = function (a, b) {\n    for (var c = b.length, d = 0; d < c; d++) {\n      var e = 1 == c ? b : b.charAt(d);\n      if (a.charAt(0) == e && a.charAt(a.length - 1) == e) return a.substring(1, a.length - 1);\n    }\n\n    return a;\n  };\n\n  goog.string.truncate = function (a, b, c) {\n    c && (a = goog.string.unescapeEntities(a));\n    a.length > b && (a = a.substring(0, b - 3) + \"...\");\n    c && (a = goog.string.htmlEscape(a));\n    return a;\n  };\n\n  goog.string.truncateMiddle = function (a, b, c, d) {\n    c && (a = goog.string.unescapeEntities(a));\n\n    if (d && a.length > b) {\n      d > b && (d = b);\n      var e = a.length - d;\n      a = a.substring(0, b - d) + \"...\" + a.substring(e);\n    } else a.length > b && (d = Math.floor(b / 2), e = a.length - d, a = a.substring(0, d + b % 2) + \"...\" + a.substring(e));\n\n    c && (a = goog.string.htmlEscape(a));\n    return a;\n  };\n\n  goog.string.specialEscapeChars_ = {\n    \"\\x00\": \"\\\\0\",\n    \"\\b\": \"\\\\b\",\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\\t\": \"\\\\t\",\n    \"\\x0B\": \"\\\\x0B\",\n    '\"': '\\\\\"',\n    \"\\\\\": \"\\\\\\\\\",\n    \"<\": \"\\\\u003C\"\n  };\n  goog.string.jsEscapeCache_ = {\n    \"'\": \"\\\\'\"\n  };\n\n  goog.string.quote = function (a) {\n    a = String(a);\n\n    for (var b = ['\"'], c = 0; c < a.length; c++) {\n      var d = a.charAt(c),\n          e = d.charCodeAt(0);\n      b[c + 1] = goog.string.specialEscapeChars_[d] || (31 < e && 127 > e ? d : goog.string.escapeChar(d));\n    }\n\n    b.push('\"');\n    return b.join(\"\");\n  };\n\n  goog.string.escapeString = function (a) {\n    for (var b = [], c = 0; c < a.length; c++) b[c] = goog.string.escapeChar(a.charAt(c));\n\n    return b.join(\"\");\n  };\n\n  goog.string.escapeChar = function (a) {\n    if (a in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[a];\n    if (a in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[a] = goog.string.specialEscapeChars_[a];\n    var b = a.charCodeAt(0);\n    if (31 < b && 127 > b) var c = a;else {\n      if (256 > b) {\n        if (c = \"\\\\x\", 16 > b || 256 < b) c += \"0\";\n      } else c = \"\\\\u\", 4096 > b && (c += \"0\");\n\n      c += b.toString(16).toUpperCase();\n    }\n    return goog.string.jsEscapeCache_[a] = c;\n  };\n\n  goog.string.contains = goog.string.internal.contains;\n  goog.string.caseInsensitiveContains = goog.string.internal.caseInsensitiveContains;\n\n  goog.string.countOf = function (a, b) {\n    return a && b ? a.split(b).length - 1 : 0;\n  };\n\n  goog.string.removeAt = function (a, b, c) {\n    var d = a;\n    0 <= b && b < a.length && 0 < c && (d = a.substr(0, b) + a.substr(b + c, a.length - b - c));\n    return d;\n  };\n\n  goog.string.remove = function (a, b) {\n    return a.replace(b, \"\");\n  };\n\n  goog.string.removeAll = function (a, b) {\n    var c = new RegExp(goog.string.regExpEscape(b), \"g\");\n    return a.replace(c, \"\");\n  };\n\n  goog.string.replaceAll = function (a, b, c) {\n    b = new RegExp(goog.string.regExpEscape(b), \"g\");\n    return a.replace(b, c.replace(/\\$/g, \"$$$$\"));\n  };\n\n  goog.string.regExpEscape = function (a) {\n    return String(a).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\").replace(/\\x08/g, \"\\\\x08\");\n  };\n\n  goog.string.repeat = String.prototype.repeat ? function (a, b) {\n    return a.repeat(b);\n  } : function (a, b) {\n    return Array(b + 1).join(a);\n  };\n\n  goog.string.padNumber = function (a, b, c) {\n    a = goog.isDef(c) ? a.toFixed(c) : String(a);\n    c = a.indexOf(\".\");\n    -1 == c && (c = a.length);\n    return goog.string.repeat(\"0\", Math.max(0, b - c)) + a;\n  };\n\n  goog.string.makeSafe = function (a) {\n    return null == a ? \"\" : String(a);\n  };\n\n  goog.string.buildString = function (a) {\n    return Array.prototype.join.call(arguments, \"\");\n  };\n\n  goog.string.getRandomString = function () {\n    return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);\n  };\n\n  goog.string.compareVersions = goog.string.internal.compareVersions;\n\n  goog.string.hashCode = function (a) {\n    for (var b = 0, c = 0; c < a.length; ++c) b = 31 * b + a.charCodeAt(c) >>> 0;\n\n    return b;\n  };\n\n  goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;\n\n  goog.string.createUniqueString = function () {\n    return \"goog_\" + goog.string.uniqueStringCounter_++;\n  };\n\n  goog.string.toNumber = function (a) {\n    var b = Number(a);\n    return 0 == b && goog.string.isEmptyOrWhitespace(a) ? NaN : b;\n  };\n\n  goog.string.isLowerCamelCase = function (a) {\n    return /^[a-z]+([A-Z][a-z]*)*$/.test(a);\n  };\n\n  goog.string.isUpperCamelCase = function (a) {\n    return /^([A-Z][a-z]*)+$/.test(a);\n  };\n\n  goog.string.toCamelCase = function (a) {\n    return String(a).replace(/\\-([a-z])/g, function (a, c) {\n      return c.toUpperCase();\n    });\n  };\n\n  goog.string.toSelectorCase = function (a) {\n    return String(a).replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  };\n\n  goog.string.toTitleCase = function (a, b) {\n    var c = goog.isString(b) ? goog.string.regExpEscape(b) : \"\\\\s\";\n    return a.replace(new RegExp(\"(^\" + (c ? \"|[\" + c + \"]+\" : \"\") + \")([a-z])\", \"g\"), function (a, b, c) {\n      return b + c.toUpperCase();\n    });\n  };\n\n  goog.string.capitalize = function (a) {\n    return String(a.charAt(0)).toUpperCase() + String(a.substr(1)).toLowerCase();\n  };\n\n  goog.string.parseInt = function (a) {\n    isFinite(a) && (a = String(a));\n    return goog.isString(a) ? /^\\s*-?0x/i.test(a) ? parseInt(a, 16) : parseInt(a, 10) : NaN;\n  };\n\n  goog.string.splitLimit = function (a, b, c) {\n    a = a.split(b);\n\n    for (var d = []; 0 < c && a.length;) d.push(a.shift()), c--;\n\n    a.length && d.push(a.join(b));\n    return d;\n  };\n\n  goog.string.lastComponent = function (a, b) {\n    if (b) \"string\" == typeof b && (b = [b]);else return a;\n\n    for (var c = -1, d = 0; d < b.length; d++) if (\"\" != b[d]) {\n      var e = a.lastIndexOf(b[d]);\n      e > c && (c = e);\n    }\n\n    return -1 == c ? a : a.slice(c + 1);\n  };\n\n  goog.string.editDistance = function (a, b) {\n    var c = [],\n        d = [];\n    if (a == b) return 0;\n    if (!a.length || !b.length) return Math.max(a.length, b.length);\n\n    for (var e = 0; e < b.length + 1; e++) c[e] = e;\n\n    for (e = 0; e < a.length; e++) {\n      d[0] = e + 1;\n\n      for (var f = 0; f < b.length; f++) d[f + 1] = Math.min(d[f] + 1, c[f + 1] + 1, c[f] + Number(a[e] != b[f]));\n\n      for (f = 0; f < c.length; f++) c[f] = d[f];\n    }\n\n    return d[b.length];\n  };\n\n  goog.labs.userAgent.engine = {};\n\n  goog.labs.userAgent.engine.isPresto = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Presto\");\n  };\n\n  goog.labs.userAgent.engine.isTrident = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Trident\") || goog.labs.userAgent.util.matchUserAgent(\"MSIE\");\n  };\n\n  goog.labs.userAgent.engine.isEdge = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Edge\");\n  };\n\n  goog.labs.userAgent.engine.isWebKit = function () {\n    return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"WebKit\") && !goog.labs.userAgent.engine.isEdge();\n  };\n\n  goog.labs.userAgent.engine.isGecko = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Gecko\") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();\n  };\n\n  goog.labs.userAgent.engine.getVersion = function () {\n    var a = goog.labs.userAgent.util.getUserAgent();\n\n    if (a) {\n      a = goog.labs.userAgent.util.extractVersionTuples(a);\n      var b = goog.labs.userAgent.engine.getEngineTuple_(a);\n      if (b) return \"Gecko\" == b[0] ? goog.labs.userAgent.engine.getVersionForKey_(a, \"Firefox\") : b[1];\n      a = a[0];\n      var c;\n      if (a && (c = a[2]) && (c = /Trident\\/([^\\s;]+)/.exec(c))) return c[1];\n    }\n\n    return \"\";\n  };\n\n  goog.labs.userAgent.engine.getEngineTuple_ = function (a) {\n    if (!goog.labs.userAgent.engine.isEdge()) return a[1];\n\n    for (var b = 0; b < a.length; b++) {\n      var c = a[b];\n      if (\"Edge\" == c[0]) return c;\n    }\n  };\n\n  goog.labs.userAgent.engine.isVersionOrHigher = function (a) {\n    return 0 <= goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), a);\n  };\n\n  goog.labs.userAgent.engine.getVersionForKey_ = function (a, b) {\n    var c = goog.array.find(a, function (a) {\n      return b == a[0];\n    });\n    return c && c[1] || \"\";\n  };\n\n  goog.labs.userAgent.platform = {};\n\n  goog.labs.userAgent.platform.isAndroid = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Android\");\n  };\n\n  goog.labs.userAgent.platform.isIpod = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"iPod\");\n  };\n\n  goog.labs.userAgent.platform.isIphone = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"iPhone\") && !goog.labs.userAgent.util.matchUserAgent(\"iPod\") && !goog.labs.userAgent.util.matchUserAgent(\"iPad\");\n  };\n\n  goog.labs.userAgent.platform.isIpad = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"iPad\");\n  };\n\n  goog.labs.userAgent.platform.isIos = function () {\n    return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();\n  };\n\n  goog.labs.userAgent.platform.isMacintosh = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Macintosh\");\n  };\n\n  goog.labs.userAgent.platform.isLinux = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Linux\");\n  };\n\n  goog.labs.userAgent.platform.isWindows = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"Windows\");\n  };\n\n  goog.labs.userAgent.platform.isChromeOS = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"CrOS\");\n  };\n\n  goog.labs.userAgent.platform.isChromecast = function () {\n    return goog.labs.userAgent.util.matchUserAgent(\"CrKey\");\n  };\n\n  goog.labs.userAgent.platform.isKaiOS = function () {\n    return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"KaiOS\");\n  };\n\n  goog.labs.userAgent.platform.isGo2Phone = function () {\n    return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"GAFP\");\n  };\n\n  goog.labs.userAgent.platform.getVersion = function () {\n    var a = goog.labs.userAgent.util.getUserAgent(),\n        b = \"\";\n    goog.labs.userAgent.platform.isWindows() ? (b = /Windows (?:NT|Phone) ([0-9.]+)/, b = (a = b.exec(a)) ? a[1] : \"0.0\") : goog.labs.userAgent.platform.isIos() ? (b = /(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/, b = (a = b.exec(a)) && a[1].replace(/_/g, \".\")) : goog.labs.userAgent.platform.isMacintosh() ? (b = /Mac OS X ([0-9_.]+)/, b = (a = b.exec(a)) ? a[1].replace(/_/g, \".\") : \"10\") : goog.labs.userAgent.platform.isKaiOS() ? (b = /(?:KaiOS)\\/(\\S+)/i, b = (a = b.exec(a)) && a[1]) : goog.labs.userAgent.platform.isAndroid() ? (b = /Android\\s+([^\\);]+)(\\)|;)/, b = (a = b.exec(a)) && a[1]) : goog.labs.userAgent.platform.isChromeOS() && (b = /(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/, b = (a = b.exec(a)) && a[1]);\n    return b || \"\";\n  };\n\n  goog.labs.userAgent.platform.isVersionOrHigher = function (a) {\n    return 0 <= goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), a);\n  };\n\n  goog.reflect = {};\n\n  goog.reflect.object = function (a, b) {\n    return b;\n  };\n\n  goog.reflect.objectProperty = function (a, b) {\n    return a;\n  };\n\n  goog.reflect.sinkValue = function (a) {\n    goog.reflect.sinkValue[\" \"](a);\n    return a;\n  };\n\n  goog.reflect.sinkValue[\" \"] = goog.nullFunction;\n\n  goog.reflect.canAccessProperty = function (a, b) {\n    try {\n      return goog.reflect.sinkValue(a[b]), !0;\n    } catch (c) {}\n\n    return !1;\n  };\n\n  goog.reflect.cache = function (a, b, c, d) {\n    d = d ? d(b) : b;\n    return Object.prototype.hasOwnProperty.call(a, d) ? a[d] : a[d] = c(b);\n  };\n\n  goog.userAgent = {};\n  goog.userAgent.ASSUME_IE = !1;\n  goog.userAgent.ASSUME_EDGE = !1;\n  goog.userAgent.ASSUME_GECKO = !1;\n  goog.userAgent.ASSUME_WEBKIT = !1;\n  goog.userAgent.ASSUME_MOBILE_WEBKIT = !1;\n  goog.userAgent.ASSUME_OPERA = !1;\n  goog.userAgent.ASSUME_ANY_VERSION = !1;\n  goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;\n\n  goog.userAgent.getUserAgentString = function () {\n    return goog.labs.userAgent.util.getUserAgent();\n  };\n\n  goog.userAgent.getNavigatorTyped = function () {\n    return goog.global.navigator || null;\n  };\n\n  goog.userAgent.getNavigator = function () {\n    return goog.userAgent.getNavigatorTyped();\n  };\n\n  goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();\n  goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();\n  goog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();\n  goog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\n  goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();\n  goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();\n\n  goog.userAgent.isMobile_ = function () {\n    return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent(\"Mobile\");\n  };\n\n  goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\n  goog.userAgent.SAFARI = goog.userAgent.WEBKIT;\n\n  goog.userAgent.determinePlatform_ = function () {\n    var a = goog.userAgent.getNavigatorTyped();\n    return a && a.platform || \"\";\n  };\n\n  goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\n  goog.userAgent.ASSUME_MAC = !1;\n  goog.userAgent.ASSUME_WINDOWS = !1;\n  goog.userAgent.ASSUME_LINUX = !1;\n  goog.userAgent.ASSUME_X11 = !1;\n  goog.userAgent.ASSUME_ANDROID = !1;\n  goog.userAgent.ASSUME_IPHONE = !1;\n  goog.userAgent.ASSUME_IPAD = !1;\n  goog.userAgent.ASSUME_IPOD = !1;\n  goog.userAgent.ASSUME_KAIOS = !1;\n  goog.userAgent.ASSUME_GO2PHONE = !1;\n  goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;\n  goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();\n  goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();\n\n  goog.userAgent.isLegacyLinux_ = function () {\n    return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();\n  };\n\n  goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();\n\n  goog.userAgent.isX11_ = function () {\n    var a = goog.userAgent.getNavigatorTyped();\n    return !!a && goog.string.contains(a.appVersion || \"\", \"X11\");\n  };\n\n  goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();\n  goog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();\n  goog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();\n  goog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();\n  goog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIpod();\n  goog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIos();\n  goog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_KAIOS : goog.labs.userAgent.platform.isKaiOS();\n  goog.userAgent.GO2PHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_GO2PHONE : goog.labs.userAgent.platform.isGo2Phone();\n\n  goog.userAgent.determineVersion_ = function () {\n    var a = \"\",\n        b = goog.userAgent.getVersionRegexResult_();\n    b && (a = b ? b[1] : \"\");\n    return goog.userAgent.IE && (b = goog.userAgent.getDocumentMode_(), null != b && b > parseFloat(a)) ? String(b) : a;\n  };\n\n  goog.userAgent.getVersionRegexResult_ = function () {\n    var a = goog.userAgent.getUserAgentString();\n    if (goog.userAgent.GECKO) return /rv:([^\\);]+)(\\)|;)/.exec(a);\n    if (goog.userAgent.EDGE) return /Edge\\/([\\d\\.]+)/.exec(a);\n    if (goog.userAgent.IE) return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);\n    if (goog.userAgent.WEBKIT) return /WebKit\\/(\\S+)/.exec(a);\n    if (goog.userAgent.OPERA) return /(?:Version)[ \\/]?(\\S+)/.exec(a);\n  };\n\n  goog.userAgent.getDocumentMode_ = function () {\n    var a = goog.global.document;\n    return a ? a.documentMode : void 0;\n  };\n\n  goog.userAgent.VERSION = goog.userAgent.determineVersion_();\n\n  goog.userAgent.compare = function (a, b) {\n    return goog.string.compareVersions(a, b);\n  };\n\n  goog.userAgent.isVersionOrHigherCache_ = {};\n\n  goog.userAgent.isVersionOrHigher = function (a) {\n    return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, a, function () {\n      return 0 <= goog.string.compareVersions(goog.userAgent.VERSION, a);\n    });\n  };\n\n  goog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;\n\n  goog.userAgent.isDocumentModeOrHigher = function (a) {\n    return Number(goog.userAgent.DOCUMENT_MODE) >= a;\n  };\n\n  goog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\n\n  goog.userAgent.DOCUMENT_MODE = function () {\n    if (goog.global.document && goog.userAgent.IE) return goog.userAgent.getDocumentMode_();\n  }();\n\n  goog.debug.LOGGING_ENABLED = goog.DEBUG;\n  goog.debug.FORCE_SLOPPY_STACKS = !1;\n\n  goog.debug.catchErrors = function (a, b, c) {\n    c = c || goog.global;\n    var d = c.onerror,\n        e = !!b;\n    goog.userAgent.WEBKIT && !goog.userAgent.isVersionOrHigher(\"535.3\") && (e = !e);\n\n    c.onerror = function (b, c, h, k, l) {\n      d && d(b, c, h, k, l);\n      a({\n        message: b,\n        fileName: c,\n        line: h,\n        lineNumber: h,\n        col: k,\n        error: l\n      });\n      return e;\n    };\n  };\n\n  goog.debug.expose = function (a, b) {\n    if (\"undefined\" == typeof a) return \"undefined\";\n    if (null == a) return \"NULL\";\n    var c = [],\n        d;\n\n    for (d in a) if (b || !goog.isFunction(a[d])) {\n      var e = d + \" = \";\n\n      try {\n        e += a[d];\n      } catch (f) {\n        e += \"*** \" + f + \" ***\";\n      }\n\n      c.push(e);\n    }\n\n    return c.join(\"\\n\");\n  };\n\n  goog.debug.deepExpose = function (a, b) {\n    var c = [],\n        d = [],\n        e = {},\n        f = function (a, g) {\n      var h = g + \"  \";\n\n      try {\n        if (goog.isDef(a)) {\n          if (goog.isNull(a)) c.push(\"NULL\");else if (goog.isString(a)) c.push('\"' + a.replace(/\\n/g, \"\\n\" + g) + '\"');else if (goog.isFunction(a)) c.push(String(a).replace(/\\n/g, \"\\n\" + g));else if (goog.isObject(a)) {\n            goog.hasUid(a) || d.push(a);\n            var k = goog.getUid(a);\n            if (e[k]) c.push(\"*** reference loop detected (id=\" + k + \") ***\");else {\n              e[k] = !0;\n              c.push(\"{\");\n\n              for (var m in a) if (b || !goog.isFunction(a[m])) c.push(\"\\n\"), c.push(h), c.push(m + \" = \"), f(a[m], h);\n\n              c.push(\"\\n\" + g + \"}\");\n              delete e[k];\n            }\n          } else c.push(a);\n        } else c.push(\"undefined\");\n      } catch (p) {\n        c.push(\"*** \" + p + \" ***\");\n      }\n    };\n\n    f(a, \"\");\n\n    for (var g = 0; g < d.length; g++) goog.removeUid(d[g]);\n\n    return c.join(\"\");\n  };\n\n  goog.debug.exposeArray = function (a) {\n    for (var b = [], c = 0; c < a.length; c++) goog.isArray(a[c]) ? b.push(goog.debug.exposeArray(a[c])) : b.push(a[c]);\n\n    return \"[ \" + b.join(\", \") + \" ]\";\n  };\n\n  goog.debug.normalizeErrorObject = function (a) {\n    var b = goog.getObjectByName(\"window.location.href\");\n    null == a && (a = 'Unknown Error of type \"null/undefined\"');\n    if (goog.isString(a)) return {\n      message: a,\n      name: \"Unknown error\",\n      lineNumber: \"Not available\",\n      fileName: b,\n      stack: \"Not available\"\n    };\n    var c = !1;\n\n    try {\n      var d = a.lineNumber || a.line || \"Not available\";\n    } catch (f) {\n      d = \"Not available\", c = !0;\n    }\n\n    try {\n      var e = a.fileName || a.filename || a.sourceURL || goog.global.$googDebugFname || b;\n    } catch (f) {\n      e = \"Not available\", c = !0;\n    }\n\n    return !c && a.lineNumber && a.fileName && a.stack && a.message && a.name ? a : (b = a.message, null == b && (b = a.constructor && a.constructor instanceof Function ? 'Unknown Error of type \"' + (a.constructor.name ? a.constructor.name : goog.debug.getFunctionName(a.constructor)) + '\"' : \"Unknown Error of unknown type\"), {\n      message: b,\n      name: a.name || \"UnknownError\",\n      lineNumber: d,\n      fileName: e,\n      stack: a.stack || \"Not available\"\n    });\n  };\n\n  goog.debug.enhanceError = function (a, b) {\n    if (a instanceof Error) var c = a;else c = Error(a), Error.captureStackTrace && Error.captureStackTrace(c, goog.debug.enhanceError);\n    c.stack || (c.stack = goog.debug.getStacktrace(goog.debug.enhanceError));\n\n    if (b) {\n      for (var d = 0; c[\"message\" + d];) ++d;\n\n      c[\"message\" + d] = String(b);\n    }\n\n    return c;\n  };\n\n  goog.debug.enhanceErrorWithContext = function (a, b) {\n    var c = goog.debug.enhanceError(a);\n    if (b) for (var d in b) goog.debug.errorcontext.addErrorContext(c, d, b[d]);\n    return c;\n  };\n\n  goog.debug.getStacktraceSimple = function (a) {\n    if (!goog.debug.FORCE_SLOPPY_STACKS) {\n      var b = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);\n      if (b) return b;\n    }\n\n    b = [];\n\n    for (var c = arguments.callee.caller, d = 0; c && (!a || d < a);) {\n      b.push(goog.debug.getFunctionName(c));\n      b.push(\"()\\n\");\n\n      try {\n        c = c.caller;\n      } catch (e) {\n        b.push(\"[exception trying to get caller]\\n\");\n        break;\n      }\n\n      d++;\n\n      if (d >= goog.debug.MAX_STACK_DEPTH) {\n        b.push(\"[...long stack...]\");\n        break;\n      }\n    }\n\n    a && d >= a ? b.push(\"[...reached max depth limit...]\") : b.push(\"[end]\");\n    return b.join(\"\");\n  };\n\n  goog.debug.MAX_STACK_DEPTH = 50;\n\n  goog.debug.getNativeStackTrace_ = function (a) {\n    var b = Error();\n    if (Error.captureStackTrace) return Error.captureStackTrace(b, a), String(b.stack);\n\n    try {\n      throw b;\n    } catch (c) {\n      b = c;\n    }\n\n    return (a = b.stack) ? String(a) : null;\n  };\n\n  goog.debug.getStacktrace = function (a) {\n    var b;\n    goog.debug.FORCE_SLOPPY_STACKS || (b = goog.debug.getNativeStackTrace_(a || goog.debug.getStacktrace));\n    b || (b = goog.debug.getStacktraceHelper_(a || arguments.callee.caller, []));\n    return b;\n  };\n\n  goog.debug.getStacktraceHelper_ = function (a, b) {\n    var c = [];\n    if (goog.array.contains(b, a)) c.push(\"[...circular reference...]\");else if (a && b.length < goog.debug.MAX_STACK_DEPTH) {\n      c.push(goog.debug.getFunctionName(a) + \"(\");\n\n      for (var d = a.arguments, e = 0; d && e < d.length; e++) {\n        0 < e && c.push(\", \");\n        var f = d[e];\n\n        switch (typeof f) {\n          case \"object\":\n            f = f ? \"object\" : \"null\";\n            break;\n\n          case \"string\":\n            break;\n\n          case \"number\":\n            f = String(f);\n            break;\n\n          case \"boolean\":\n            f = f ? \"true\" : \"false\";\n            break;\n\n          case \"function\":\n            f = (f = goog.debug.getFunctionName(f)) ? f : \"[fn]\";\n            break;\n\n          default:\n            f = typeof f;\n        }\n\n        40 < f.length && (f = f.substr(0, 40) + \"...\");\n        c.push(f);\n      }\n\n      b.push(a);\n      c.push(\")\\n\");\n\n      try {\n        c.push(goog.debug.getStacktraceHelper_(a.caller, b));\n      } catch (g) {\n        c.push(\"[exception trying to get caller]\\n\");\n      }\n    } else a ? c.push(\"[...long stack...]\") : c.push(\"[end]\");\n    return c.join(\"\");\n  };\n\n  goog.debug.getFunctionName = function (a) {\n    if (goog.debug.fnNameCache_[a]) return goog.debug.fnNameCache_[a];\n    a = String(a);\n\n    if (!goog.debug.fnNameCache_[a]) {\n      var b = /function\\s+([^\\(]+)/m.exec(a);\n      goog.debug.fnNameCache_[a] = b ? b[1] : \"[Anonymous]\";\n    }\n\n    return goog.debug.fnNameCache_[a];\n  };\n\n  goog.debug.makeWhitespaceVisible = function (a) {\n    return a.replace(/ /g, \"[_]\").replace(/\\f/g, \"[f]\").replace(/\\n/g, \"[n]\\n\").replace(/\\r/g, \"[r]\").replace(/\\t/g, \"[t]\");\n  };\n\n  goog.debug.runtimeType = function (a) {\n    return a instanceof Function ? a.displayName || a.name || \"unknown type name\" : a instanceof Object ? a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a) : null === a ? \"null\" : typeof a;\n  };\n\n  goog.debug.fnNameCache_ = {};\n\n  goog.debug.freezeInternal_ = goog.DEBUG && Object.freeze || function (a) {\n    return a;\n  };\n\n  goog.debug.freeze = function (a) {\n    return goog.debug.freezeInternal_(a);\n  };\n\n  goog.events = {};\n\n  $jscomp.scope.purify = function (a) {\n    return {\n      valueOf: a\n    }.valueOf();\n  };\n\n  goog.events.BrowserFeature = {\n    HAS_W3C_BUTTON: !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9),\n    HAS_W3C_EVENT_SUPPORT: !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9),\n    SET_KEY_CODE_TO_PREVENT_DEFAULT: goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"9\"),\n    HAS_NAVIGATOR_ONLINE_PROPERTY: !goog.userAgent.WEBKIT || goog.userAgent.isVersionOrHigher(\"528\"),\n    HAS_HTML5_NETWORK_EVENT_SUPPORT: goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher(\"1.9b\") || goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"8\") || goog.userAgent.OPERA && goog.userAgent.isVersionOrHigher(\"9.5\") || goog.userAgent.WEBKIT && goog.userAgent.isVersionOrHigher(\"528\"),\n    HTML5_NETWORK_EVENTS_FIRE_ON_BODY: goog.userAgent.GECKO && !goog.userAgent.isVersionOrHigher(\"8\") || goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"9\"),\n    TOUCH_ENABLED: \"ontouchstart\" in goog.global || !!(goog.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!goog.global.navigator || !goog.global.navigator.maxTouchPoints && !goog.global.navigator.msMaxTouchPoints),\n    POINTER_EVENTS: \"PointerEvent\" in goog.global,\n    MSPOINTER_EVENTS: \"MSPointerEvent\" in goog.global && !(!goog.global.navigator || !goog.global.navigator.msPointerEnabled),\n    PASSIVE_EVENTS: (0, $jscomp.scope.purify)(function () {\n      if (!goog.global.addEventListener || !Object.defineProperty) return !1;\n      var a = !1,\n          b = Object.defineProperty({}, \"passive\", {\n        get: function () {\n          a = !0;\n        }\n      });\n\n      try {\n        goog.global.addEventListener(\"test\", goog.nullFunction, b), goog.global.removeEventListener(\"test\", goog.nullFunction, b);\n      } catch (c) {}\n\n      return a;\n    })\n  };\n  goog.disposable = {};\n\n  goog.disposable.IDisposable = function () {};\n\n  goog.disposable.IDisposable.prototype.dispose = goog.abstractMethod;\n  goog.disposable.IDisposable.prototype.isDisposed = goog.abstractMethod;\n\n  goog.Disposable = function () {\n    goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && (goog.Disposable.INCLUDE_STACK_ON_CREATION && (this.creationStack = Error().stack), goog.Disposable.instances_[goog.getUid(this)] = this);\n    this.disposed_ = this.disposed_;\n    this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n  };\n\n  goog.Disposable.MonitoringMode = {\n    OFF: 0,\n    PERMANENT: 1,\n    INTERACTIVE: 2\n  };\n  goog.Disposable.MONITORING_MODE = 0;\n  goog.Disposable.INCLUDE_STACK_ON_CREATION = !0;\n  goog.Disposable.instances_ = {};\n\n  goog.Disposable.getUndisposedObjects = function () {\n    var a = [],\n        b;\n\n    for (b in goog.Disposable.instances_) goog.Disposable.instances_.hasOwnProperty(b) && a.push(goog.Disposable.instances_[Number(b)]);\n\n    return a;\n  };\n\n  goog.Disposable.clearUndisposedObjects = function () {\n    goog.Disposable.instances_ = {};\n  };\n\n  goog.Disposable.prototype.disposed_ = !1;\n\n  goog.Disposable.prototype.isDisposed = function () {\n    return this.disposed_;\n  };\n\n  goog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\n\n  goog.Disposable.prototype.dispose = function () {\n    if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF)) {\n      var a = goog.getUid(this);\n      if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(a)) throw Error(this + \" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call\");\n      if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && this.onDisposeCallbacks_ && 0 < this.onDisposeCallbacks_.length) throw Error(this + \" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");\n      delete goog.Disposable.instances_[a];\n    }\n  };\n\n  goog.Disposable.prototype.registerDisposable = function (a) {\n    this.addOnDisposeCallback(goog.partial(goog.dispose, a));\n  };\n\n  goog.Disposable.prototype.addOnDisposeCallback = function (a, b) {\n    this.disposed_ ? goog.isDef(b) ? a.call(b) : a() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(goog.isDef(b) ? goog.bind(a, b) : a));\n  };\n\n  goog.Disposable.prototype.disposeInternal = function () {\n    if (this.onDisposeCallbacks_) for (; this.onDisposeCallbacks_.length;) this.onDisposeCallbacks_.shift()();\n  };\n\n  goog.Disposable.isDisposed = function (a) {\n    return a && \"function\" == typeof a.isDisposed ? a.isDisposed() : !1;\n  };\n\n  goog.dispose = function (a) {\n    a && \"function\" == typeof a.dispose && a.dispose();\n  };\n\n  goog.disposeAll = function (a) {\n    for (var b = 0, c = arguments.length; b < c; ++b) {\n      var d = arguments[b];\n      goog.isArrayLike(d) ? goog.disposeAll.apply(null, d) : goog.dispose(d);\n    }\n  };\n\n  goog.events.EventId = function (a) {\n    this.id = a;\n  };\n\n  goog.events.EventId.prototype.toString = function () {\n    return this.id;\n  };\n\n  goog.events.Event = function (a, b) {\n    this.type = a instanceof goog.events.EventId ? String(a) : a;\n    this.currentTarget = this.target = b;\n    this.defaultPrevented = this.propagationStopped_ = !1;\n    this.returnValue_ = !0;\n  };\n\n  goog.events.Event.prototype.stopPropagation = function () {\n    this.propagationStopped_ = !0;\n  };\n\n  goog.events.Event.prototype.preventDefault = function () {\n    this.defaultPrevented = !0;\n    this.returnValue_ = !1;\n  };\n\n  goog.events.Event.stopPropagation = function (a) {\n    a.stopPropagation();\n  };\n\n  goog.events.Event.preventDefault = function (a) {\n    a.preventDefault();\n  };\n\n  goog.events.getVendorPrefixedName_ = function (a) {\n    return goog.userAgent.WEBKIT ? \"webkit\" + a : goog.userAgent.OPERA ? \"o\" + a.toLowerCase() : a.toLowerCase();\n  };\n\n  goog.events.EventType = {\n    CLICK: \"click\",\n    RIGHTCLICK: \"rightclick\",\n    DBLCLICK: \"dblclick\",\n    AUXCLICK: \"auxclick\",\n    MOUSEDOWN: \"mousedown\",\n    MOUSEUP: \"mouseup\",\n    MOUSEOVER: \"mouseover\",\n    MOUSEOUT: \"mouseout\",\n    MOUSEMOVE: \"mousemove\",\n    MOUSEENTER: \"mouseenter\",\n    MOUSELEAVE: \"mouseleave\",\n    MOUSECANCEL: \"mousecancel\",\n    SELECTIONCHANGE: \"selectionchange\",\n    SELECTSTART: \"selectstart\",\n    WHEEL: \"wheel\",\n    KEYPRESS: \"keypress\",\n    KEYDOWN: \"keydown\",\n    KEYUP: \"keyup\",\n    BLUR: \"blur\",\n    FOCUS: \"focus\",\n    DEACTIVATE: \"deactivate\",\n    FOCUSIN: \"focusin\",\n    FOCUSOUT: \"focusout\",\n    CHANGE: \"change\",\n    RESET: \"reset\",\n    SELECT: \"select\",\n    SUBMIT: \"submit\",\n    INPUT: \"input\",\n    PROPERTYCHANGE: \"propertychange\",\n    DRAGSTART: \"dragstart\",\n    DRAG: \"drag\",\n    DRAGENTER: \"dragenter\",\n    DRAGOVER: \"dragover\",\n    DRAGLEAVE: \"dragleave\",\n    DROP: \"drop\",\n    DRAGEND: \"dragend\",\n    TOUCHSTART: \"touchstart\",\n    TOUCHMOVE: \"touchmove\",\n    TOUCHEND: \"touchend\",\n    TOUCHCANCEL: \"touchcancel\",\n    BEFOREUNLOAD: \"beforeunload\",\n    CONSOLEMESSAGE: \"consolemessage\",\n    CONTEXTMENU: \"contextmenu\",\n    DEVICECHANGE: \"devicechange\",\n    DEVICEMOTION: \"devicemotion\",\n    DEVICEORIENTATION: \"deviceorientation\",\n    DOMCONTENTLOADED: \"DOMContentLoaded\",\n    ERROR: \"error\",\n    HELP: \"help\",\n    LOAD: \"load\",\n    LOSECAPTURE: \"losecapture\",\n    ORIENTATIONCHANGE: \"orientationchange\",\n    READYSTATECHANGE: \"readystatechange\",\n    RESIZE: \"resize\",\n    SCROLL: \"scroll\",\n    UNLOAD: \"unload\",\n    CANPLAY: \"canplay\",\n    CANPLAYTHROUGH: \"canplaythrough\",\n    DURATIONCHANGE: \"durationchange\",\n    EMPTIED: \"emptied\",\n    ENDED: \"ended\",\n    LOADEDDATA: \"loadeddata\",\n    LOADEDMETADATA: \"loadedmetadata\",\n    PAUSE: \"pause\",\n    PLAY: \"play\",\n    PLAYING: \"playing\",\n    RATECHANGE: \"ratechange\",\n    SEEKED: \"seeked\",\n    SEEKING: \"seeking\",\n    STALLED: \"stalled\",\n    SUSPEND: \"suspend\",\n    TIMEUPDATE: \"timeupdate\",\n    VOLUMECHANGE: \"volumechange\",\n    WAITING: \"waiting\",\n    SOURCEOPEN: \"sourceopen\",\n    SOURCEENDED: \"sourceended\",\n    SOURCECLOSED: \"sourceclosed\",\n    ABORT: \"abort\",\n    UPDATE: \"update\",\n    UPDATESTART: \"updatestart\",\n    UPDATEEND: \"updateend\",\n    HASHCHANGE: \"hashchange\",\n    PAGEHIDE: \"pagehide\",\n    PAGESHOW: \"pageshow\",\n    POPSTATE: \"popstate\",\n    COPY: \"copy\",\n    PASTE: \"paste\",\n    CUT: \"cut\",\n    BEFORECOPY: \"beforecopy\",\n    BEFORECUT: \"beforecut\",\n    BEFOREPASTE: \"beforepaste\",\n    ONLINE: \"online\",\n    OFFLINE: \"offline\",\n    MESSAGE: \"message\",\n    CONNECT: \"connect\",\n    INSTALL: \"install\",\n    ACTIVATE: \"activate\",\n    FETCH: \"fetch\",\n    FOREIGNFETCH: \"foreignfetch\",\n    MESSAGEERROR: \"messageerror\",\n    STATECHANGE: \"statechange\",\n    UPDATEFOUND: \"updatefound\",\n    CONTROLLERCHANGE: \"controllerchange\",\n    ANIMATIONSTART: goog.events.getVendorPrefixedName_(\"AnimationStart\"),\n    ANIMATIONEND: goog.events.getVendorPrefixedName_(\"AnimationEnd\"),\n    ANIMATIONITERATION: goog.events.getVendorPrefixedName_(\"AnimationIteration\"),\n    TRANSITIONEND: goog.events.getVendorPrefixedName_(\"TransitionEnd\"),\n    POINTERDOWN: \"pointerdown\",\n    POINTERUP: \"pointerup\",\n    POINTERCANCEL: \"pointercancel\",\n    POINTERMOVE: \"pointermove\",\n    POINTEROVER: \"pointerover\",\n    POINTEROUT: \"pointerout\",\n    POINTERENTER: \"pointerenter\",\n    POINTERLEAVE: \"pointerleave\",\n    GOTPOINTERCAPTURE: \"gotpointercapture\",\n    LOSTPOINTERCAPTURE: \"lostpointercapture\",\n    MSGESTURECHANGE: \"MSGestureChange\",\n    MSGESTUREEND: \"MSGestureEnd\",\n    MSGESTUREHOLD: \"MSGestureHold\",\n    MSGESTURESTART: \"MSGestureStart\",\n    MSGESTURETAP: \"MSGestureTap\",\n    MSGOTPOINTERCAPTURE: \"MSGotPointerCapture\",\n    MSINERTIASTART: \"MSInertiaStart\",\n    MSLOSTPOINTERCAPTURE: \"MSLostPointerCapture\",\n    MSPOINTERCANCEL: \"MSPointerCancel\",\n    MSPOINTERDOWN: \"MSPointerDown\",\n    MSPOINTERENTER: \"MSPointerEnter\",\n    MSPOINTERHOVER: \"MSPointerHover\",\n    MSPOINTERLEAVE: \"MSPointerLeave\",\n    MSPOINTERMOVE: \"MSPointerMove\",\n    MSPOINTEROUT: \"MSPointerOut\",\n    MSPOINTEROVER: \"MSPointerOver\",\n    MSPOINTERUP: \"MSPointerUp\",\n    TEXT: \"text\",\n    TEXTINPUT: goog.userAgent.IE ? \"textinput\" : \"textInput\",\n    COMPOSITIONSTART: \"compositionstart\",\n    COMPOSITIONUPDATE: \"compositionupdate\",\n    COMPOSITIONEND: \"compositionend\",\n    BEFOREINPUT: \"beforeinput\",\n    EXIT: \"exit\",\n    LOADABORT: \"loadabort\",\n    LOADCOMMIT: \"loadcommit\",\n    LOADREDIRECT: \"loadredirect\",\n    LOADSTART: \"loadstart\",\n    LOADSTOP: \"loadstop\",\n    RESPONSIVE: \"responsive\",\n    SIZECHANGED: \"sizechanged\",\n    UNRESPONSIVE: \"unresponsive\",\n    VISIBILITYCHANGE: \"visibilitychange\",\n    STORAGE: \"storage\",\n    DOMSUBTREEMODIFIED: \"DOMSubtreeModified\",\n    DOMNODEINSERTED: \"DOMNodeInserted\",\n    DOMNODEREMOVED: \"DOMNodeRemoved\",\n    DOMNODEREMOVEDFROMDOCUMENT: \"DOMNodeRemovedFromDocument\",\n    DOMNODEINSERTEDINTODOCUMENT: \"DOMNodeInsertedIntoDocument\",\n    DOMATTRMODIFIED: \"DOMAttrModified\",\n    DOMCHARACTERDATAMODIFIED: \"DOMCharacterDataModified\",\n    BEFOREPRINT: \"beforeprint\",\n    AFTERPRINT: \"afterprint\",\n    BEFOREINSTALLPROMPT: \"beforeinstallprompt\",\n    APPINSTALLED: \"appinstalled\"\n  };\n\n  goog.events.getPointerFallbackEventName_ = function (a, b, c) {\n    return goog.events.BrowserFeature.POINTER_EVENTS ? a : goog.events.BrowserFeature.MSPOINTER_EVENTS ? b : c;\n  };\n\n  goog.events.PointerFallbackEventType = {\n    POINTERDOWN: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.MOUSEDOWN),\n    POINTERUP: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.MOUSEUP),\n    POINTERCANCEL: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.MOUSECANCEL),\n    POINTERMOVE: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.MOUSEMOVE),\n    POINTEROVER: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER, goog.events.EventType.MSPOINTEROVER, goog.events.EventType.MOUSEOVER),\n    POINTEROUT: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT, goog.events.EventType.MSPOINTEROUT, goog.events.EventType.MOUSEOUT),\n    POINTERENTER: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER, goog.events.EventType.MSPOINTERENTER, goog.events.EventType.MOUSEENTER),\n    POINTERLEAVE: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE, goog.events.EventType.MSPOINTERLEAVE, goog.events.EventType.MOUSELEAVE)\n  };\n  goog.events.PointerTouchFallbackEventType = {\n    POINTERDOWN: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.TOUCHSTART),\n    POINTERUP: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.TOUCHEND),\n    POINTERCANCEL: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.TOUCHCANCEL),\n    POINTERMOVE: goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.TOUCHMOVE)\n  };\n  goog.events.PointerAsMouseEventType = {\n    MOUSEDOWN: goog.events.PointerFallbackEventType.POINTERDOWN,\n    MOUSEUP: goog.events.PointerFallbackEventType.POINTERUP,\n    MOUSECANCEL: goog.events.PointerFallbackEventType.POINTERCANCEL,\n    MOUSEMOVE: goog.events.PointerFallbackEventType.POINTERMOVE,\n    MOUSEOVER: goog.events.PointerFallbackEventType.POINTEROVER,\n    MOUSEOUT: goog.events.PointerFallbackEventType.POINTEROUT,\n    MOUSEENTER: goog.events.PointerFallbackEventType.POINTERENTER,\n    MOUSELEAVE: goog.events.PointerFallbackEventType.POINTERLEAVE\n  };\n  goog.events.MouseAsMouseEventType = {\n    MOUSEDOWN: goog.events.EventType.MOUSEDOWN,\n    MOUSEUP: goog.events.EventType.MOUSEUP,\n    MOUSECANCEL: goog.events.EventType.MOUSECANCEL,\n    MOUSEMOVE: goog.events.EventType.MOUSEMOVE,\n    MOUSEOVER: goog.events.EventType.MOUSEOVER,\n    MOUSEOUT: goog.events.EventType.MOUSEOUT,\n    MOUSEENTER: goog.events.EventType.MOUSEENTER,\n    MOUSELEAVE: goog.events.EventType.MOUSELEAVE\n  };\n  goog.events.PointerAsTouchEventType = {\n    TOUCHCANCEL: goog.events.PointerTouchFallbackEventType.POINTERCANCEL,\n    TOUCHEND: goog.events.PointerTouchFallbackEventType.POINTERUP,\n    TOUCHMOVE: goog.events.PointerTouchFallbackEventType.POINTERMOVE,\n    TOUCHSTART: goog.events.PointerTouchFallbackEventType.POINTERDOWN\n  };\n  goog.events.USE_LAYER_XY_AS_OFFSET_XY = !1;\n\n  goog.events.BrowserEvent = function (a, b) {\n    goog.events.Event.call(this, a ? a.type : \"\");\n    this.relatedTarget = this.currentTarget = this.target = null;\n    this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n    this.key = \"\";\n    this.charCode = this.keyCode = 0;\n    this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n    this.state = null;\n    this.platformModifierKey = !1;\n    this.pointerId = 0;\n    this.pointerType = \"\";\n    this.event_ = null;\n    a && this.init(a, b);\n  };\n\n  goog.inherits(goog.events.BrowserEvent, goog.events.Event);\n  goog.events.BrowserEvent.MouseButton = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2\n  };\n  goog.events.BrowserEvent.PointerType = {\n    MOUSE: \"mouse\",\n    PEN: \"pen\",\n    TOUCH: \"touch\"\n  };\n  goog.events.BrowserEvent.IEButtonMap = goog.debug.freeze([1, 4, 2]);\n  goog.events.BrowserEvent.IE_BUTTON_MAP = goog.events.BrowserEvent.IEButtonMap;\n  goog.events.BrowserEvent.IE_POINTER_TYPE_MAP = goog.debug.freeze({\n    2: goog.events.BrowserEvent.PointerType.TOUCH,\n    3: goog.events.BrowserEvent.PointerType.PEN,\n    4: goog.events.BrowserEvent.PointerType.MOUSE\n  });\n\n  goog.events.BrowserEvent.prototype.init = function (a, b) {\n    var c = this.type = a.type,\n        d = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : null;\n    this.target = a.target || a.srcElement;\n    this.currentTarget = b;\n    var e = a.relatedTarget;\n    e ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(e, \"nodeName\") || (e = null)) : c == goog.events.EventType.MOUSEOVER ? e = a.fromElement : c == goog.events.EventType.MOUSEOUT && (e = a.toElement);\n    this.relatedTarget = e;\n    d ? (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY || 0) : (goog.events.USE_LAYER_XY_AS_OFFSET_XY ? (this.offsetX = void 0 !== a.layerX ? a.layerX : a.offsetX, this.offsetY = void 0 !== a.layerY ? a.layerY : a.offsetY) : (this.offsetX = goog.userAgent.WEBKIT || void 0 !== a.offsetX ? a.offsetX : a.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== a.offsetY ? a.offsetY : a.layerY), this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0);\n    this.button = a.button;\n    this.keyCode = a.keyCode || 0;\n    this.key = a.key || \"\";\n    this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.platformModifierKey = goog.userAgent.MAC ? a.metaKey : a.ctrlKey;\n    this.pointerId = a.pointerId || 0;\n    this.pointerType = goog.events.BrowserEvent.getPointerType_(a);\n    this.state = a.state;\n    this.event_ = a;\n    a.defaultPrevented && this.preventDefault();\n  };\n\n  goog.events.BrowserEvent.prototype.isButton = function (a) {\n    return goog.events.BrowserFeature.HAS_W3C_BUTTON ? this.event_.button == a : \"click\" == this.type ? a == goog.events.BrowserEvent.MouseButton.LEFT : !!(this.event_.button & goog.events.BrowserEvent.IE_BUTTON_MAP[a]);\n  };\n\n  goog.events.BrowserEvent.prototype.isMouseActionButton = function () {\n    return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey);\n  };\n\n  goog.events.BrowserEvent.prototype.stopPropagation = function () {\n    goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n    this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;\n  };\n\n  goog.events.BrowserEvent.prototype.preventDefault = function () {\n    goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n    var a = this.event_;\n    if (a.preventDefault) a.preventDefault();else if (a.returnValue = !1, goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) try {\n      if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) a.keyCode = -1;\n    } catch (b) {}\n  };\n\n  goog.events.BrowserEvent.prototype.getBrowserEvent = function () {\n    return this.event_;\n  };\n\n  goog.events.BrowserEvent.getPointerType_ = function (a) {\n    return goog.isString(a.pointerType) ? a.pointerType : goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[a.pointerType] || \"\";\n  };\n\n  goog.events.Listenable = function () {};\n\n  goog.events.Listenable.IMPLEMENTED_BY_PROP = \"closure_listenable_\" + (1E6 * Math.random() | 0);\n\n  goog.events.Listenable.addImplementation = function (a) {\n    a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = !0;\n  };\n\n  goog.events.Listenable.isImplementedBy = function (a) {\n    return !(!a || !a[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n  };\n\n  goog.events.ListenableKey = function () {};\n\n  goog.events.ListenableKey.counter_ = 0;\n\n  goog.events.ListenableKey.reserveKey = function () {\n    return ++goog.events.ListenableKey.counter_;\n  };\n\n  goog.events.Listener = function (a, b, c, d, e, f) {\n    goog.events.Listener.ENABLE_MONITORING && (this.creationStack = Error().stack);\n    this.listener = a;\n    this.proxy = b;\n    this.src = c;\n    this.type = d;\n    this.capture = !!e;\n    this.handler = f;\n    this.key = goog.events.ListenableKey.reserveKey();\n    this.removed = this.callOnce = !1;\n  };\n\n  goog.events.Listener.ENABLE_MONITORING = !1;\n\n  goog.events.Listener.prototype.markAsRemoved = function () {\n    this.removed = !0;\n    this.handler = this.src = this.proxy = this.listener = null;\n  };\n\n  goog.events.ListenerMap = function (a) {\n    this.src = a;\n    this.listeners = {};\n    this.typeCount_ = 0;\n  };\n\n  goog.events.ListenerMap.prototype.getTypeCount = function () {\n    return this.typeCount_;\n  };\n\n  goog.events.ListenerMap.prototype.getListenerCount = function () {\n    var a = 0,\n        b;\n\n    for (b in this.listeners) a += this.listeners[b].length;\n\n    return a;\n  };\n\n  goog.events.ListenerMap.prototype.add = function (a, b, c, d, e) {\n    var f = a.toString();\n    a = this.listeners[f];\n    a || (a = this.listeners[f] = [], this.typeCount_++);\n    var g = goog.events.ListenerMap.findListenerIndex_(a, b, d, e);\n    -1 < g ? (b = a[g], c || (b.callOnce = !1)) : (b = new goog.events.Listener(b, null, this.src, f, !!d, e), b.callOnce = c, a.push(b));\n    return b;\n  };\n\n  goog.events.ListenerMap.prototype.remove = function (a, b, c, d) {\n    a = a.toString();\n    if (!(a in this.listeners)) return !1;\n    var e = this.listeners[a];\n    b = goog.events.ListenerMap.findListenerIndex_(e, b, c, d);\n    return -1 < b ? (e[b].markAsRemoved(), goog.array.removeAt(e, b), 0 == e.length && (delete this.listeners[a], this.typeCount_--), !0) : !1;\n  };\n\n  goog.events.ListenerMap.prototype.removeByKey = function (a) {\n    var b = a.type;\n    if (!(b in this.listeners)) return !1;\n    var c = goog.array.remove(this.listeners[b], a);\n    c && (a.markAsRemoved(), 0 == this.listeners[b].length && (delete this.listeners[b], this.typeCount_--));\n    return c;\n  };\n\n  goog.events.ListenerMap.prototype.removeAll = function (a) {\n    a = a && a.toString();\n    var b = 0,\n        c;\n\n    for (c in this.listeners) if (!a || c == a) {\n      for (var d = this.listeners[c], e = 0; e < d.length; e++) ++b, d[e].markAsRemoved();\n\n      delete this.listeners[c];\n      this.typeCount_--;\n    }\n\n    return b;\n  };\n\n  goog.events.ListenerMap.prototype.getListeners = function (a, b) {\n    var c = this.listeners[a.toString()],\n        d = [];\n    if (c) for (var e = 0; e < c.length; ++e) {\n      var f = c[e];\n      f.capture == b && d.push(f);\n    }\n    return d;\n  };\n\n  goog.events.ListenerMap.prototype.getListener = function (a, b, c, d) {\n    a = this.listeners[a.toString()];\n    var e = -1;\n    a && (e = goog.events.ListenerMap.findListenerIndex_(a, b, c, d));\n    return -1 < e ? a[e] : null;\n  };\n\n  goog.events.ListenerMap.prototype.hasListener = function (a, b) {\n    var c = goog.isDef(a),\n        d = c ? a.toString() : \"\",\n        e = goog.isDef(b);\n    return goog.object.some(this.listeners, function (a, g) {\n      for (var f = 0; f < a.length; ++f) if (!(c && a[f].type != d || e && a[f].capture != b)) return !0;\n\n      return !1;\n    });\n  };\n\n  goog.events.ListenerMap.findListenerIndex_ = function (a, b, c, d) {\n    for (var e = 0; e < a.length; ++e) {\n      var f = a[e];\n      if (!f.removed && f.listener == b && f.capture == !!c && f.handler == d) return e;\n    }\n\n    return -1;\n  };\n\n  goog.events.LISTENER_MAP_PROP_ = \"closure_lm_\" + (1E6 * Math.random() | 0);\n  goog.events.onString_ = \"on\";\n  goog.events.onStringMap_ = {};\n  goog.events.CaptureSimulationMode = {\n    OFF_AND_FAIL: 0,\n    OFF_AND_SILENT: 1,\n    ON: 2\n  };\n  goog.events.CAPTURE_SIMULATION_MODE = 2;\n  goog.events.listenerCountEstimate_ = 0;\n\n  goog.events.listen = function (a, b, c, d, e) {\n    if (d && d.once) return goog.events.listenOnce(a, b, c, d, e);\n\n    if (goog.isArray(b)) {\n      for (var f = 0; f < b.length; f++) goog.events.listen(a, b[f], c, d, e);\n\n      return null;\n    }\n\n    c = goog.events.wrapListener(c);\n    return goog.events.Listenable.isImplementedBy(a) ? (d = goog.isObject(d) ? !!d.capture : !!d, a.listen(b, c, d, e)) : goog.events.listen_(a, b, c, !1, d, e);\n  };\n\n  goog.events.listen_ = function (a, b, c, d, e, f) {\n    if (!b) throw Error(\"Invalid event type\");\n    var g = goog.isObject(e) ? !!e.capture : !!e;\n\n    if (g && !goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n      if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_FAIL) return goog.asserts.fail(\"Can not register capture listener in IE8-.\"), null;\n      if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_SILENT) return null;\n    }\n\n    var h = goog.events.getListenerMap_(a);\n    h || (a[goog.events.LISTENER_MAP_PROP_] = h = new goog.events.ListenerMap(a));\n    c = h.add(b, c, d, g, f);\n    if (c.proxy) return c;\n    d = goog.events.getProxy();\n    c.proxy = d;\n    d.src = a;\n    d.listener = c;\n    if (a.addEventListener) goog.events.BrowserFeature.PASSIVE_EVENTS || (e = g), void 0 === e && (e = !1), a.addEventListener(b.toString(), d, e);else if (a.attachEvent) a.attachEvent(goog.events.getOnString_(b.toString()), d);else if (a.addListener && a.removeListener) goog.asserts.assert(\"change\" === b, \"MediaQueryList only has a change event\"), a.addListener(d);else throw Error(\"addEventListener and attachEvent are unavailable.\");\n    goog.events.listenerCountEstimate_++;\n    return c;\n  };\n\n  goog.events.getProxy = function () {\n    var a = goog.events.handleBrowserEvent_,\n        b = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function (c) {\n      return a.call(b.src, b.listener, c);\n    } : function (c) {\n      c = a.call(b.src, b.listener, c);\n      if (!c) return c;\n    };\n    return b;\n  };\n\n  goog.events.listenOnce = function (a, b, c, d, e) {\n    if (goog.isArray(b)) {\n      for (var f = 0; f < b.length; f++) goog.events.listenOnce(a, b[f], c, d, e);\n\n      return null;\n    }\n\n    c = goog.events.wrapListener(c);\n    return goog.events.Listenable.isImplementedBy(a) ? (d = goog.isObject(d) ? !!d.capture : !!d, a.listenOnce(b, c, d, e)) : goog.events.listen_(a, b, c, !0, d, e);\n  };\n\n  goog.events.listenWithWrapper = function (a, b, c, d, e) {\n    b.listen(a, c, d, e);\n  };\n\n  goog.events.unlisten = function (a, b, c, d, e) {\n    if (goog.isArray(b)) {\n      for (var f = 0; f < b.length; f++) goog.events.unlisten(a, b[f], c, d, e);\n\n      return null;\n    }\n\n    d = goog.isObject(d) ? !!d.capture : !!d;\n    c = goog.events.wrapListener(c);\n    if (goog.events.Listenable.isImplementedBy(a)) return a.unlisten(b, c, d, e);\n    if (!a) return !1;\n    if (a = goog.events.getListenerMap_(a)) if (b = a.getListener(b, c, d, e)) return goog.events.unlistenByKey(b);\n    return !1;\n  };\n\n  goog.events.unlistenByKey = function (a) {\n    if (goog.isNumber(a) || !a || a.removed) return !1;\n    var b = a.src;\n    if (goog.events.Listenable.isImplementedBy(b)) return b.unlistenByKey(a);\n    var c = a.type,\n        d = a.proxy;\n    b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent ? b.detachEvent(goog.events.getOnString_(c), d) : b.addListener && b.removeListener && b.removeListener(d);\n    goog.events.listenerCountEstimate_--;\n    (c = goog.events.getListenerMap_(b)) ? (c.removeByKey(a), 0 == c.getTypeCount() && (c.src = null, b[goog.events.LISTENER_MAP_PROP_] = null)) : a.markAsRemoved();\n    return !0;\n  };\n\n  goog.events.unlistenWithWrapper = function (a, b, c, d, e) {\n    b.unlisten(a, c, d, e);\n  };\n\n  goog.events.removeAll = function (a, b) {\n    if (!a) return 0;\n    if (goog.events.Listenable.isImplementedBy(a)) return a.removeAllListeners(b);\n    var c = goog.events.getListenerMap_(a);\n    if (!c) return 0;\n    var d = 0,\n        e = b && b.toString(),\n        f;\n\n    for (f in c.listeners) if (!e || f == e) for (var g = c.listeners[f].concat(), h = 0; h < g.length; ++h) goog.events.unlistenByKey(g[h]) && ++d;\n\n    return d;\n  };\n\n  goog.events.getListeners = function (a, b, c) {\n    return goog.events.Listenable.isImplementedBy(a) ? a.getListeners(b, c) : a ? (a = goog.events.getListenerMap_(a)) ? a.getListeners(b, c) : [] : [];\n  };\n\n  goog.events.getListener = function (a, b, c, d, e) {\n    c = goog.events.wrapListener(c);\n    d = !!d;\n    return goog.events.Listenable.isImplementedBy(a) ? a.getListener(b, c, d, e) : a ? (a = goog.events.getListenerMap_(a)) ? a.getListener(b, c, d, e) : null : null;\n  };\n\n  goog.events.hasListener = function (a, b, c) {\n    if (goog.events.Listenable.isImplementedBy(a)) return a.hasListener(b, c);\n    a = goog.events.getListenerMap_(a);\n    return !!a && a.hasListener(b, c);\n  };\n\n  goog.events.expose = function (a) {\n    var b = [],\n        c;\n\n    for (c in a) a[c] && a[c].id ? b.push(c + \" = \" + a[c] + \" (\" + a[c].id + \")\") : b.push(c + \" = \" + a[c]);\n\n    return b.join(\"\\n\");\n  };\n\n  goog.events.getOnString_ = function (a) {\n    return a in goog.events.onStringMap_ ? goog.events.onStringMap_[a] : goog.events.onStringMap_[a] = goog.events.onString_ + a;\n  };\n\n  goog.events.fireListeners = function (a, b, c, d) {\n    return goog.events.Listenable.isImplementedBy(a) ? a.fireListeners(b, c, d) : goog.events.fireListeners_(a, b, c, d);\n  };\n\n  goog.events.fireListeners_ = function (a, b, c, d) {\n    var e = !0;\n    if (a = goog.events.getListenerMap_(a)) if (b = a.listeners[b.toString()]) for (b = b.concat(), a = 0; a < b.length; a++) {\n      var f = b[a];\n      f && f.capture == c && !f.removed && (f = goog.events.fireListener(f, d), e = e && !1 !== f);\n    }\n    return e;\n  };\n\n  goog.events.fireListener = function (a, b) {\n    var c = a.listener,\n        d = a.handler || a.src;\n    a.callOnce && goog.events.unlistenByKey(a);\n    return c.call(d, b);\n  };\n\n  goog.events.getTotalListenerCount = function () {\n    return goog.events.listenerCountEstimate_;\n  };\n\n  goog.events.dispatchEvent = function (a, b) {\n    goog.asserts.assert(goog.events.Listenable.isImplementedBy(a), \"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.\");\n    return a.dispatchEvent(b);\n  };\n\n  goog.events.protectBrowserEventEntryPoint = function (a) {\n    goog.events.handleBrowserEvent_ = a.protectEntryPoint(goog.events.handleBrowserEvent_);\n  };\n\n  goog.events.handleBrowserEvent_ = function (a, b) {\n    if (a.removed) return !0;\n\n    if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n      var c = b || goog.getObjectByName(\"window.event\"),\n          d = new goog.events.BrowserEvent(c, this),\n          e = !0;\n\n      if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.ON) {\n        if (!goog.events.isMarkedIeEvent_(c)) {\n          goog.events.markIeEvent_(c);\n          c = [];\n\n          for (var f = d.currentTarget; f; f = f.parentNode) c.push(f);\n\n          f = a.type;\n\n          for (var g = c.length - 1; !d.propagationStopped_ && 0 <= g; g--) {\n            d.currentTarget = c[g];\n            var h = goog.events.fireListeners_(c[g], f, !0, d);\n            e = e && h;\n          }\n\n          for (g = 0; !d.propagationStopped_ && g < c.length; g++) d.currentTarget = c[g], h = goog.events.fireListeners_(c[g], f, !1, d), e = e && h;\n        }\n      } else e = goog.events.fireListener(a, d);\n\n      return e;\n    }\n\n    return goog.events.fireListener(a, new goog.events.BrowserEvent(b, this));\n  };\n\n  goog.events.markIeEvent_ = function (a) {\n    var b = !1;\n    if (0 == a.keyCode) try {\n      a.keyCode = -1;\n      return;\n    } catch (c) {\n      b = !0;\n    }\n    if (b || void 0 == a.returnValue) a.returnValue = !0;\n  };\n\n  goog.events.isMarkedIeEvent_ = function (a) {\n    return 0 > a.keyCode || void 0 != a.returnValue;\n  };\n\n  goog.events.uniqueIdCounter_ = 0;\n\n  goog.events.getUniqueId = function (a) {\n    return a + \"_\" + goog.events.uniqueIdCounter_++;\n  };\n\n  goog.events.getListenerMap_ = function (a) {\n    a = a[goog.events.LISTENER_MAP_PROP_];\n    return a instanceof goog.events.ListenerMap ? a : null;\n  };\n\n  goog.events.LISTENER_WRAPPER_PROP_ = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\n\n  goog.events.wrapListener = function (a) {\n    goog.asserts.assert(a, \"Listener can not be null.\");\n    if (goog.isFunction(a)) return a;\n    goog.asserts.assert(a.handleEvent, \"An object listener must have handleEvent method.\");\n    a[goog.events.LISTENER_WRAPPER_PROP_] || (a[goog.events.LISTENER_WRAPPER_PROP_] = function (b) {\n      return a.handleEvent(b);\n    });\n    return a[goog.events.LISTENER_WRAPPER_PROP_];\n  };\n\n  goog.debug.entryPointRegistry.register(function (a) {\n    goog.events.handleBrowserEvent_ = a(goog.events.handleBrowserEvent_);\n  });\n  goog.math = {};\n\n  goog.math.randomInt = function (a) {\n    return Math.floor(Math.random() * a);\n  };\n\n  goog.math.uniformRandom = function (a, b) {\n    return a + Math.random() * (b - a);\n  };\n\n  goog.math.clamp = function (a, b, c) {\n    return Math.min(Math.max(a, b), c);\n  };\n\n  goog.math.modulo = function (a, b) {\n    var c = a % b;\n    return 0 > c * b ? c + b : c;\n  };\n\n  goog.math.lerp = function (a, b, c) {\n    return a + c * (b - a);\n  };\n\n  goog.math.nearlyEquals = function (a, b, c) {\n    return Math.abs(a - b) <= (c || 1E-6);\n  };\n\n  goog.math.standardAngle = function (a) {\n    return goog.math.modulo(a, 360);\n  };\n\n  goog.math.standardAngleInRadians = function (a) {\n    return goog.math.modulo(a, 2 * Math.PI);\n  };\n\n  goog.math.toRadians = function (a) {\n    return a * Math.PI / 180;\n  };\n\n  goog.math.toDegrees = function (a) {\n    return 180 * a / Math.PI;\n  };\n\n  goog.math.angleDx = function (a, b) {\n    return b * Math.cos(goog.math.toRadians(a));\n  };\n\n  goog.math.angleDy = function (a, b) {\n    return b * Math.sin(goog.math.toRadians(a));\n  };\n\n  goog.math.angle = function (a, b, c, d) {\n    return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d - b, c - a)));\n  };\n\n  goog.math.angleDifference = function (a, b) {\n    var c = goog.math.standardAngle(b) - goog.math.standardAngle(a);\n    180 < c ? c -= 360 : -180 >= c && (c = 360 + c);\n    return c;\n  };\n\n  goog.math.sign = function (a) {\n    return 0 < a ? 1 : 0 > a ? -1 : a;\n  };\n\n  goog.math.longestCommonSubsequence = function (a, b, c, d) {\n    c = c || function (a, b) {\n      return a == b;\n    };\n\n    d = d || function (b, c) {\n      return a[b];\n    };\n\n    for (var e = a.length, f = b.length, g = [], h = 0; h < e + 1; h++) g[h] = [], g[h][0] = 0;\n\n    for (var k = 0; k < f + 1; k++) g[0][k] = 0;\n\n    for (h = 1; h <= e; h++) for (k = 1; k <= f; k++) c(a[h - 1], b[k - 1]) ? g[h][k] = g[h - 1][k - 1] + 1 : g[h][k] = Math.max(g[h - 1][k], g[h][k - 1]);\n\n    var l = [];\n    h = e;\n\n    for (k = f; 0 < h && 0 < k;) c(a[h - 1], b[k - 1]) ? (l.unshift(d(h - 1, k - 1)), h--, k--) : g[h - 1][k] > g[h][k - 1] ? h-- : k--;\n\n    return l;\n  };\n\n  goog.math.sum = function (a) {\n    return goog.array.reduce(arguments, function (a, c) {\n      return a + c;\n    }, 0);\n  };\n\n  goog.math.average = function (a) {\n    return goog.math.sum.apply(null, arguments) / arguments.length;\n  };\n\n  goog.math.sampleVariance = function (a) {\n    var b = arguments.length;\n    if (2 > b) return 0;\n    var c = goog.math.average.apply(null, arguments);\n    return goog.math.sum.apply(null, goog.array.map(arguments, function (a) {\n      return Math.pow(a - c, 2);\n    })) / (b - 1);\n  };\n\n  goog.math.standardDeviation = function (a) {\n    return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));\n  };\n\n  goog.math.isInt = function (a) {\n    return isFinite(a) && 0 == a % 1;\n  };\n\n  goog.math.isFiniteNumber = function (a) {\n    return isFinite(a);\n  };\n\n  goog.math.isNegativeZero = function (a) {\n    return 0 == a && 0 > 1 / a;\n  };\n\n  goog.math.log10Floor = function (a) {\n    if (0 < a) {\n      var b = Math.round(Math.log(a) * Math.LOG10E);\n      return b - (parseFloat(\"1e\" + b) > a ? 1 : 0);\n    }\n\n    return 0 == a ? -Infinity : NaN;\n  };\n\n  goog.math.safeFloor = function (a, b) {\n    goog.asserts.assert(!goog.isDef(b) || 0 < b);\n    return Math.floor(a + (b || 2E-15));\n  };\n\n  goog.math.safeCeil = function (a, b) {\n    goog.asserts.assert(!goog.isDef(b) || 0 < b);\n    return Math.ceil(a - (b || 2E-15));\n  };\n\n  goog.math.Coordinate = function (a, b) {\n    this.x = goog.isDef(a) ? a : 0;\n    this.y = goog.isDef(b) ? b : 0;\n  };\n\n  goog.math.Coordinate.prototype.clone = function () {\n    return new goog.math.Coordinate(this.x, this.y);\n  };\n\n  goog.DEBUG && (goog.math.Coordinate.prototype.toString = function () {\n    return \"(\" + this.x + \", \" + this.y + \")\";\n  });\n\n  goog.math.Coordinate.prototype.equals = function (a) {\n    return a instanceof goog.math.Coordinate && goog.math.Coordinate.equals(this, a);\n  };\n\n  goog.math.Coordinate.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n  };\n\n  goog.math.Coordinate.distance = function (a, b) {\n    var c = a.x - b.x,\n        d = a.y - b.y;\n    return Math.sqrt(c * c + d * d);\n  };\n\n  goog.math.Coordinate.magnitude = function (a) {\n    return Math.sqrt(a.x * a.x + a.y * a.y);\n  };\n\n  goog.math.Coordinate.azimuth = function (a) {\n    return goog.math.angle(0, 0, a.x, a.y);\n  };\n\n  goog.math.Coordinate.squaredDistance = function (a, b) {\n    var c = a.x - b.x,\n        d = a.y - b.y;\n    return c * c + d * d;\n  };\n\n  goog.math.Coordinate.difference = function (a, b) {\n    return new goog.math.Coordinate(a.x - b.x, a.y - b.y);\n  };\n\n  goog.math.Coordinate.sum = function (a, b) {\n    return new goog.math.Coordinate(a.x + b.x, a.y + b.y);\n  };\n\n  goog.math.Coordinate.prototype.ceil = function () {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    return this;\n  };\n\n  goog.math.Coordinate.prototype.floor = function () {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    return this;\n  };\n\n  goog.math.Coordinate.prototype.round = function () {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n  };\n\n  goog.math.Coordinate.prototype.translate = function (a, b) {\n    a instanceof goog.math.Coordinate ? (this.x += a.x, this.y += a.y) : (this.x += Number(a), goog.isNumber(b) && (this.y += b));\n    return this;\n  };\n\n  goog.math.Coordinate.prototype.scale = function (a, b) {\n    var c = goog.isNumber(b) ? b : a;\n    this.x *= a;\n    this.y *= c;\n    return this;\n  };\n\n  goog.math.Coordinate.prototype.rotateRadians = function (a, b) {\n    var c = b || new goog.math.Coordinate(0, 0),\n        d = this.x,\n        e = this.y,\n        f = Math.cos(a),\n        g = Math.sin(a);\n    this.x = (d - c.x) * f - (e - c.y) * g + c.x;\n    this.y = (d - c.x) * g + (e - c.y) * f + c.y;\n  };\n\n  goog.math.Coordinate.prototype.rotateDegrees = function (a, b) {\n    this.rotateRadians(goog.math.toRadians(a), b);\n  };\n\n  goog.dom.BrowserFeature = {\n    CAN_ADD_NAME_OR_TYPE_ATTRIBUTES: !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9),\n    CAN_USE_CHILDREN_ATTRIBUTE: !goog.userAgent.GECKO && !goog.userAgent.IE || goog.userAgent.IE && goog.userAgent.isDocumentModeOrHigher(9) || goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher(\"1.9.1\"),\n    CAN_USE_INNER_TEXT: goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"9\"),\n    CAN_USE_PARENT_ELEMENT_PROPERTY: goog.userAgent.IE || goog.userAgent.OPERA || goog.userAgent.WEBKIT,\n    INNER_HTML_NEEDS_SCOPED_ELEMENT: goog.userAgent.IE,\n    LEGACY_IE_RANGES: goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)\n  };\n\n  goog.math.Size = function (a, b) {\n    this.width = a;\n    this.height = b;\n  };\n\n  goog.math.Size.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n  };\n\n  goog.math.Size.prototype.clone = function () {\n    return new goog.math.Size(this.width, this.height);\n  };\n\n  goog.DEBUG && (goog.math.Size.prototype.toString = function () {\n    return \"(\" + this.width + \" x \" + this.height + \")\";\n  });\n\n  goog.math.Size.prototype.getLongest = function () {\n    return Math.max(this.width, this.height);\n  };\n\n  goog.math.Size.prototype.getShortest = function () {\n    return Math.min(this.width, this.height);\n  };\n\n  goog.math.Size.prototype.area = function () {\n    return this.width * this.height;\n  };\n\n  goog.math.Size.prototype.perimeter = function () {\n    return 2 * (this.width + this.height);\n  };\n\n  goog.math.Size.prototype.aspectRatio = function () {\n    return this.width / this.height;\n  };\n\n  goog.math.Size.prototype.isEmpty = function () {\n    return !this.area();\n  };\n\n  goog.math.Size.prototype.ceil = function () {\n    this.width = Math.ceil(this.width);\n    this.height = Math.ceil(this.height);\n    return this;\n  };\n\n  goog.math.Size.prototype.fitsInside = function (a) {\n    return this.width <= a.width && this.height <= a.height;\n  };\n\n  goog.math.Size.prototype.floor = function () {\n    this.width = Math.floor(this.width);\n    this.height = Math.floor(this.height);\n    return this;\n  };\n\n  goog.math.Size.prototype.round = function () {\n    this.width = Math.round(this.width);\n    this.height = Math.round(this.height);\n    return this;\n  };\n\n  goog.math.Size.prototype.scale = function (a, b) {\n    var c = goog.isNumber(b) ? b : a;\n    this.width *= a;\n    this.height *= c;\n    return this;\n  };\n\n  goog.math.Size.prototype.scaleToCover = function (a) {\n    a = this.aspectRatio() <= a.aspectRatio() ? a.width / this.width : a.height / this.height;\n    return this.scale(a);\n  };\n\n  goog.math.Size.prototype.scaleToFit = function (a) {\n    a = this.aspectRatio() > a.aspectRatio() ? a.width / this.width : a.height / this.height;\n    return this.scale(a);\n  };\n\n  goog.dom.ASSUME_QUIRKS_MODE = !1;\n  goog.dom.ASSUME_STANDARDS_MODE = !1;\n  goog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\n\n  goog.dom.getDomHelper = function (a) {\n    return a ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper());\n  };\n\n  goog.dom.getDocument = function () {\n    return document;\n  };\n\n  goog.dom.getElement = function (a) {\n    return goog.dom.getElementHelper_(document, a);\n  };\n\n  goog.dom.getElementHelper_ = function (a, b) {\n    return goog.isString(b) ? a.getElementById(b) : b;\n  };\n\n  goog.dom.getRequiredElement = function (a) {\n    return goog.dom.getRequiredElementHelper_(document, a);\n  };\n\n  goog.dom.getRequiredElementHelper_ = function (a, b) {\n    goog.asserts.assertString(b);\n    var c = goog.dom.getElementHelper_(a, b);\n    return c = goog.asserts.assertElement(c, \"No element found with id: \" + b);\n  };\n\n  goog.dom.$ = goog.dom.getElement;\n\n  goog.dom.getElementsByTagName = function (a, b) {\n    return (b || document).getElementsByTagName(String(a));\n  };\n\n  goog.dom.getElementsByTagNameAndClass = function (a, b, c) {\n    return goog.dom.getElementsByTagNameAndClass_(document, a, b, c);\n  };\n\n  goog.dom.getElementByTagNameAndClass = function (a, b, c) {\n    return goog.dom.getElementByTagNameAndClass_(document, a, b, c);\n  };\n\n  goog.dom.getElementsByClass = function (a, b) {\n    var c = b || document;\n    return goog.dom.canUseQuerySelector_(c) ? c.querySelectorAll(\".\" + a) : goog.dom.getElementsByTagNameAndClass_(document, \"*\", a, b);\n  };\n\n  goog.dom.getElementByClass = function (a, b) {\n    var c = b || document;\n    return (c.getElementsByClassName ? c.getElementsByClassName(a)[0] : goog.dom.getElementByTagNameAndClass_(document, \"*\", a, b)) || null;\n  };\n\n  goog.dom.getRequiredElementByClass = function (a, b) {\n    var c = goog.dom.getElementByClass(a, b);\n    return goog.asserts.assert(c, \"No element found with className: \" + a);\n  };\n\n  goog.dom.canUseQuerySelector_ = function (a) {\n    return !(!a.querySelectorAll || !a.querySelector);\n  };\n\n  goog.dom.getElementsByTagNameAndClass_ = function (a, b, c, d) {\n    a = d || a;\n    b = b && \"*\" != b ? String(b).toUpperCase() : \"\";\n    if (goog.dom.canUseQuerySelector_(a) && (b || c)) return a.querySelectorAll(b + (c ? \".\" + c : \"\"));\n\n    if (c && a.getElementsByClassName) {\n      a = a.getElementsByClassName(c);\n\n      if (b) {\n        d = {};\n\n        for (var e = 0, f = 0, g; g = a[f]; f++) b == g.nodeName && (d[e++] = g);\n\n        d.length = e;\n        return d;\n      }\n\n      return a;\n    }\n\n    a = a.getElementsByTagName(b || \"*\");\n\n    if (c) {\n      d = {};\n\n      for (f = e = 0; g = a[f]; f++) b = g.className, \"function\" == typeof b.split && goog.array.contains(b.split(/\\s+/), c) && (d[e++] = g);\n\n      d.length = e;\n      return d;\n    }\n\n    return a;\n  };\n\n  goog.dom.getElementByTagNameAndClass_ = function (a, b, c, d) {\n    var e = d || a,\n        f = b && \"*\" != b ? String(b).toUpperCase() : \"\";\n    return goog.dom.canUseQuerySelector_(e) && (f || c) ? e.querySelector(f + (c ? \".\" + c : \"\")) : goog.dom.getElementsByTagNameAndClass_(a, b, c, d)[0] || null;\n  };\n\n  goog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\n\n  goog.dom.setProperties = function (a, b) {\n    goog.object.forEach(b, function (b, d) {\n      b && \"object\" == typeof b && b.implementsGoogStringTypedString && (b = b.getTypedStringValue());\n      \"style\" == d ? a.style.cssText = b : \"class\" == d ? a.className = b : \"for\" == d ? a.htmlFor = b : goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d) ? a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d], b) : goog.string.startsWith(d, \"aria-\") || goog.string.startsWith(d, \"data-\") ? a.setAttribute(d, b) : a[d] = b;\n    });\n  };\n\n  goog.dom.DIRECT_ATTRIBUTE_MAP_ = {\n    cellpadding: \"cellPadding\",\n    cellspacing: \"cellSpacing\",\n    colspan: \"colSpan\",\n    frameborder: \"frameBorder\",\n    height: \"height\",\n    maxlength: \"maxLength\",\n    nonce: \"nonce\",\n    role: \"role\",\n    rowspan: \"rowSpan\",\n    type: \"type\",\n    usemap: \"useMap\",\n    valign: \"vAlign\",\n    width: \"width\"\n  };\n\n  goog.dom.getViewportSize = function (a) {\n    return goog.dom.getViewportSize_(a || window);\n  };\n\n  goog.dom.getViewportSize_ = function (a) {\n    a = a.document;\n    a = goog.dom.isCss1CompatMode_(a) ? a.documentElement : a.body;\n    return new goog.math.Size(a.clientWidth, a.clientHeight);\n  };\n\n  goog.dom.getDocumentHeight = function () {\n    return goog.dom.getDocumentHeight_(window);\n  };\n\n  goog.dom.getDocumentHeightForWindow = function (a) {\n    return goog.dom.getDocumentHeight_(a);\n  };\n\n  goog.dom.getDocumentHeight_ = function (a) {\n    var b = a.document,\n        c = 0;\n\n    if (b) {\n      c = b.body;\n      var d = b.documentElement;\n      if (!d || !c) return 0;\n      a = goog.dom.getViewportSize_(a).height;\n      if (goog.dom.isCss1CompatMode_(b) && d.scrollHeight) c = d.scrollHeight != a ? d.scrollHeight : d.offsetHeight;else {\n        b = d.scrollHeight;\n        var e = d.offsetHeight;\n        d.clientHeight != e && (b = c.scrollHeight, e = c.offsetHeight);\n        c = b > a ? b > e ? b : e : b < e ? b : e;\n      }\n    }\n\n    return c;\n  };\n\n  goog.dom.getPageScroll = function (a) {\n    return goog.dom.getDomHelper((a || goog.global || window).document).getDocumentScroll();\n  };\n\n  goog.dom.getDocumentScroll = function () {\n    return goog.dom.getDocumentScroll_(document);\n  };\n\n  goog.dom.getDocumentScroll_ = function (a) {\n    var b = goog.dom.getDocumentScrollElement_(a);\n    a = goog.dom.getWindow_(a);\n    return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"10\") && a.pageYOffset != b.scrollTop ? new goog.math.Coordinate(b.scrollLeft, b.scrollTop) : new goog.math.Coordinate(a.pageXOffset || b.scrollLeft, a.pageYOffset || b.scrollTop);\n  };\n\n  goog.dom.getDocumentScrollElement = function () {\n    return goog.dom.getDocumentScrollElement_(document);\n  };\n\n  goog.dom.getDocumentScrollElement_ = function (a) {\n    return a.scrollingElement ? a.scrollingElement : !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(a) ? a.documentElement : a.body || a.documentElement;\n  };\n\n  goog.dom.getWindow = function (a) {\n    return a ? goog.dom.getWindow_(a) : window;\n  };\n\n  goog.dom.getWindow_ = function (a) {\n    return a.parentWindow || a.defaultView;\n  };\n\n  goog.dom.createDom = function (a, b, c) {\n    return goog.dom.createDom_(document, arguments);\n  };\n\n  goog.dom.createDom_ = function (a, b) {\n    var c = String(b[0]),\n        d = b[1];\n\n    if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && d && (d.name || d.type)) {\n      c = [\"<\", c];\n      d.name && c.push(' name=\"', goog.string.htmlEscape(d.name), '\"');\n\n      if (d.type) {\n        c.push(' type=\"', goog.string.htmlEscape(d.type), '\"');\n        var e = {};\n        goog.object.extend(e, d);\n        delete e.type;\n        d = e;\n      }\n\n      c.push(\">\");\n      c = c.join(\"\");\n    }\n\n    c = a.createElement(c);\n    d && (goog.isString(d) ? c.className = d : goog.isArray(d) ? c.className = d.join(\" \") : goog.dom.setProperties(c, d));\n    2 < b.length && goog.dom.append_(a, c, b, 2);\n    return c;\n  };\n\n  goog.dom.append_ = function (a, b, c, d) {\n    function e(c) {\n      c && b.appendChild(goog.isString(c) ? a.createTextNode(c) : c);\n    }\n\n    for (; d < c.length; d++) {\n      var f = c[d];\n      goog.isArrayLike(f) && !goog.dom.isNodeLike(f) ? goog.array.forEach(goog.dom.isNodeList(f) ? goog.array.toArray(f) : f, e) : e(f);\n    }\n  };\n\n  goog.dom.$dom = goog.dom.createDom;\n\n  goog.dom.createElement = function (a) {\n    return goog.dom.createElement_(document, a);\n  };\n\n  goog.dom.createElement_ = function (a, b) {\n    return a.createElement(String(b));\n  };\n\n  goog.dom.createTextNode = function (a) {\n    return document.createTextNode(String(a));\n  };\n\n  goog.dom.createTable = function (a, b, c) {\n    return goog.dom.createTable_(document, a, b, !!c);\n  };\n\n  goog.dom.createTable_ = function (a, b, c, d) {\n    for (var e = goog.dom.createElement_(a, \"TABLE\"), f = e.appendChild(goog.dom.createElement_(a, \"TBODY\")), g = 0; g < b; g++) {\n      for (var h = goog.dom.createElement_(a, \"TR\"), k = 0; k < c; k++) {\n        var l = goog.dom.createElement_(a, \"TD\");\n        d && goog.dom.setTextContent(l, goog.string.Unicode.NBSP);\n        h.appendChild(l);\n      }\n\n      f.appendChild(h);\n    }\n\n    return e;\n  };\n\n  goog.dom.constHtmlToNode = function (a) {\n    var b = goog.array.map(arguments, goog.string.Const.unwrap);\n    b = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML string, that gets turned into a Node later, so it will be automatically balanced.\"), b.join(\"\"));\n    return goog.dom.safeHtmlToNode(b);\n  };\n\n  goog.dom.safeHtmlToNode = function (a) {\n    return goog.dom.safeHtmlToNode_(document, a);\n  };\n\n  goog.dom.safeHtmlToNode_ = function (a, b) {\n    var c = goog.dom.createElement_(a, \"DIV\");\n    goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT ? (goog.dom.safe.setInnerHtml(c, goog.html.SafeHtml.concat(goog.html.SafeHtml.BR, b)), c.removeChild(goog.asserts.assert(c.firstChild))) : goog.dom.safe.setInnerHtml(c, b);\n    return goog.dom.childrenToNode_(a, c);\n  };\n\n  goog.dom.childrenToNode_ = function (a, b) {\n    if (1 == b.childNodes.length) return b.removeChild(goog.asserts.assert(b.firstChild));\n\n    for (var c = a.createDocumentFragment(); b.firstChild;) c.appendChild(b.firstChild);\n\n    return c;\n  };\n\n  goog.dom.isCss1CompatMode = function () {\n    return goog.dom.isCss1CompatMode_(document);\n  };\n\n  goog.dom.isCss1CompatMode_ = function (a) {\n    return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : \"CSS1Compat\" == a.compatMode;\n  };\n\n  goog.dom.canHaveChildren = function (a) {\n    if (a.nodeType != goog.dom.NodeType.ELEMENT) return !1;\n\n    switch (a.tagName) {\n      case \"APPLET\":\n      case \"AREA\":\n      case \"BASE\":\n      case \"BR\":\n      case \"COL\":\n      case \"COMMAND\":\n      case \"EMBED\":\n      case \"FRAME\":\n      case \"HR\":\n      case \"IMG\":\n      case \"INPUT\":\n      case \"IFRAME\":\n      case \"ISINDEX\":\n      case \"KEYGEN\":\n      case \"LINK\":\n      case \"NOFRAMES\":\n      case \"NOSCRIPT\":\n      case \"META\":\n      case \"OBJECT\":\n      case \"PARAM\":\n      case \"SCRIPT\":\n      case \"SOURCE\":\n      case \"STYLE\":\n      case \"TRACK\":\n      case \"WBR\":\n        return !1;\n    }\n\n    return !0;\n  };\n\n  goog.dom.appendChild = function (a, b) {\n    goog.asserts.assert(null != a && null != b, \"goog.dom.appendChild expects non-null arguments\");\n    a.appendChild(b);\n  };\n\n  goog.dom.append = function (a, b) {\n    goog.dom.append_(goog.dom.getOwnerDocument(a), a, arguments, 1);\n  };\n\n  goog.dom.removeChildren = function (a) {\n    for (var b; b = a.firstChild;) a.removeChild(b);\n  };\n\n  goog.dom.insertSiblingBefore = function (a, b) {\n    goog.asserts.assert(null != a && null != b, \"goog.dom.insertSiblingBefore expects non-null arguments\");\n    b.parentNode && b.parentNode.insertBefore(a, b);\n  };\n\n  goog.dom.insertSiblingAfter = function (a, b) {\n    goog.asserts.assert(null != a && null != b, \"goog.dom.insertSiblingAfter expects non-null arguments\");\n    b.parentNode && b.parentNode.insertBefore(a, b.nextSibling);\n  };\n\n  goog.dom.insertChildAt = function (a, b, c) {\n    goog.asserts.assert(null != a, \"goog.dom.insertChildAt expects a non-null parent\");\n    a.insertBefore(b, a.childNodes[c] || null);\n  };\n\n  goog.dom.removeNode = function (a) {\n    return a && a.parentNode ? a.parentNode.removeChild(a) : null;\n  };\n\n  goog.dom.replaceNode = function (a, b) {\n    goog.asserts.assert(null != a && null != b, \"goog.dom.replaceNode expects non-null arguments\");\n    var c = b.parentNode;\n    c && c.replaceChild(a, b);\n  };\n\n  goog.dom.flattenElement = function (a) {\n    var b,\n        c = a.parentNode;\n\n    if (c && c.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n      if (a.removeNode) return a.removeNode(!1);\n\n      for (; b = a.firstChild;) c.insertBefore(b, a);\n\n      return goog.dom.removeNode(a);\n    }\n  };\n\n  goog.dom.getChildren = function (a) {\n    return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE && void 0 != a.children ? a.children : goog.array.filter(a.childNodes, function (a) {\n      return a.nodeType == goog.dom.NodeType.ELEMENT;\n    });\n  };\n\n  goog.dom.getFirstElementChild = function (a) {\n    return goog.isDef(a.firstElementChild) ? a.firstElementChild : goog.dom.getNextElementNode_(a.firstChild, !0);\n  };\n\n  goog.dom.getLastElementChild = function (a) {\n    return goog.isDef(a.lastElementChild) ? a.lastElementChild : goog.dom.getNextElementNode_(a.lastChild, !1);\n  };\n\n  goog.dom.getNextElementSibling = function (a) {\n    return goog.isDef(a.nextElementSibling) ? a.nextElementSibling : goog.dom.getNextElementNode_(a.nextSibling, !0);\n  };\n\n  goog.dom.getPreviousElementSibling = function (a) {\n    return goog.isDef(a.previousElementSibling) ? a.previousElementSibling : goog.dom.getNextElementNode_(a.previousSibling, !1);\n  };\n\n  goog.dom.getNextElementNode_ = function (a, b) {\n    for (; a && a.nodeType != goog.dom.NodeType.ELEMENT;) a = b ? a.nextSibling : a.previousSibling;\n\n    return a;\n  };\n\n  goog.dom.getNextNode = function (a) {\n    if (!a) return null;\n    if (a.firstChild) return a.firstChild;\n\n    for (; a && !a.nextSibling;) a = a.parentNode;\n\n    return a ? a.nextSibling : null;\n  };\n\n  goog.dom.getPreviousNode = function (a) {\n    if (!a) return null;\n    if (!a.previousSibling) return a.parentNode;\n\n    for (a = a.previousSibling; a && a.lastChild;) a = a.lastChild;\n\n    return a;\n  };\n\n  goog.dom.isNodeLike = function (a) {\n    return goog.isObject(a) && 0 < a.nodeType;\n  };\n\n  goog.dom.isElement = function (a) {\n    return goog.isObject(a) && a.nodeType == goog.dom.NodeType.ELEMENT;\n  };\n\n  goog.dom.isWindow = function (a) {\n    return goog.isObject(a) && a.window == a;\n  };\n\n  goog.dom.getParentElement = function (a) {\n    var b;\n    if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY && !(goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"9\") && !goog.userAgent.isVersionOrHigher(\"10\") && goog.global.SVGElement && a instanceof goog.global.SVGElement) && (b = a.parentElement)) return b;\n    b = a.parentNode;\n    return goog.dom.isElement(b) ? b : null;\n  };\n\n  goog.dom.contains = function (a, b) {\n    if (!a || !b) return !1;\n    if (a.contains && b.nodeType == goog.dom.NodeType.ELEMENT) return a == b || a.contains(b);\n    if (\"undefined\" != typeof a.compareDocumentPosition) return a == b || !!(a.compareDocumentPosition(b) & 16);\n\n    for (; b && a != b;) b = b.parentNode;\n\n    return b == a;\n  };\n\n  goog.dom.compareNodeOrder = function (a, b) {\n    if (a == b) return 0;\n    if (a.compareDocumentPosition) return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n      if (a.nodeType == goog.dom.NodeType.DOCUMENT) return -1;\n      if (b.nodeType == goog.dom.NodeType.DOCUMENT) return 1;\n    }\n\n    if (\"sourceIndex\" in a || a.parentNode && \"sourceIndex\" in a.parentNode) {\n      var c = a.nodeType == goog.dom.NodeType.ELEMENT,\n          d = b.nodeType == goog.dom.NodeType.ELEMENT;\n      if (c && d) return a.sourceIndex - b.sourceIndex;\n      var e = a.parentNode,\n          f = b.parentNode;\n      return e == f ? goog.dom.compareSiblingOrder_(a, b) : !c && goog.dom.contains(e, b) ? -1 * goog.dom.compareParentsDescendantNodeIe_(a, b) : !d && goog.dom.contains(f, a) ? goog.dom.compareParentsDescendantNodeIe_(b, a) : (c ? a.sourceIndex : e.sourceIndex) - (d ? b.sourceIndex : f.sourceIndex);\n    }\n\n    d = goog.dom.getOwnerDocument(a);\n    c = d.createRange();\n    c.selectNode(a);\n    c.collapse(!0);\n    d = d.createRange();\n    d.selectNode(b);\n    d.collapse(!0);\n    return c.compareBoundaryPoints(goog.global.Range.START_TO_END, d);\n  };\n\n  goog.dom.compareParentsDescendantNodeIe_ = function (a, b) {\n    var c = a.parentNode;\n    if (c == b) return -1;\n\n    for (var d = b; d.parentNode != c;) d = d.parentNode;\n\n    return goog.dom.compareSiblingOrder_(d, a);\n  };\n\n  goog.dom.compareSiblingOrder_ = function (a, b) {\n    for (var c = b; c = c.previousSibling;) if (c == a) return -1;\n\n    return 1;\n  };\n\n  goog.dom.findCommonAncestor = function (a) {\n    var b,\n        c = arguments.length;\n    if (!c) return null;\n    if (1 == c) return arguments[0];\n    var d = [],\n        e = Infinity;\n\n    for (b = 0; b < c; b++) {\n      for (var f = [], g = arguments[b]; g;) f.unshift(g), g = g.parentNode;\n\n      d.push(f);\n      e = Math.min(e, f.length);\n    }\n\n    f = null;\n\n    for (b = 0; b < e; b++) {\n      g = d[0][b];\n\n      for (var h = 1; h < c; h++) if (g != d[h][b]) return f;\n\n      f = g;\n    }\n\n    return f;\n  };\n\n  goog.dom.isInDocument = function (a) {\n    return 16 == (a.ownerDocument.compareDocumentPosition(a) & 16);\n  };\n\n  goog.dom.getOwnerDocument = function (a) {\n    goog.asserts.assert(a, \"Node cannot be null or undefined.\");\n    return a.nodeType == goog.dom.NodeType.DOCUMENT ? a : a.ownerDocument || a.document;\n  };\n\n  goog.dom.getFrameContentDocument = function (a) {\n    return a.contentDocument || a.contentWindow.document;\n  };\n\n  goog.dom.getFrameContentWindow = function (a) {\n    try {\n      return a.contentWindow || (a.contentDocument ? goog.dom.getWindow(a.contentDocument) : null);\n    } catch (b) {}\n\n    return null;\n  };\n\n  goog.dom.setTextContent = function (a, b) {\n    goog.asserts.assert(null != a, \"goog.dom.setTextContent expects a non-null value for node\");\n    if (\"textContent\" in a) a.textContent = b;else if (a.nodeType == goog.dom.NodeType.TEXT) a.data = String(b);else if (a.firstChild && a.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n      for (; a.lastChild != a.firstChild;) a.removeChild(goog.asserts.assert(a.lastChild));\n\n      a.firstChild.data = String(b);\n    } else {\n      goog.dom.removeChildren(a);\n      var c = goog.dom.getOwnerDocument(a);\n      a.appendChild(c.createTextNode(String(b)));\n    }\n  };\n\n  goog.dom.getOuterHtml = function (a) {\n    goog.asserts.assert(null !== a, \"goog.dom.getOuterHtml expects a non-null value for element\");\n    if (\"outerHTML\" in a) return a.outerHTML;\n    var b = goog.dom.getOwnerDocument(a);\n    b = goog.dom.createElement_(b, \"DIV\");\n    b.appendChild(a.cloneNode(!0));\n    return b.innerHTML;\n  };\n\n  goog.dom.findNode = function (a, b) {\n    var c = [];\n    return goog.dom.findNodes_(a, b, c, !0) ? c[0] : void 0;\n  };\n\n  goog.dom.findNodes = function (a, b) {\n    var c = [];\n    goog.dom.findNodes_(a, b, c, !1);\n    return c;\n  };\n\n  goog.dom.findNodes_ = function (a, b, c, d) {\n    if (null != a) for (a = a.firstChild; a;) {\n      if (b(a) && (c.push(a), d) || goog.dom.findNodes_(a, b, c, d)) return !0;\n      a = a.nextSibling;\n    }\n    return !1;\n  };\n\n  goog.dom.findElement = function (a, b) {\n    for (var c = goog.dom.getChildrenReverse_(a); 0 < c.length;) {\n      var d = c.pop();\n      if (b(d)) return d;\n\n      for (d = d.lastElementChild; d; d = d.previousElementSibling) c.push(d);\n    }\n\n    return null;\n  };\n\n  goog.dom.findElements = function (a, b) {\n    for (var c = [], d = goog.dom.getChildrenReverse_(a); 0 < d.length;) {\n      var e = d.pop();\n      b(e) && c.push(e);\n\n      for (e = e.lastElementChild; e; e = e.previousElementSibling) d.push(e);\n    }\n\n    return c;\n  };\n\n  goog.dom.getChildrenReverse_ = function (a) {\n    if (a.nodeType == goog.dom.NodeType.DOCUMENT) return [a.documentElement];\n    var b = [];\n\n    for (a = a.lastElementChild; a; a = a.previousElementSibling) b.push(a);\n\n    return b;\n  };\n\n  goog.dom.TAGS_TO_IGNORE_ = {\n    SCRIPT: 1,\n    STYLE: 1,\n    HEAD: 1,\n    IFRAME: 1,\n    OBJECT: 1\n  };\n  goog.dom.PREDEFINED_TAG_VALUES_ = {\n    IMG: \" \",\n    BR: \"\\n\"\n  };\n\n  goog.dom.isFocusableTabIndex = function (a) {\n    return goog.dom.hasSpecifiedTabIndex_(a) && goog.dom.isTabIndexFocusable_(a);\n  };\n\n  goog.dom.setFocusableTabIndex = function (a, b) {\n    b ? a.tabIndex = 0 : (a.tabIndex = -1, a.removeAttribute(\"tabIndex\"));\n  };\n\n  goog.dom.isFocusable = function (a) {\n    var b;\n    return (b = goog.dom.nativelySupportsFocus_(a) ? !a.disabled && (!goog.dom.hasSpecifiedTabIndex_(a) || goog.dom.isTabIndexFocusable_(a)) : goog.dom.isFocusableTabIndex(a)) && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(a) : b;\n  };\n\n  goog.dom.hasSpecifiedTabIndex_ = function (a) {\n    return goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"9\") ? (a = a.getAttributeNode(\"tabindex\"), goog.isDefAndNotNull(a) && a.specified) : a.hasAttribute(\"tabindex\");\n  };\n\n  goog.dom.isTabIndexFocusable_ = function (a) {\n    a = a.tabIndex;\n    return goog.isNumber(a) && 0 <= a && 32768 > a;\n  };\n\n  goog.dom.nativelySupportsFocus_ = function (a) {\n    return \"A\" == a.tagName && a.hasAttribute(\"href\") || \"INPUT\" == a.tagName || \"TEXTAREA\" == a.tagName || \"SELECT\" == a.tagName || \"BUTTON\" == a.tagName;\n  };\n\n  goog.dom.hasNonZeroBoundingRect_ = function (a) {\n    a = !goog.isFunction(a.getBoundingClientRect) || goog.userAgent.IE && null == a.parentElement ? {\n      height: a.offsetHeight,\n      width: a.offsetWidth\n    } : a.getBoundingClientRect();\n    return goog.isDefAndNotNull(a) && 0 < a.height && 0 < a.width;\n  };\n\n  goog.dom.getTextContent = function (a) {\n    if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && null !== a && \"innerText\" in a) a = goog.string.canonicalizeNewlines(a.innerText);else {\n      var b = [];\n      goog.dom.getTextContent_(a, b, !0);\n      a = b.join(\"\");\n    }\n    a = a.replace(/ \\xAD /g, \" \").replace(/\\xAD/g, \"\");\n    a = a.replace(/\\u200B/g, \"\");\n    goog.dom.BrowserFeature.CAN_USE_INNER_TEXT || (a = a.replace(/ +/g, \" \"));\n    \" \" != a && (a = a.replace(/^\\s*/, \"\"));\n    return a;\n  };\n\n  goog.dom.getRawTextContent = function (a) {\n    var b = [];\n    goog.dom.getTextContent_(a, b, !1);\n    return b.join(\"\");\n  };\n\n  goog.dom.getTextContent_ = function (a, b, c) {\n    if (!(a.nodeName in goog.dom.TAGS_TO_IGNORE_)) if (a.nodeType == goog.dom.NodeType.TEXT) c ? b.push(String(a.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, \"\")) : b.push(a.nodeValue);else if (a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for (a = a.firstChild; a;) goog.dom.getTextContent_(a, b, c), a = a.nextSibling;\n  };\n\n  goog.dom.getNodeTextLength = function (a) {\n    return goog.dom.getTextContent(a).length;\n  };\n\n  goog.dom.getNodeTextOffset = function (a, b) {\n    for (var c = b || goog.dom.getOwnerDocument(a).body, d = []; a && a != c;) {\n      for (var e = a; e = e.previousSibling;) d.unshift(goog.dom.getTextContent(e));\n\n      a = a.parentNode;\n    }\n\n    return goog.string.trimLeft(d.join(\"\")).replace(/ +/g, \" \").length;\n  };\n\n  goog.dom.getNodeAtOffset = function (a, b, c) {\n    a = [a];\n\n    for (var d = 0, e = null; 0 < a.length && d < b;) if (e = a.pop(), !(e.nodeName in goog.dom.TAGS_TO_IGNORE_)) if (e.nodeType == goog.dom.NodeType.TEXT) {\n      var f = e.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, \"\").replace(/ +/g, \" \");\n      d += f.length;\n    } else if (e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) d += goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for (f = e.childNodes.length - 1; 0 <= f; f--) a.push(e.childNodes[f]);\n\n    goog.isObject(c) && (c.remainder = e ? e.nodeValue.length + b - d - 1 : 0, c.node = e);\n    return e;\n  };\n\n  goog.dom.isNodeList = function (a) {\n    if (a && \"number\" == typeof a.length) {\n      if (goog.isObject(a)) return \"function\" == typeof a.item || \"string\" == typeof a.item;\n      if (goog.isFunction(a)) return \"function\" == typeof a.item;\n    }\n\n    return !1;\n  };\n\n  goog.dom.getAncestorByTagNameAndClass = function (a, b, c, d) {\n    if (!b && !c) return null;\n    var e = b ? String(b).toUpperCase() : null;\n    return goog.dom.getAncestor(a, function (a) {\n      return (!e || a.nodeName == e) && (!c || goog.isString(a.className) && goog.array.contains(a.className.split(/\\s+/), c));\n    }, !0, d);\n  };\n\n  goog.dom.getAncestorByClass = function (a, b, c) {\n    return goog.dom.getAncestorByTagNameAndClass(a, null, b, c);\n  };\n\n  goog.dom.getAncestor = function (a, b, c, d) {\n    a && !c && (a = a.parentNode);\n\n    for (c = 0; a && (null == d || c <= d);) {\n      goog.asserts.assert(\"parentNode\" != a.name);\n      if (b(a)) return a;\n      a = a.parentNode;\n      c++;\n    }\n\n    return null;\n  };\n\n  goog.dom.getActiveElement = function (a) {\n    try {\n      var b = a && a.activeElement;\n      return b && b.nodeName ? b : null;\n    } catch (c) {\n      return null;\n    }\n  };\n\n  goog.dom.getPixelRatio = function () {\n    var a = goog.dom.getWindow();\n    return goog.isDef(a.devicePixelRatio) ? a.devicePixelRatio : a.matchMedia ? goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) || .75 : 1;\n  };\n\n  goog.dom.matchesPixelRatio_ = function (a) {\n    return goog.dom.getWindow().matchMedia(\"(min-resolution: \" + a + \"dppx),(min--moz-device-pixel-ratio: \" + a + \"),(min-resolution: \" + 96 * a + \"dpi)\").matches ? a : 0;\n  };\n\n  goog.dom.getCanvasContext2D = function (a) {\n    return a.getContext(\"2d\");\n  };\n\n  goog.dom.DomHelper = function (a) {\n    this.document_ = a || goog.global.document || document;\n  };\n\n  goog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\n\n  goog.dom.DomHelper.prototype.setDocument = function (a) {\n    this.document_ = a;\n  };\n\n  goog.dom.DomHelper.prototype.getDocument = function () {\n    return this.document_;\n  };\n\n  goog.dom.DomHelper.prototype.getElement = function (a) {\n    return goog.dom.getElementHelper_(this.document_, a);\n  };\n\n  goog.dom.DomHelper.prototype.getRequiredElement = function (a) {\n    return goog.dom.getRequiredElementHelper_(this.document_, a);\n  };\n\n  goog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\n\n  goog.dom.DomHelper.prototype.getElementsByTagName = function (a, b) {\n    return (b || this.document_).getElementsByTagName(String(a));\n  };\n\n  goog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function (a, b, c) {\n    return goog.dom.getElementsByTagNameAndClass_(this.document_, a, b, c);\n  };\n\n  goog.dom.DomHelper.prototype.getElementByTagNameAndClass = function (a, b, c) {\n    return goog.dom.getElementByTagNameAndClass_(this.document_, a, b, c);\n  };\n\n  goog.dom.DomHelper.prototype.getElementsByClass = function (a, b) {\n    return goog.dom.getElementsByClass(a, b || this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getElementByClass = function (a, b) {\n    return goog.dom.getElementByClass(a, b || this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getRequiredElementByClass = function (a, b) {\n    return goog.dom.getRequiredElementByClass(a, b || this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\n  goog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\n\n  goog.dom.DomHelper.prototype.getViewportSize = function (a) {\n    return goog.dom.getViewportSize(a || this.getWindow());\n  };\n\n  goog.dom.DomHelper.prototype.getDocumentHeight = function () {\n    return goog.dom.getDocumentHeight_(this.getWindow());\n  };\n\n  goog.dom.DomHelper.prototype.createDom = function (a, b, c) {\n    return goog.dom.createDom_(this.document_, arguments);\n  };\n\n  goog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\n\n  goog.dom.DomHelper.prototype.createElement = function (a) {\n    return goog.dom.createElement_(this.document_, a);\n  };\n\n  goog.dom.DomHelper.prototype.createTextNode = function (a) {\n    return this.document_.createTextNode(String(a));\n  };\n\n  goog.dom.DomHelper.prototype.createTable = function (a, b, c) {\n    return goog.dom.createTable_(this.document_, a, b, !!c);\n  };\n\n  goog.dom.DomHelper.prototype.safeHtmlToNode = function (a) {\n    return goog.dom.safeHtmlToNode_(this.document_, a);\n  };\n\n  goog.dom.DomHelper.prototype.isCss1CompatMode = function () {\n    return goog.dom.isCss1CompatMode_(this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getWindow = function () {\n    return goog.dom.getWindow_(this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getDocumentScrollElement = function () {\n    return goog.dom.getDocumentScrollElement_(this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getDocumentScroll = function () {\n    return goog.dom.getDocumentScroll_(this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.getActiveElement = function (a) {\n    return goog.dom.getActiveElement(a || this.document_);\n  };\n\n  goog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\n  goog.dom.DomHelper.prototype.append = goog.dom.append;\n  goog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\n  goog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\n  goog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\n  goog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\n  goog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\n  goog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\n  goog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\n  goog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\n  goog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\n  goog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;\n  goog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\n  goog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;\n  goog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;\n  goog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\n  goog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\n  goog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\n  goog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\n  goog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\n  goog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\n  goog.dom.DomHelper.prototype.contains = goog.dom.contains;\n  goog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\n  goog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\n  goog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\n  goog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;\n  goog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;\n  goog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\n  goog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\n  goog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\n  goog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\n  goog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\n  goog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;\n  goog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\n  goog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\n  goog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\n  goog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\n  goog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\n  goog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\n  goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;\n  goog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\n  goog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\n  goog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\n  goog.dom.vendor = {};\n\n  goog.dom.vendor.getVendorJsPrefix = function () {\n    return goog.userAgent.WEBKIT ? \"Webkit\" : goog.userAgent.GECKO ? \"Moz\" : goog.userAgent.IE ? \"ms\" : goog.userAgent.OPERA ? \"O\" : null;\n  };\n\n  goog.dom.vendor.getVendorPrefix = function () {\n    return goog.userAgent.WEBKIT ? \"-webkit\" : goog.userAgent.GECKO ? \"-moz\" : goog.userAgent.IE ? \"-ms\" : goog.userAgent.OPERA ? \"-o\" : null;\n  };\n\n  goog.dom.vendor.getPrefixedPropertyName = function (a, b) {\n    if (b && a in b) return a;\n    var c = goog.dom.vendor.getVendorJsPrefix();\n    return c ? (c = c.toLowerCase(), c += goog.string.toTitleCase(a), !goog.isDef(b) || c in b ? c : null) : null;\n  };\n\n  goog.dom.vendor.getPrefixedEventType = function (a) {\n    return ((goog.dom.vendor.getVendorJsPrefix() || \"\") + a).toLowerCase();\n  };\n\n  goog.math.Box = function (a, b, c, d) {\n    this.top = a;\n    this.right = b;\n    this.bottom = c;\n    this.left = d;\n  };\n\n  goog.math.Box.boundingBox = function (a) {\n    for (var b = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), c = 1; c < arguments.length; c++) b.expandToIncludeCoordinate(arguments[c]);\n\n    return b;\n  };\n\n  goog.math.Box.prototype.getWidth = function () {\n    return this.right - this.left;\n  };\n\n  goog.math.Box.prototype.getHeight = function () {\n    return this.bottom - this.top;\n  };\n\n  goog.math.Box.prototype.clone = function () {\n    return new goog.math.Box(this.top, this.right, this.bottom, this.left);\n  };\n\n  goog.DEBUG && (goog.math.Box.prototype.toString = function () {\n    return \"(\" + this.top + \"t, \" + this.right + \"r, \" + this.bottom + \"b, \" + this.left + \"l)\";\n  });\n\n  goog.math.Box.prototype.contains = function (a) {\n    return goog.math.Box.contains(this, a);\n  };\n\n  goog.math.Box.prototype.expand = function (a, b, c, d) {\n    goog.isObject(a) ? (this.top -= a.top, this.right += a.right, this.bottom += a.bottom, this.left -= a.left) : (this.top -= a, this.right += Number(b), this.bottom += Number(c), this.left -= Number(d));\n    return this;\n  };\n\n  goog.math.Box.prototype.expandToInclude = function (a) {\n    this.left = Math.min(this.left, a.left);\n    this.top = Math.min(this.top, a.top);\n    this.right = Math.max(this.right, a.right);\n    this.bottom = Math.max(this.bottom, a.bottom);\n  };\n\n  goog.math.Box.prototype.expandToIncludeCoordinate = function (a) {\n    this.top = Math.min(this.top, a.y);\n    this.right = Math.max(this.right, a.x);\n    this.bottom = Math.max(this.bottom, a.y);\n    this.left = Math.min(this.left, a.x);\n  };\n\n  goog.math.Box.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left : !1;\n  };\n\n  goog.math.Box.contains = function (a, b) {\n    return a && b ? b instanceof goog.math.Box ? b.left >= a.left && b.right <= a.right && b.top >= a.top && b.bottom <= a.bottom : b.x >= a.left && b.x <= a.right && b.y >= a.top && b.y <= a.bottom : !1;\n  };\n\n  goog.math.Box.relativePositionX = function (a, b) {\n    return b.x < a.left ? b.x - a.left : b.x > a.right ? b.x - a.right : 0;\n  };\n\n  goog.math.Box.relativePositionY = function (a, b) {\n    return b.y < a.top ? b.y - a.top : b.y > a.bottom ? b.y - a.bottom : 0;\n  };\n\n  goog.math.Box.distance = function (a, b) {\n    var c = goog.math.Box.relativePositionX(a, b),\n        d = goog.math.Box.relativePositionY(a, b);\n    return Math.sqrt(c * c + d * d);\n  };\n\n  goog.math.Box.intersects = function (a, b) {\n    return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;\n  };\n\n  goog.math.Box.intersectsWithPadding = function (a, b, c) {\n    return a.left <= b.right + c && b.left <= a.right + c && a.top <= b.bottom + c && b.top <= a.bottom + c;\n  };\n\n  goog.math.Box.prototype.ceil = function () {\n    this.top = Math.ceil(this.top);\n    this.right = Math.ceil(this.right);\n    this.bottom = Math.ceil(this.bottom);\n    this.left = Math.ceil(this.left);\n    return this;\n  };\n\n  goog.math.Box.prototype.floor = function () {\n    this.top = Math.floor(this.top);\n    this.right = Math.floor(this.right);\n    this.bottom = Math.floor(this.bottom);\n    this.left = Math.floor(this.left);\n    return this;\n  };\n\n  goog.math.Box.prototype.round = function () {\n    this.top = Math.round(this.top);\n    this.right = Math.round(this.right);\n    this.bottom = Math.round(this.bottom);\n    this.left = Math.round(this.left);\n    return this;\n  };\n\n  goog.math.Box.prototype.translate = function (a, b) {\n    a instanceof goog.math.Coordinate ? (this.left += a.x, this.right += a.x, this.top += a.y, this.bottom += a.y) : (goog.asserts.assertNumber(a), this.left += a, this.right += a, goog.isNumber(b) && (this.top += b, this.bottom += b));\n    return this;\n  };\n\n  goog.math.Box.prototype.scale = function (a, b) {\n    var c = goog.isNumber(b) ? b : a;\n    this.left *= a;\n    this.right *= a;\n    this.top *= c;\n    this.bottom *= c;\n    return this;\n  };\n\n  goog.math.IRect = function () {};\n\n  goog.math.Rect = function (a, b, c, d) {\n    this.left = a;\n    this.top = b;\n    this.width = c;\n    this.height = d;\n  };\n\n  goog.math.Rect.prototype.clone = function () {\n    return new goog.math.Rect(this.left, this.top, this.width, this.height);\n  };\n\n  goog.math.Rect.prototype.toBox = function () {\n    return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left);\n  };\n\n  goog.math.Rect.createFromPositionAndSize = function (a, b) {\n    return new goog.math.Rect(a.x, a.y, b.width, b.height);\n  };\n\n  goog.math.Rect.createFromBox = function (a) {\n    return new goog.math.Rect(a.left, a.top, a.right - a.left, a.bottom - a.top);\n  };\n\n  goog.DEBUG && (goog.math.Rect.prototype.toString = function () {\n    return \"(\" + this.left + \", \" + this.top + \" - \" + this.width + \"w x \" + this.height + \"h)\";\n  });\n\n  goog.math.Rect.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1;\n  };\n\n  goog.math.Rect.prototype.intersection = function (a) {\n    var b = Math.max(this.left, a.left),\n        c = Math.min(this.left + this.width, a.left + a.width);\n\n    if (b <= c) {\n      var d = Math.max(this.top, a.top);\n      a = Math.min(this.top + this.height, a.top + a.height);\n      if (d <= a) return this.left = b, this.top = d, this.width = c - b, this.height = a - d, !0;\n    }\n\n    return !1;\n  };\n\n  goog.math.Rect.intersection = function (a, b) {\n    var c = Math.max(a.left, b.left),\n        d = Math.min(a.left + a.width, b.left + b.width);\n\n    if (c <= d) {\n      var e = Math.max(a.top, b.top),\n          f = Math.min(a.top + a.height, b.top + b.height);\n      if (e <= f) return new goog.math.Rect(c, e, d - c, f - e);\n    }\n\n    return null;\n  };\n\n  goog.math.Rect.intersects = function (a, b) {\n    return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;\n  };\n\n  goog.math.Rect.prototype.intersects = function (a) {\n    return goog.math.Rect.intersects(this, a);\n  };\n\n  goog.math.Rect.difference = function (a, b) {\n    var c = goog.math.Rect.intersection(a, b);\n    if (!c || !c.height || !c.width) return [a.clone()];\n    c = [];\n    var d = a.top,\n        e = a.height,\n        f = a.left + a.width,\n        g = a.top + a.height,\n        h = b.left + b.width,\n        k = b.top + b.height;\n    b.top > a.top && (c.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top)), d = b.top, e -= b.top - a.top);\n    k < g && (c.push(new goog.math.Rect(a.left, k, a.width, g - k)), e = k - d);\n    b.left > a.left && c.push(new goog.math.Rect(a.left, d, b.left - a.left, e));\n    h < f && c.push(new goog.math.Rect(h, d, f - h, e));\n    return c;\n  };\n\n  goog.math.Rect.prototype.difference = function (a) {\n    return goog.math.Rect.difference(this, a);\n  };\n\n  goog.math.Rect.prototype.boundingRect = function (a) {\n    var b = Math.max(this.left + this.width, a.left + a.width),\n        c = Math.max(this.top + this.height, a.top + a.height);\n    this.left = Math.min(this.left, a.left);\n    this.top = Math.min(this.top, a.top);\n    this.width = b - this.left;\n    this.height = c - this.top;\n  };\n\n  goog.math.Rect.boundingRect = function (a, b) {\n    if (!a || !b) return null;\n    var c = new goog.math.Rect(a.left, a.top, a.width, a.height);\n    c.boundingRect(b);\n    return c;\n  };\n\n  goog.math.Rect.prototype.contains = function (a) {\n    return a instanceof goog.math.Coordinate ? a.x >= this.left && a.x <= this.left + this.width && a.y >= this.top && a.y <= this.top + this.height : this.left <= a.left && this.left + this.width >= a.left + a.width && this.top <= a.top && this.top + this.height >= a.top + a.height;\n  };\n\n  goog.math.Rect.prototype.squaredDistance = function (a) {\n    var b = a.x < this.left ? this.left - a.x : Math.max(a.x - (this.left + this.width), 0);\n    a = a.y < this.top ? this.top - a.y : Math.max(a.y - (this.top + this.height), 0);\n    return b * b + a * a;\n  };\n\n  goog.math.Rect.prototype.distance = function (a) {\n    return Math.sqrt(this.squaredDistance(a));\n  };\n\n  goog.math.Rect.prototype.getSize = function () {\n    return new goog.math.Size(this.width, this.height);\n  };\n\n  goog.math.Rect.prototype.getTopLeft = function () {\n    return new goog.math.Coordinate(this.left, this.top);\n  };\n\n  goog.math.Rect.prototype.getCenter = function () {\n    return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);\n  };\n\n  goog.math.Rect.prototype.getBottomRight = function () {\n    return new goog.math.Coordinate(this.left + this.width, this.top + this.height);\n  };\n\n  goog.math.Rect.prototype.ceil = function () {\n    this.left = Math.ceil(this.left);\n    this.top = Math.ceil(this.top);\n    this.width = Math.ceil(this.width);\n    this.height = Math.ceil(this.height);\n    return this;\n  };\n\n  goog.math.Rect.prototype.floor = function () {\n    this.left = Math.floor(this.left);\n    this.top = Math.floor(this.top);\n    this.width = Math.floor(this.width);\n    this.height = Math.floor(this.height);\n    return this;\n  };\n\n  goog.math.Rect.prototype.round = function () {\n    this.left = Math.round(this.left);\n    this.top = Math.round(this.top);\n    this.width = Math.round(this.width);\n    this.height = Math.round(this.height);\n    return this;\n  };\n\n  goog.math.Rect.prototype.translate = function (a, b) {\n    a instanceof goog.math.Coordinate ? (this.left += a.x, this.top += a.y) : (this.left += goog.asserts.assertNumber(a), goog.isNumber(b) && (this.top += b));\n    return this;\n  };\n\n  goog.math.Rect.prototype.scale = function (a, b) {\n    var c = goog.isNumber(b) ? b : a;\n    this.left *= a;\n    this.width *= a;\n    this.top *= c;\n    this.height *= c;\n    return this;\n  };\n\n  goog.style = {};\n\n  goog.style.setStyle = function (a, b, c) {\n    if (goog.isString(b)) goog.style.setStyle_(a, c, b);else for (var d in b) goog.style.setStyle_(a, b[d], d);\n  };\n\n  goog.style.setStyle_ = function (a, b, c) {\n    (c = goog.style.getVendorJsStyleName_(a, c)) && (a.style[c] = b);\n  };\n\n  goog.style.styleNameCache_ = {};\n\n  goog.style.getVendorJsStyleName_ = function (a, b) {\n    var c = goog.style.styleNameCache_[b];\n\n    if (!c) {\n      var d = goog.string.toCamelCase(b);\n      c = d;\n      void 0 === a.style[d] && (d = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(d), void 0 !== a.style[d] && (c = d));\n      goog.style.styleNameCache_[b] = c;\n    }\n\n    return c;\n  };\n\n  goog.style.getVendorStyleName_ = function (a, b) {\n    var c = goog.string.toCamelCase(b);\n    return void 0 === a.style[c] && (c = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(c), void 0 !== a.style[c]) ? goog.dom.vendor.getVendorPrefix() + \"-\" + b : b;\n  };\n\n  goog.style.getStyle = function (a, b) {\n    var c = a.style[goog.string.toCamelCase(b)];\n    return \"undefined\" !== typeof c ? c : a.style[goog.style.getVendorJsStyleName_(a, b)] || \"\";\n  };\n\n  goog.style.getComputedStyle = function (a, b) {\n    var c = goog.dom.getOwnerDocument(a);\n    return c.defaultView && c.defaultView.getComputedStyle && (c = c.defaultView.getComputedStyle(a, null)) ? c[b] || c.getPropertyValue(b) || \"\" : \"\";\n  };\n\n  goog.style.getCascadedStyle = function (a, b) {\n    return a.currentStyle ? a.currentStyle[b] : null;\n  };\n\n  goog.style.getStyle_ = function (a, b) {\n    return goog.style.getComputedStyle(a, b) || goog.style.getCascadedStyle(a, b) || a.style && a.style[b];\n  };\n\n  goog.style.getComputedBoxSizing = function (a) {\n    return goog.style.getStyle_(a, \"boxSizing\") || goog.style.getStyle_(a, \"MozBoxSizing\") || goog.style.getStyle_(a, \"WebkitBoxSizing\") || null;\n  };\n\n  goog.style.getComputedPosition = function (a) {\n    return goog.style.getStyle_(a, \"position\");\n  };\n\n  goog.style.getBackgroundColor = function (a) {\n    return goog.style.getStyle_(a, \"backgroundColor\");\n  };\n\n  goog.style.getComputedOverflowX = function (a) {\n    return goog.style.getStyle_(a, \"overflowX\");\n  };\n\n  goog.style.getComputedOverflowY = function (a) {\n    return goog.style.getStyle_(a, \"overflowY\");\n  };\n\n  goog.style.getComputedZIndex = function (a) {\n    return goog.style.getStyle_(a, \"zIndex\");\n  };\n\n  goog.style.getComputedTextAlign = function (a) {\n    return goog.style.getStyle_(a, \"textAlign\");\n  };\n\n  goog.style.getComputedCursor = function (a) {\n    return goog.style.getStyle_(a, \"cursor\");\n  };\n\n  goog.style.getComputedTransform = function (a) {\n    var b = goog.style.getVendorStyleName_(a, \"transform\");\n    return goog.style.getStyle_(a, b) || goog.style.getStyle_(a, \"transform\");\n  };\n\n  goog.style.setPosition = function (a, b, c) {\n    if (b instanceof goog.math.Coordinate) {\n      var d = b.x;\n      b = b.y;\n    } else d = b, b = c;\n\n    a.style.left = goog.style.getPixelStyleValue_(d, !1);\n    a.style.top = goog.style.getPixelStyleValue_(b, !1);\n  };\n\n  goog.style.getPosition = function (a) {\n    return new goog.math.Coordinate(a.offsetLeft, a.offsetTop);\n  };\n\n  goog.style.getClientViewportElement = function (a) {\n    a = a ? goog.dom.getOwnerDocument(a) : goog.dom.getDocument();\n    return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || goog.dom.getDomHelper(a).isCss1CompatMode() ? a.documentElement : a.body;\n  };\n\n  goog.style.getViewportPageOffset = function (a) {\n    var b = a.body;\n    a = a.documentElement;\n    return new goog.math.Coordinate(b.scrollLeft || a.scrollLeft, b.scrollTop || a.scrollTop);\n  };\n\n  goog.style.getBoundingClientRect_ = function (a) {\n    try {\n      var b = a.getBoundingClientRect();\n    } catch (c) {\n      return {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      };\n    }\n\n    goog.userAgent.IE && a.ownerDocument.body && (a = a.ownerDocument, b.left -= a.documentElement.clientLeft + a.body.clientLeft, b.top -= a.documentElement.clientTop + a.body.clientTop);\n    return b;\n  };\n\n  goog.style.getOffsetParent = function (a) {\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) return goog.asserts.assert(a && \"offsetParent\" in a), a.offsetParent;\n    var b = goog.dom.getOwnerDocument(a),\n        c = goog.style.getStyle_(a, \"position\"),\n        d = \"fixed\" == c || \"absolute\" == c;\n\n    for (a = a.parentNode; a && a != b; a = a.parentNode) if (a.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && a.host && (a = a.host), c = goog.style.getStyle_(a, \"position\"), d = d && \"static\" == c && a != b.documentElement && a != b.body, !d && (a.scrollWidth > a.clientWidth || a.scrollHeight > a.clientHeight || \"fixed\" == c || \"absolute\" == c || \"relative\" == c)) return a;\n\n    return null;\n  };\n\n  goog.style.getVisibleRectForElement = function (a) {\n    for (var b = new goog.math.Box(0, Infinity, Infinity, 0), c = goog.dom.getDomHelper(a), d = c.getDocument().body, e = c.getDocument().documentElement, f = c.getDocumentScrollElement(); a = goog.style.getOffsetParent(a);) if (!(goog.userAgent.IE && 0 == a.clientWidth || goog.userAgent.WEBKIT && 0 == a.clientHeight && a == d) && a != d && a != e && \"visible\" != goog.style.getStyle_(a, \"overflow\")) {\n      var g = goog.style.getPageOffset(a),\n          h = goog.style.getClientLeftTop(a);\n      g.x += h.x;\n      g.y += h.y;\n      b.top = Math.max(b.top, g.y);\n      b.right = Math.min(b.right, g.x + a.clientWidth);\n      b.bottom = Math.min(b.bottom, g.y + a.clientHeight);\n      b.left = Math.max(b.left, g.x);\n    }\n\n    d = f.scrollLeft;\n    f = f.scrollTop;\n    b.left = Math.max(b.left, d);\n    b.top = Math.max(b.top, f);\n    c = c.getViewportSize();\n    b.right = Math.min(b.right, d + c.width);\n    b.bottom = Math.min(b.bottom, f + c.height);\n    return 0 <= b.top && 0 <= b.left && b.bottom > b.top && b.right > b.left ? b : null;\n  };\n\n  goog.style.getContainerOffsetToScrollInto = function (a, b, c) {\n    var d = b || goog.dom.getDocumentScrollElement(),\n        e = goog.style.getPageOffset(a),\n        f = goog.style.getPageOffset(d),\n        g = goog.style.getBorderBox(d);\n    d == goog.dom.getDocumentScrollElement() ? (b = e.x - d.scrollLeft, e = e.y - d.scrollTop, goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10) && (b += g.left, e += g.top)) : (b = e.x - f.x - g.left, e = e.y - f.y - g.top);\n    g = goog.style.getSizeWithDisplay_(a);\n    a = d.clientWidth - g.width;\n    g = d.clientHeight - g.height;\n    f = d.scrollLeft;\n    d = d.scrollTop;\n    c ? (f += b - a / 2, d += e - g / 2) : (f += Math.min(b, Math.max(b - a, 0)), d += Math.min(e, Math.max(e - g, 0)));\n    return new goog.math.Coordinate(f, d);\n  };\n\n  goog.style.scrollIntoContainerView = function (a, b, c) {\n    b = b || goog.dom.getDocumentScrollElement();\n    a = goog.style.getContainerOffsetToScrollInto(a, b, c);\n    b.scrollLeft = a.x;\n    b.scrollTop = a.y;\n  };\n\n  goog.style.getClientLeftTop = function (a) {\n    return new goog.math.Coordinate(a.clientLeft, a.clientTop);\n  };\n\n  goog.style.getPageOffset = function (a) {\n    var b = goog.dom.getOwnerDocument(a);\n    goog.asserts.assertObject(a, \"Parameter is required\");\n    var c = new goog.math.Coordinate(0, 0),\n        d = goog.style.getClientViewportElement(b);\n    if (a == d) return c;\n    a = goog.style.getBoundingClientRect_(a);\n    b = goog.dom.getDomHelper(b).getDocumentScroll();\n    c.x = a.left + b.x;\n    c.y = a.top + b.y;\n    return c;\n  };\n\n  goog.style.getPageOffsetLeft = function (a) {\n    return goog.style.getPageOffset(a).x;\n  };\n\n  goog.style.getPageOffsetTop = function (a) {\n    return goog.style.getPageOffset(a).y;\n  };\n\n  goog.style.getFramedPageOffset = function (a, b) {\n    var c = new goog.math.Coordinate(0, 0),\n        d = goog.dom.getWindow(goog.dom.getOwnerDocument(a));\n    if (!goog.reflect.canAccessProperty(d, \"parent\")) return c;\n    var e = a;\n\n    do {\n      var f = d == b ? goog.style.getPageOffset(e) : goog.style.getClientPositionForElement_(goog.asserts.assert(e));\n      c.x += f.x;\n      c.y += f.y;\n    } while (d && d != b && d != d.parent && (e = d.frameElement) && (d = d.parent));\n\n    return c;\n  };\n\n  goog.style.translateRectForAnotherFrame = function (a, b, c) {\n    if (b.getDocument() != c.getDocument()) {\n      var d = b.getDocument().body;\n      c = goog.style.getFramedPageOffset(d, c.getWindow());\n      c = goog.math.Coordinate.difference(c, goog.style.getPageOffset(d));\n      !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || b.isCss1CompatMode() || (c = goog.math.Coordinate.difference(c, b.getDocumentScroll()));\n      a.left += c.x;\n      a.top += c.y;\n    }\n  };\n\n  goog.style.getRelativePosition = function (a, b) {\n    var c = goog.style.getClientPosition(a),\n        d = goog.style.getClientPosition(b);\n    return new goog.math.Coordinate(c.x - d.x, c.y - d.y);\n  };\n\n  goog.style.getClientPositionForElement_ = function (a) {\n    a = goog.style.getBoundingClientRect_(a);\n    return new goog.math.Coordinate(a.left, a.top);\n  };\n\n  goog.style.getClientPosition = function (a) {\n    goog.asserts.assert(a);\n    if (a.nodeType == goog.dom.NodeType.ELEMENT) return goog.style.getClientPositionForElement_(a);\n    a = a.changedTouches ? a.changedTouches[0] : a;\n    return new goog.math.Coordinate(a.clientX, a.clientY);\n  };\n\n  goog.style.setPageOffset = function (a, b, c) {\n    var d = goog.style.getPageOffset(a);\n    b instanceof goog.math.Coordinate && (c = b.y, b = b.x);\n    b = goog.asserts.assertNumber(b) - d.x;\n    goog.style.setPosition(a, a.offsetLeft + b, a.offsetTop + (Number(c) - d.y));\n  };\n\n  goog.style.setSize = function (a, b, c) {\n    if (b instanceof goog.math.Size) c = b.height, b = b.width;else if (void 0 == c) throw Error(\"missing height argument\");\n    goog.style.setWidth(a, b);\n    goog.style.setHeight(a, c);\n  };\n\n  goog.style.getPixelStyleValue_ = function (a, b) {\n    \"number\" == typeof a && (a = (b ? Math.round(a) : a) + \"px\");\n    return a;\n  };\n\n  goog.style.setHeight = function (a, b) {\n    a.style.height = goog.style.getPixelStyleValue_(b, !0);\n  };\n\n  goog.style.setWidth = function (a, b) {\n    a.style.width = goog.style.getPixelStyleValue_(b, !0);\n  };\n\n  goog.style.getSize = function (a) {\n    return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, a);\n  };\n\n  goog.style.evaluateWithTemporaryDisplay_ = function (a, b) {\n    if (\"none\" != goog.style.getStyle_(b, \"display\")) return a(b);\n    var c = b.style,\n        d = c.display,\n        e = c.visibility,\n        f = c.position;\n    c.visibility = \"hidden\";\n    c.position = \"absolute\";\n    c.display = \"inline\";\n    var g = a(b);\n    c.display = d;\n    c.position = f;\n    c.visibility = e;\n    return g;\n  };\n\n  goog.style.getSizeWithDisplay_ = function (a) {\n    var b = a.offsetWidth,\n        c = a.offsetHeight,\n        d = goog.userAgent.WEBKIT && !b && !c;\n    return goog.isDef(b) && !d || !a.getBoundingClientRect ? new goog.math.Size(b, c) : (a = goog.style.getBoundingClientRect_(a), new goog.math.Size(a.right - a.left, a.bottom - a.top));\n  };\n\n  goog.style.getTransformedSize = function (a) {\n    if (!a.getBoundingClientRect) return null;\n    a = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, a);\n    return new goog.math.Size(a.right - a.left, a.bottom - a.top);\n  };\n\n  goog.style.getBounds = function (a) {\n    var b = goog.style.getPageOffset(a);\n    a = goog.style.getSize(a);\n    return new goog.math.Rect(b.x, b.y, a.width, a.height);\n  };\n\n  goog.style.toCamelCase = function (a) {\n    return goog.string.toCamelCase(String(a));\n  };\n\n  goog.style.toSelectorCase = function (a) {\n    return goog.string.toSelectorCase(a);\n  };\n\n  goog.style.getOpacity = function (a) {\n    goog.asserts.assert(a);\n    var b = a.style;\n    a = \"\";\n    \"opacity\" in b ? a = b.opacity : \"MozOpacity\" in b ? a = b.MozOpacity : \"filter\" in b && (b = b.filter.match(/alpha\\(opacity=([\\d.]+)\\)/)) && (a = String(b[1] / 100));\n    return \"\" == a ? a : Number(a);\n  };\n\n  goog.style.setOpacity = function (a, b) {\n    goog.asserts.assert(a);\n    var c = a.style;\n    \"opacity\" in c ? c.opacity = b : \"MozOpacity\" in c ? c.MozOpacity = b : \"filter\" in c && (c.filter = \"\" === b ? \"\" : \"alpha(opacity=\" + 100 * Number(b) + \")\");\n  };\n\n  goog.style.setTransparentBackgroundImage = function (a, b) {\n    var c = a.style;\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"8\") ? c.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"' + b + '\", sizingMethod=\"crop\")' : (c.backgroundImage = \"url(\" + b + \")\", c.backgroundPosition = \"top left\", c.backgroundRepeat = \"no-repeat\");\n  };\n\n  goog.style.clearTransparentBackgroundImage = function (a) {\n    a = a.style;\n    \"filter\" in a ? a.filter = \"\" : a.backgroundImage = \"none\";\n  };\n\n  goog.style.showElement = function (a, b) {\n    goog.style.setElementShown(a, b);\n  };\n\n  goog.style.setElementShown = function (a, b) {\n    a.style.display = b ? \"\" : \"none\";\n  };\n\n  goog.style.isElementShown = function (a) {\n    return \"none\" != a.style.display;\n  };\n\n  goog.style.installSafeStyleSheet = function (a, b) {\n    var c = goog.dom.getDomHelper(b),\n        d = c.getDocument();\n    if (goog.userAgent.IE && d.createStyleSheet) return c = d.createStyleSheet(), goog.style.setSafeStyleSheet(c, a), c;\n    d = c.getElementsByTagNameAndClass(\"HEAD\")[0];\n\n    if (!d) {\n      var e = c.getElementsByTagNameAndClass(\"BODY\")[0];\n      d = c.createDom(\"HEAD\");\n      e.parentNode.insertBefore(d, e);\n    }\n\n    e = c.createDom(\"STYLE\");\n    goog.style.setSafeStyleSheet(e, a);\n    c.appendChild(d, e);\n    return e;\n  };\n\n  goog.style.uninstallStyles = function (a) {\n    goog.dom.removeNode(a.ownerNode || a.owningElement || a);\n  };\n\n  goog.style.setSafeStyleSheet = function (a, b) {\n    var c = goog.html.SafeStyleSheet.unwrap(b);\n    goog.userAgent.IE && goog.isDef(a.cssText) ? a.cssText = c : a.innerHTML = c;\n  };\n\n  goog.style.setPreWrap = function (a) {\n    a = a.style;\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"8\") ? (a.whiteSpace = \"pre\", a.wordWrap = \"break-word\") : a.whiteSpace = goog.userAgent.GECKO ? \"-moz-pre-wrap\" : \"pre-wrap\";\n  };\n\n  goog.style.setInlineBlock = function (a) {\n    a = a.style;\n    a.position = \"relative\";\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"8\") ? (a.zoom = \"1\", a.display = \"inline\") : a.display = \"inline-block\";\n  };\n\n  goog.style.isRightToLeft = function (a) {\n    return \"rtl\" == goog.style.getStyle_(a, \"direction\");\n  };\n\n  goog.style.unselectableStyle_ = goog.userAgent.GECKO ? \"MozUserSelect\" : goog.userAgent.WEBKIT || goog.userAgent.EDGE ? \"WebkitUserSelect\" : null;\n\n  goog.style.isUnselectable = function (a) {\n    return goog.style.unselectableStyle_ ? \"none\" == a.style[goog.style.unselectableStyle_].toLowerCase() : goog.userAgent.IE || goog.userAgent.OPERA ? \"on\" == a.getAttribute(\"unselectable\") : !1;\n  };\n\n  goog.style.setUnselectable = function (a, b, c) {\n    c = c ? null : a.getElementsByTagName(\"*\");\n    var d = goog.style.unselectableStyle_;\n\n    if (d) {\n      if (b = b ? \"none\" : \"\", a.style && (a.style[d] = b), c) {\n        a = 0;\n\n        for (var e; e = c[a]; a++) e.style && (e.style[d] = b);\n      }\n    } else if (goog.userAgent.IE || goog.userAgent.OPERA) if (b = b ? \"on\" : \"\", a.setAttribute(\"unselectable\", b), c) for (a = 0; e = c[a]; a++) e.setAttribute(\"unselectable\", b);\n  };\n\n  goog.style.getBorderBoxSize = function (a) {\n    return new goog.math.Size(a.offsetWidth, a.offsetHeight);\n  };\n\n  goog.style.setBorderBoxSize = function (a, b) {\n    var c = goog.dom.getOwnerDocument(a),\n        d = goog.dom.getDomHelper(c).isCss1CompatMode();\n    if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || d && goog.userAgent.isVersionOrHigher(\"8\")) goog.style.setBoxSizingSize_(a, b, \"border-box\");else if (c = a.style, d) {\n      d = goog.style.getPaddingBox(a);\n      var e = goog.style.getBorderBox(a);\n      c.pixelWidth = b.width - e.left - d.left - d.right - e.right;\n      c.pixelHeight = b.height - e.top - d.top - d.bottom - e.bottom;\n    } else c.pixelWidth = b.width, c.pixelHeight = b.height;\n  };\n\n  goog.style.getContentBoxSize = function (a) {\n    var b = goog.dom.getOwnerDocument(a),\n        c = goog.userAgent.IE && a.currentStyle;\n    if (c && goog.dom.getDomHelper(b).isCss1CompatMode() && \"auto\" != c.width && \"auto\" != c.height && !c.boxSizing) return b = goog.style.getIePixelValue_(a, c.width, \"width\", \"pixelWidth\"), a = goog.style.getIePixelValue_(a, c.height, \"height\", \"pixelHeight\"), new goog.math.Size(b, a);\n    c = goog.style.getBorderBoxSize(a);\n    b = goog.style.getPaddingBox(a);\n    a = goog.style.getBorderBox(a);\n    return new goog.math.Size(c.width - a.left - b.left - b.right - a.right, c.height - a.top - b.top - b.bottom - a.bottom);\n  };\n\n  goog.style.setContentBoxSize = function (a, b) {\n    var c = goog.dom.getOwnerDocument(a),\n        d = goog.dom.getDomHelper(c).isCss1CompatMode();\n    if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || d && goog.userAgent.isVersionOrHigher(\"8\")) goog.style.setBoxSizingSize_(a, b, \"content-box\");else if (c = a.style, d) c.pixelWidth = b.width, c.pixelHeight = b.height;else {\n      d = goog.style.getPaddingBox(a);\n      var e = goog.style.getBorderBox(a);\n      c.pixelWidth = b.width + e.left + d.left + d.right + e.right;\n      c.pixelHeight = b.height + e.top + d.top + d.bottom + e.bottom;\n    }\n  };\n\n  goog.style.setBoxSizingSize_ = function (a, b, c) {\n    a = a.style;\n    goog.userAgent.GECKO ? a.MozBoxSizing = c : goog.userAgent.WEBKIT ? a.WebkitBoxSizing = c : a.boxSizing = c;\n    a.width = Math.max(b.width, 0) + \"px\";\n    a.height = Math.max(b.height, 0) + \"px\";\n  };\n\n  goog.style.getIePixelValue_ = function (a, b, c, d) {\n    if (/^\\d+px?$/.test(b)) return parseInt(b, 10);\n    var e = a.style[c],\n        f = a.runtimeStyle[c];\n    a.runtimeStyle[c] = a.currentStyle[c];\n    a.style[c] = b;\n    b = a.style[d];\n    a.style[c] = e;\n    a.runtimeStyle[c] = f;\n    return +b;\n  };\n\n  goog.style.getIePixelDistance_ = function (a, b) {\n    var c = goog.style.getCascadedStyle(a, b);\n    return c ? goog.style.getIePixelValue_(a, c, \"left\", \"pixelLeft\") : 0;\n  };\n\n  goog.style.getBox_ = function (a, b) {\n    if (goog.userAgent.IE) {\n      var c = goog.style.getIePixelDistance_(a, b + \"Left\"),\n          d = goog.style.getIePixelDistance_(a, b + \"Right\"),\n          e = goog.style.getIePixelDistance_(a, b + \"Top\"),\n          f = goog.style.getIePixelDistance_(a, b + \"Bottom\");\n      return new goog.math.Box(e, d, f, c);\n    }\n\n    c = goog.style.getComputedStyle(a, b + \"Left\");\n    d = goog.style.getComputedStyle(a, b + \"Right\");\n    e = goog.style.getComputedStyle(a, b + \"Top\");\n    f = goog.style.getComputedStyle(a, b + \"Bottom\");\n    return new goog.math.Box(parseFloat(e), parseFloat(d), parseFloat(f), parseFloat(c));\n  };\n\n  goog.style.getPaddingBox = function (a) {\n    return goog.style.getBox_(a, \"padding\");\n  };\n\n  goog.style.getMarginBox = function (a) {\n    return goog.style.getBox_(a, \"margin\");\n  };\n\n  goog.style.ieBorderWidthKeywords_ = {\n    thin: 2,\n    medium: 4,\n    thick: 6\n  };\n\n  goog.style.getIePixelBorder_ = function (a, b) {\n    if (\"none\" == goog.style.getCascadedStyle(a, b + \"Style\")) return 0;\n    var c = goog.style.getCascadedStyle(a, b + \"Width\");\n    return c in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[c] : goog.style.getIePixelValue_(a, c, \"left\", \"pixelLeft\");\n  };\n\n  goog.style.getBorderBox = function (a) {\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n      var b = goog.style.getIePixelBorder_(a, \"borderLeft\"),\n          c = goog.style.getIePixelBorder_(a, \"borderRight\"),\n          d = goog.style.getIePixelBorder_(a, \"borderTop\");\n      a = goog.style.getIePixelBorder_(a, \"borderBottom\");\n      return new goog.math.Box(d, c, a, b);\n    }\n\n    b = goog.style.getComputedStyle(a, \"borderLeftWidth\");\n    c = goog.style.getComputedStyle(a, \"borderRightWidth\");\n    d = goog.style.getComputedStyle(a, \"borderTopWidth\");\n    a = goog.style.getComputedStyle(a, \"borderBottomWidth\");\n    return new goog.math.Box(parseFloat(d), parseFloat(c), parseFloat(a), parseFloat(b));\n  };\n\n  goog.style.getFontFamily = function (a) {\n    var b = goog.dom.getOwnerDocument(a),\n        c = \"\";\n\n    if (b.body.createTextRange && goog.dom.contains(b, a)) {\n      b = b.body.createTextRange();\n      b.moveToElementText(a);\n\n      try {\n        c = b.queryCommandValue(\"FontName\");\n      } catch (d) {\n        c = \"\";\n      }\n    }\n\n    c || (c = goog.style.getStyle_(a, \"fontFamily\"));\n    a = c.split(\",\");\n    1 < a.length && (c = a[0]);\n    return goog.string.stripQuotes(c, \"\\\"'\");\n  };\n\n  goog.style.lengthUnitRegex_ = /[^\\d]+$/;\n\n  goog.style.getLengthUnits = function (a) {\n    return (a = a.match(goog.style.lengthUnitRegex_)) && a[0] || null;\n  };\n\n  goog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {\n    cm: 1,\n    \"in\": 1,\n    mm: 1,\n    pc: 1,\n    pt: 1\n  };\n  goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {\n    em: 1,\n    ex: 1\n  };\n\n  goog.style.getFontSize = function (a) {\n    var b = goog.style.getStyle_(a, \"fontSize\"),\n        c = goog.style.getLengthUnits(b);\n    if (b && \"px\" == c) return parseInt(b, 10);\n\n    if (goog.userAgent.IE) {\n      if (String(c) in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) return goog.style.getIePixelValue_(a, b, \"left\", \"pixelLeft\");\n      if (a.parentNode && a.parentNode.nodeType == goog.dom.NodeType.ELEMENT && String(c) in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) return a = a.parentNode, c = goog.style.getStyle_(a, \"fontSize\"), goog.style.getIePixelValue_(a, b == c ? \"1em\" : b, \"left\", \"pixelLeft\");\n    }\n\n    c = goog.dom.createDom(\"SPAN\", {\n      style: \"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;\"\n    });\n    goog.dom.appendChild(a, c);\n    b = c.offsetHeight;\n    goog.dom.removeNode(c);\n    return b;\n  };\n\n  goog.style.parseStyleAttribute = function (a) {\n    var b = {};\n    goog.array.forEach(a.split(/\\s*;\\s*/), function (a) {\n      var c = a.match(/\\s*([\\w-]+)\\s*:(.+)/);\n      c && (a = c[1], c = goog.string.trim(c[2]), b[goog.string.toCamelCase(a.toLowerCase())] = c);\n    });\n    return b;\n  };\n\n  goog.style.toStyleAttribute = function (a) {\n    var b = [];\n    goog.object.forEach(a, function (a, d) {\n      b.push(goog.string.toSelectorCase(d), \":\", a, \";\");\n    });\n    return b.join(\"\");\n  };\n\n  goog.style.setFloat = function (a, b) {\n    a.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] = b;\n  };\n\n  goog.style.getFloat = function (a) {\n    return a.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] || \"\";\n  };\n\n  goog.style.getScrollbarWidth = function (a) {\n    var b = goog.dom.createElement(\"DIV\");\n    a && (b.className = a);\n    b.style.cssText = \"overflow:auto;position:absolute;top:0;width:100px;height:100px\";\n    a = goog.dom.createElement(\"DIV\");\n    goog.style.setSize(a, \"200px\", \"200px\");\n    b.appendChild(a);\n    goog.dom.appendChild(goog.dom.getDocument().body, b);\n    a = b.offsetWidth - b.clientWidth;\n    goog.dom.removeNode(b);\n    return a;\n  };\n\n  goog.style.MATRIX_TRANSLATION_REGEX_ = /matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)/;\n\n  goog.style.getCssTranslation = function (a) {\n    a = goog.style.getComputedTransform(a);\n    return a ? (a = a.match(goog.style.MATRIX_TRANSLATION_REGEX_)) ? new goog.math.Coordinate(parseFloat(a[1]), parseFloat(a[2])) : new goog.math.Coordinate(0, 0) : new goog.math.Coordinate(0, 0);\n  };\n\n  goog.events.EventHandler = function (a) {\n    goog.Disposable.call(this);\n    this.handler_ = a;\n    this.keys_ = {};\n  };\n\n  goog.inherits(goog.events.EventHandler, goog.Disposable);\n  goog.events.EventHandler.typeArray_ = [];\n\n  goog.events.EventHandler.prototype.listen = function (a, b, c, d) {\n    return this.listen_(a, b, c, d);\n  };\n\n  goog.events.EventHandler.prototype.listenWithScope = function (a, b, c, d, e) {\n    return this.listen_(a, b, c, d, e);\n  };\n\n  goog.events.EventHandler.prototype.listen_ = function (a, b, c, d, e) {\n    goog.isArray(b) || (b && (goog.events.EventHandler.typeArray_[0] = b.toString()), b = goog.events.EventHandler.typeArray_);\n\n    for (var f = 0; f < b.length; f++) {\n      var g = goog.events.listen(a, b[f], c || this.handleEvent, d || !1, e || this.handler_ || this);\n      if (!g) break;\n      this.keys_[g.key] = g;\n    }\n\n    return this;\n  };\n\n  goog.events.EventHandler.prototype.listenOnce = function (a, b, c, d) {\n    return this.listenOnce_(a, b, c, d);\n  };\n\n  goog.events.EventHandler.prototype.listenOnceWithScope = function (a, b, c, d, e) {\n    return this.listenOnce_(a, b, c, d, e);\n  };\n\n  goog.events.EventHandler.prototype.listenOnce_ = function (a, b, c, d, e) {\n    if (goog.isArray(b)) for (var f = 0; f < b.length; f++) this.listenOnce_(a, b[f], c, d, e);else {\n      a = goog.events.listenOnce(a, b, c || this.handleEvent, d, e || this.handler_ || this);\n      if (!a) return this;\n      this.keys_[a.key] = a;\n    }\n    return this;\n  };\n\n  goog.events.EventHandler.prototype.listenWithWrapper = function (a, b, c, d) {\n    return this.listenWithWrapper_(a, b, c, d);\n  };\n\n  goog.events.EventHandler.prototype.listenWithWrapperAndScope = function (a, b, c, d, e) {\n    return this.listenWithWrapper_(a, b, c, d, e);\n  };\n\n  goog.events.EventHandler.prototype.listenWithWrapper_ = function (a, b, c, d, e) {\n    b.listen(a, c, d, e || this.handler_ || this, this);\n    return this;\n  };\n\n  goog.events.EventHandler.prototype.getListenerCount = function () {\n    var a = 0,\n        b;\n\n    for (b in this.keys_) Object.prototype.hasOwnProperty.call(this.keys_, b) && a++;\n\n    return a;\n  };\n\n  goog.events.EventHandler.prototype.unlisten = function (a, b, c, d, e) {\n    if (goog.isArray(b)) for (var f = 0; f < b.length; f++) this.unlisten(a, b[f], c, d, e);else if (d = goog.isObject(d) ? !!d.capture : !!d, a = goog.events.getListener(a, b, c || this.handleEvent, d, e || this.handler_ || this)) goog.events.unlistenByKey(a), delete this.keys_[a.key];\n    return this;\n  };\n\n  goog.events.EventHandler.prototype.unlistenWithWrapper = function (a, b, c, d, e) {\n    b.unlisten(a, c, d, e || this.handler_ || this, this);\n    return this;\n  };\n\n  goog.events.EventHandler.prototype.removeAll = function () {\n    goog.object.forEach(this.keys_, function (a, b) {\n      this.keys_.hasOwnProperty(b) && goog.events.unlistenByKey(a);\n    }, this);\n    this.keys_ = {};\n  };\n\n  goog.events.EventHandler.prototype.disposeInternal = function () {\n    goog.events.EventHandler.superClass_.disposeInternal.call(this);\n    this.removeAll();\n  };\n\n  goog.events.EventHandler.prototype.handleEvent = function (a) {\n    throw Error(\"EventHandler.handleEvent not implemented\");\n  };\n\n  goog.events.EventTarget = function () {\n    goog.Disposable.call(this);\n    this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n    this.actualEventTarget_ = this;\n    this.parentEventTarget_ = null;\n  };\n\n  goog.inherits(goog.events.EventTarget, goog.Disposable);\n  goog.events.Listenable.addImplementation(goog.events.EventTarget);\n  goog.events.EventTarget.MAX_ANCESTORS_ = 1E3;\n\n  goog.events.EventTarget.prototype.getParentEventTarget = function () {\n    return this.parentEventTarget_;\n  };\n\n  goog.events.EventTarget.prototype.setParentEventTarget = function (a) {\n    this.parentEventTarget_ = a;\n  };\n\n  goog.events.EventTarget.prototype.addEventListener = function (a, b, c, d) {\n    goog.events.listen(this, a, b, c, d);\n  };\n\n  goog.events.EventTarget.prototype.removeEventListener = function (a, b, c, d) {\n    goog.events.unlisten(this, a, b, c, d);\n  };\n\n  goog.events.EventTarget.prototype.dispatchEvent = function (a) {\n    this.assertInitialized_();\n    var b = this.getParentEventTarget();\n\n    if (b) {\n      var c = [];\n\n      for (var d = 1; b; b = b.getParentEventTarget()) c.push(b), goog.asserts.assert(++d < goog.events.EventTarget.MAX_ANCESTORS_, \"infinite loop\");\n    }\n\n    return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, a, c);\n  };\n\n  goog.events.EventTarget.prototype.disposeInternal = function () {\n    goog.events.EventTarget.superClass_.disposeInternal.call(this);\n    this.removeAllListeners();\n    this.parentEventTarget_ = null;\n  };\n\n  goog.events.EventTarget.prototype.listen = function (a, b, c, d) {\n    this.assertInitialized_();\n    return this.eventTargetListeners_.add(String(a), b, !1, c, d);\n  };\n\n  goog.events.EventTarget.prototype.listenOnce = function (a, b, c, d) {\n    return this.eventTargetListeners_.add(String(a), b, !0, c, d);\n  };\n\n  goog.events.EventTarget.prototype.unlisten = function (a, b, c, d) {\n    return this.eventTargetListeners_.remove(String(a), b, c, d);\n  };\n\n  goog.events.EventTarget.prototype.unlistenByKey = function (a) {\n    return this.eventTargetListeners_.removeByKey(a);\n  };\n\n  goog.events.EventTarget.prototype.removeAllListeners = function (a) {\n    return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(a) : 0;\n  };\n\n  goog.events.EventTarget.prototype.fireListeners = function (a, b, c) {\n    a = this.eventTargetListeners_.listeners[String(a)];\n    if (!a) return !0;\n    a = a.concat();\n\n    for (var d = !0, e = 0; e < a.length; ++e) {\n      var f = a[e];\n\n      if (f && !f.removed && f.capture == b) {\n        var g = f.listener,\n            h = f.handler || f.src;\n        f.callOnce && this.unlistenByKey(f);\n        d = !1 !== g.call(h, c) && d;\n      }\n    }\n\n    return d && 0 != c.returnValue_;\n  };\n\n  goog.events.EventTarget.prototype.getListeners = function (a, b) {\n    return this.eventTargetListeners_.getListeners(String(a), b);\n  };\n\n  goog.events.EventTarget.prototype.getListener = function (a, b, c, d) {\n    return this.eventTargetListeners_.getListener(String(a), b, c, d);\n  };\n\n  goog.events.EventTarget.prototype.hasListener = function (a, b) {\n    var c = goog.isDef(a) ? String(a) : void 0;\n    return this.eventTargetListeners_.hasListener(c, b);\n  };\n\n  goog.events.EventTarget.prototype.setTargetForTesting = function (a) {\n    this.actualEventTarget_ = a;\n  };\n\n  goog.events.EventTarget.prototype.assertInitialized_ = function () {\n    goog.asserts.assert(this.eventTargetListeners_, \"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\");\n  };\n\n  goog.events.EventTarget.dispatchEventInternal_ = function (a, b, c) {\n    var d = b.type || b;\n    if (goog.isString(b)) b = new goog.events.Event(b, a);else if (b instanceof goog.events.Event) b.target = b.target || a;else {\n      var e = b;\n      b = new goog.events.Event(d, a);\n      goog.object.extend(b, e);\n    }\n    e = !0;\n    if (c) for (var f = c.length - 1; !b.propagationStopped_ && 0 <= f; f--) {\n      var g = b.currentTarget = c[f];\n      e = g.fireListeners(d, !0, b) && e;\n    }\n    b.propagationStopped_ || (g = b.currentTarget = a, e = g.fireListeners(d, !0, b) && e, b.propagationStopped_ || (e = g.fireListeners(d, !1, b) && e));\n    if (c) for (f = 0; !b.propagationStopped_ && f < c.length; f++) g = b.currentTarget = c[f], e = g.fireListeners(d, !1, b) && e;\n    return e;\n  };\n\n  goog.ui = {};\n\n  goog.ui.IdGenerator = function () {};\n\n  goog.addSingletonGetter(goog.ui.IdGenerator);\n  goog.ui.IdGenerator.prototype.nextId_ = 0;\n  goog.ui.IdGenerator.prototype.idPrefix_ = \"\";\n\n  goog.ui.IdGenerator.prototype.setIdPrefix = function (a) {\n    this.idPrefix_ = a;\n  };\n\n  goog.ui.IdGenerator.prototype.getNextUniqueId = function () {\n    return this.idPrefix_ + \":\" + (this.nextId_++).toString(36);\n  };\n\n  goog.ui.Component = function (a) {\n    goog.events.EventTarget.call(this);\n    this.dom_ = a || goog.dom.getDomHelper();\n    this.rightToLeft_ = goog.ui.Component.defaultRightToLeft_;\n    this.id_ = null;\n    this.inDocument_ = !1;\n    this.element_ = null;\n    this.googUiComponentHandler_ = void 0;\n    this.childIndex_ = this.children_ = this.parent_ = this.model_ = null;\n    this.pointerEventsEnabled_ = this.wasDecorated_ = !1;\n  };\n\n  goog.inherits(goog.ui.Component, goog.events.EventTarget);\n  goog.ui.Component.ALLOW_DETACHED_DECORATION = !1;\n  goog.ui.Component.prototype.idGenerator_ = goog.ui.IdGenerator.getInstance();\n  goog.ui.Component.DEFAULT_BIDI_DIR = 0;\n  goog.ui.Component.defaultRightToLeft_ = 1 == goog.ui.Component.DEFAULT_BIDI_DIR ? !1 : -1 == goog.ui.Component.DEFAULT_BIDI_DIR ? !0 : null;\n  goog.ui.Component.EventType = {\n    BEFORE_SHOW: \"beforeshow\",\n    SHOW: \"show\",\n    HIDE: \"hide\",\n    DISABLE: \"disable\",\n    ENABLE: \"enable\",\n    HIGHLIGHT: \"highlight\",\n    UNHIGHLIGHT: \"unhighlight\",\n    ACTIVATE: \"activate\",\n    DEACTIVATE: \"deactivate\",\n    SELECT: \"select\",\n    UNSELECT: \"unselect\",\n    CHECK: \"check\",\n    UNCHECK: \"uncheck\",\n    FOCUS: \"focus\",\n    BLUR: \"blur\",\n    OPEN: \"open\",\n    CLOSE: \"close\",\n    ENTER: \"enter\",\n    LEAVE: \"leave\",\n    ACTION: \"action\",\n    CHANGE: \"change\"\n  };\n  goog.ui.Component.Error = {\n    NOT_SUPPORTED: \"Method not supported\",\n    DECORATE_INVALID: \"Invalid element to decorate\",\n    ALREADY_RENDERED: \"Component already rendered\",\n    PARENT_UNABLE_TO_BE_SET: \"Unable to set parent component\",\n    CHILD_INDEX_OUT_OF_BOUNDS: \"Child component index out of bounds\",\n    NOT_OUR_CHILD: \"Child is not in parent component\",\n    NOT_IN_DOCUMENT: \"Operation not supported while component is not in document\",\n    STATE_INVALID: \"Invalid component state\"\n  };\n  goog.ui.Component.State = {\n    ALL: 255,\n    DISABLED: 1,\n    HOVER: 2,\n    ACTIVE: 4,\n    SELECTED: 8,\n    CHECKED: 16,\n    FOCUSED: 32,\n    OPENED: 64\n  };\n\n  goog.ui.Component.getStateTransitionEvent = function (a, b) {\n    switch (a) {\n      case goog.ui.Component.State.DISABLED:\n        return b ? goog.ui.Component.EventType.DISABLE : goog.ui.Component.EventType.ENABLE;\n\n      case goog.ui.Component.State.HOVER:\n        return b ? goog.ui.Component.EventType.HIGHLIGHT : goog.ui.Component.EventType.UNHIGHLIGHT;\n\n      case goog.ui.Component.State.ACTIVE:\n        return b ? goog.ui.Component.EventType.ACTIVATE : goog.ui.Component.EventType.DEACTIVATE;\n\n      case goog.ui.Component.State.SELECTED:\n        return b ? goog.ui.Component.EventType.SELECT : goog.ui.Component.EventType.UNSELECT;\n\n      case goog.ui.Component.State.CHECKED:\n        return b ? goog.ui.Component.EventType.CHECK : goog.ui.Component.EventType.UNCHECK;\n\n      case goog.ui.Component.State.FOCUSED:\n        return b ? goog.ui.Component.EventType.FOCUS : goog.ui.Component.EventType.BLUR;\n\n      case goog.ui.Component.State.OPENED:\n        return b ? goog.ui.Component.EventType.OPEN : goog.ui.Component.EventType.CLOSE;\n    }\n\n    throw Error(goog.ui.Component.Error.STATE_INVALID);\n  };\n\n  goog.ui.Component.setDefaultRightToLeft = function (a) {\n    goog.ui.Component.defaultRightToLeft_ = a;\n  };\n\n  goog.ui.Component.prototype.getId = function () {\n    return this.id_ || (this.id_ = this.idGenerator_.getNextUniqueId());\n  };\n\n  goog.ui.Component.prototype.setId = function (a) {\n    this.parent_ && this.parent_.childIndex_ && (goog.object.remove(this.parent_.childIndex_, this.id_), goog.object.add(this.parent_.childIndex_, a, this));\n    this.id_ = a;\n  };\n\n  goog.ui.Component.prototype.getElement = function () {\n    return this.element_;\n  };\n\n  goog.ui.Component.prototype.getElementStrict = function () {\n    var a = this.element_;\n    goog.asserts.assert(a, \"Can not call getElementStrict before rendering/decorating.\");\n    return a;\n  };\n\n  goog.ui.Component.prototype.setElementInternal = function (a) {\n    this.element_ = a;\n  };\n\n  goog.ui.Component.prototype.getElementsByClass = function (a) {\n    return this.element_ ? this.dom_.getElementsByClass(a, this.element_) : [];\n  };\n\n  goog.ui.Component.prototype.getElementByClass = function (a) {\n    return this.element_ ? this.dom_.getElementByClass(a, this.element_) : null;\n  };\n\n  goog.ui.Component.prototype.getRequiredElementByClass = function (a) {\n    var b = this.getElementByClass(a);\n    goog.asserts.assert(b, \"Expected element in component with class: %s\", a);\n    return b;\n  };\n\n  goog.ui.Component.prototype.getHandler = function () {\n    this.googUiComponentHandler_ || (this.googUiComponentHandler_ = new goog.events.EventHandler(this));\n    return goog.asserts.assert(this.googUiComponentHandler_);\n  };\n\n  goog.ui.Component.prototype.setParent = function (a) {\n    if (this == a) throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);\n    if (a && this.parent_ && this.id_ && this.parent_.getChild(this.id_) && this.parent_ != a) throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);\n    this.parent_ = a;\n    goog.ui.Component.superClass_.setParentEventTarget.call(this, a);\n  };\n\n  goog.ui.Component.prototype.getParent = function () {\n    return this.parent_;\n  };\n\n  goog.ui.Component.prototype.setParentEventTarget = function (a) {\n    if (this.parent_ && this.parent_ != a) throw Error(goog.ui.Component.Error.NOT_SUPPORTED);\n    goog.ui.Component.superClass_.setParentEventTarget.call(this, a);\n  };\n\n  goog.ui.Component.prototype.getDomHelper = function () {\n    return this.dom_;\n  };\n\n  goog.ui.Component.prototype.isInDocument = function () {\n    return this.inDocument_;\n  };\n\n  goog.ui.Component.prototype.createDom = function () {\n    this.element_ = this.dom_.createElement(\"DIV\");\n  };\n\n  goog.ui.Component.prototype.render = function (a) {\n    this.render_(a);\n  };\n\n  goog.ui.Component.prototype.renderBefore = function (a) {\n    this.render_(a.parentNode, a);\n  };\n\n  goog.ui.Component.prototype.render_ = function (a, b) {\n    if (this.inDocument_) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.element_ || this.createDom();\n    a ? a.insertBefore(this.element_, b || null) : this.dom_.getDocument().body.appendChild(this.element_);\n    this.parent_ && !this.parent_.isInDocument() || this.enterDocument();\n  };\n\n  goog.ui.Component.prototype.decorate = function (a) {\n    if (this.inDocument_) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n\n    if (a && this.canDecorate(a)) {\n      this.wasDecorated_ = !0;\n      var b = goog.dom.getOwnerDocument(a);\n      this.dom_ && this.dom_.getDocument() == b || (this.dom_ = goog.dom.getDomHelper(a));\n      this.decorateInternal(a);\n      goog.ui.Component.ALLOW_DETACHED_DECORATION && !goog.dom.contains(b, a) || this.enterDocument();\n    } else throw Error(goog.ui.Component.Error.DECORATE_INVALID);\n  };\n\n  goog.ui.Component.prototype.canDecorate = function (a) {\n    return !0;\n  };\n\n  goog.ui.Component.prototype.wasDecorated = function () {\n    return this.wasDecorated_;\n  };\n\n  goog.ui.Component.prototype.decorateInternal = function (a) {\n    this.element_ = a;\n  };\n\n  goog.ui.Component.prototype.enterDocument = function () {\n    this.inDocument_ = !0;\n    this.forEachChild(function (a) {\n      !a.isInDocument() && a.getElement() && a.enterDocument();\n    });\n  };\n\n  goog.ui.Component.prototype.exitDocument = function () {\n    this.forEachChild(function (a) {\n      a.isInDocument() && a.exitDocument();\n    });\n    this.googUiComponentHandler_ && this.googUiComponentHandler_.removeAll();\n    this.inDocument_ = !1;\n  };\n\n  goog.ui.Component.prototype.disposeInternal = function () {\n    this.inDocument_ && this.exitDocument();\n    this.googUiComponentHandler_ && (this.googUiComponentHandler_.dispose(), delete this.googUiComponentHandler_);\n    this.forEachChild(function (a) {\n      a.dispose();\n    });\n    !this.wasDecorated_ && this.element_ && goog.dom.removeNode(this.element_);\n    this.parent_ = this.model_ = this.element_ = this.childIndex_ = this.children_ = null;\n    goog.ui.Component.superClass_.disposeInternal.call(this);\n  };\n\n  goog.ui.Component.prototype.makeId = function (a) {\n    return this.getId() + \".\" + a;\n  };\n\n  goog.ui.Component.prototype.makeIds = function (a) {\n    var b = {},\n        c;\n\n    for (c in a) b[c] = this.makeId(a[c]);\n\n    return b;\n  };\n\n  goog.ui.Component.prototype.getModel = function () {\n    return this.model_;\n  };\n\n  goog.ui.Component.prototype.setModel = function (a) {\n    this.model_ = a;\n  };\n\n  goog.ui.Component.prototype.getFragmentFromId = function (a) {\n    return a.substring(this.getId().length + 1);\n  };\n\n  goog.ui.Component.prototype.getElementByFragment = function (a) {\n    if (!this.inDocument_) throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);\n    return this.dom_.getElement(this.makeId(a));\n  };\n\n  goog.ui.Component.prototype.addChild = function (a, b) {\n    this.addChildAt(a, this.getChildCount(), b);\n  };\n\n  goog.ui.Component.prototype.addChildAt = function (a, b, c) {\n    goog.asserts.assert(!!a, \"Provided element must not be null.\");\n    if (a.inDocument_ && (c || !this.inDocument_)) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    if (0 > b || b > this.getChildCount()) throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);\n    this.childIndex_ && this.children_ || (this.childIndex_ = {}, this.children_ = []);\n    a.getParent() == this ? (goog.object.set(this.childIndex_, a.getId(), a), goog.array.remove(this.children_, a)) : goog.object.add(this.childIndex_, a.getId(), a);\n    a.setParent(this);\n    goog.array.insertAt(this.children_, a, b);\n    a.inDocument_ && this.inDocument_ && a.getParent() == this ? (c = this.getContentElement(), b = c.childNodes[b] || null, b != a.getElement() && c.insertBefore(a.getElement(), b)) : c ? (this.element_ || this.createDom(), b = this.getChildAt(b + 1), a.render_(this.getContentElement(), b ? b.element_ : null)) : this.inDocument_ && !a.inDocument_ && a.element_ && a.element_.parentNode && a.element_.parentNode.nodeType == goog.dom.NodeType.ELEMENT && a.enterDocument();\n  };\n\n  goog.ui.Component.prototype.getContentElement = function () {\n    return this.element_;\n  };\n\n  goog.ui.Component.prototype.isRightToLeft = function () {\n    null == this.rightToLeft_ && (this.rightToLeft_ = goog.style.isRightToLeft(this.inDocument_ ? this.element_ : this.dom_.getDocument().body));\n    return this.rightToLeft_;\n  };\n\n  goog.ui.Component.prototype.setRightToLeft = function (a) {\n    if (this.inDocument_) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.rightToLeft_ = a;\n  };\n\n  goog.ui.Component.prototype.hasChildren = function () {\n    return !!this.children_ && 0 != this.children_.length;\n  };\n\n  goog.ui.Component.prototype.getChildCount = function () {\n    return this.children_ ? this.children_.length : 0;\n  };\n\n  goog.ui.Component.prototype.getChildIds = function () {\n    var a = [];\n    this.forEachChild(function (b) {\n      a.push(b.getId());\n    });\n    return a;\n  };\n\n  goog.ui.Component.prototype.getChild = function (a) {\n    return this.childIndex_ && a ? goog.object.get(this.childIndex_, a) || null : null;\n  };\n\n  goog.ui.Component.prototype.getChildAt = function (a) {\n    return this.children_ ? this.children_[a] || null : null;\n  };\n\n  goog.ui.Component.prototype.forEachChild = function (a, b) {\n    this.children_ && goog.array.forEach(this.children_, a, b);\n  };\n\n  goog.ui.Component.prototype.indexOfChild = function (a) {\n    return this.children_ && a ? goog.array.indexOf(this.children_, a) : -1;\n  };\n\n  goog.ui.Component.prototype.removeChild = function (a, b) {\n    if (a) {\n      var c = goog.isString(a) ? a : a.getId();\n      a = this.getChild(c);\n      c && a && (goog.object.remove(this.childIndex_, c), goog.array.remove(this.children_, a), b && (a.exitDocument(), a.element_ && goog.dom.removeNode(a.element_)), a.setParent(null));\n    }\n\n    if (!a) throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);\n    return a;\n  };\n\n  goog.ui.Component.prototype.removeChildAt = function (a, b) {\n    return this.removeChild(this.getChildAt(a), b);\n  };\n\n  goog.ui.Component.prototype.removeChildren = function (a) {\n    for (var b = []; this.hasChildren();) b.push(this.removeChildAt(0, a));\n\n    return b;\n  };\n\n  goog.ui.Component.prototype.pointerEventsEnabled = function () {\n    return this.pointerEventsEnabled_;\n  };\n\n  goog.ui.Component.prototype.setPointerEventsEnabled = function (a) {\n    if (this.inDocument_) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.pointerEventsEnabled_ = a;\n  };\n\n  goog.a11y = {};\n  goog.a11y.aria = {};\n  goog.a11y.aria.Role = {\n    ALERT: \"alert\",\n    ALERTDIALOG: \"alertdialog\",\n    APPLICATION: \"application\",\n    ARTICLE: \"article\",\n    BANNER: \"banner\",\n    BUTTON: \"button\",\n    CHECKBOX: \"checkbox\",\n    COLUMNHEADER: \"columnheader\",\n    COMBOBOX: \"combobox\",\n    COMPLEMENTARY: \"complementary\",\n    CONTENTINFO: \"contentinfo\",\n    DEFINITION: \"definition\",\n    DIALOG: \"dialog\",\n    DIRECTORY: \"directory\",\n    DOCUMENT: \"document\",\n    FORM: \"form\",\n    GRID: \"grid\",\n    GRIDCELL: \"gridcell\",\n    GROUP: \"group\",\n    HEADING: \"heading\",\n    IMG: \"img\",\n    LINK: \"link\",\n    LIST: \"list\",\n    LISTBOX: \"listbox\",\n    LISTITEM: \"listitem\",\n    LOG: \"log\",\n    MAIN: \"main\",\n    MARQUEE: \"marquee\",\n    MATH: \"math\",\n    MENU: \"menu\",\n    MENUBAR: \"menubar\",\n    MENU_ITEM: \"menuitem\",\n    MENU_ITEM_CHECKBOX: \"menuitemcheckbox\",\n    MENU_ITEM_RADIO: \"menuitemradio\",\n    NAVIGATION: \"navigation\",\n    NOTE: \"note\",\n    OPTION: \"option\",\n    PRESENTATION: \"presentation\",\n    PROGRESSBAR: \"progressbar\",\n    RADIO: \"radio\",\n    RADIOGROUP: \"radiogroup\",\n    REGION: \"region\",\n    ROW: \"row\",\n    ROWGROUP: \"rowgroup\",\n    ROWHEADER: \"rowheader\",\n    SCROLLBAR: \"scrollbar\",\n    SEARCH: \"search\",\n    SEPARATOR: \"separator\",\n    SLIDER: \"slider\",\n    SPINBUTTON: \"spinbutton\",\n    STATUS: \"status\",\n    TAB: \"tab\",\n    TAB_LIST: \"tablist\",\n    TAB_PANEL: \"tabpanel\",\n    TEXTBOX: \"textbox\",\n    TEXTINFO: \"textinfo\",\n    TIMER: \"timer\",\n    TOOLBAR: \"toolbar\",\n    TOOLTIP: \"tooltip\",\n    TREE: \"tree\",\n    TREEGRID: \"treegrid\",\n    TREEITEM: \"treeitem\"\n  };\n  goog.a11y.aria.State = {\n    ACTIVEDESCENDANT: \"activedescendant\",\n    ATOMIC: \"atomic\",\n    AUTOCOMPLETE: \"autocomplete\",\n    BUSY: \"busy\",\n    CHECKED: \"checked\",\n    COLINDEX: \"colindex\",\n    CONTROLS: \"controls\",\n    DESCRIBEDBY: \"describedby\",\n    DISABLED: \"disabled\",\n    DROPEFFECT: \"dropeffect\",\n    EXPANDED: \"expanded\",\n    FLOWTO: \"flowto\",\n    GRABBED: \"grabbed\",\n    HASPOPUP: \"haspopup\",\n    HIDDEN: \"hidden\",\n    INVALID: \"invalid\",\n    LABEL: \"label\",\n    LABELLEDBY: \"labelledby\",\n    LEVEL: \"level\",\n    LIVE: \"live\",\n    MULTILINE: \"multiline\",\n    MULTISELECTABLE: \"multiselectable\",\n    ORIENTATION: \"orientation\",\n    OWNS: \"owns\",\n    POSINSET: \"posinset\",\n    PRESSED: \"pressed\",\n    READONLY: \"readonly\",\n    RELEVANT: \"relevant\",\n    REQUIRED: \"required\",\n    ROWINDEX: \"rowindex\",\n    SELECTED: \"selected\",\n    SETSIZE: \"setsize\",\n    SORT: \"sort\",\n    VALUEMAX: \"valuemax\",\n    VALUEMIN: \"valuemin\",\n    VALUENOW: \"valuenow\",\n    VALUETEXT: \"valuetext\"\n  };\n  goog.a11y.aria.AutoCompleteValues = {\n    INLINE: \"inline\",\n    LIST: \"list\",\n    BOTH: \"both\",\n    NONE: \"none\"\n  };\n  goog.a11y.aria.DropEffectValues = {\n    COPY: \"copy\",\n    MOVE: \"move\",\n    LINK: \"link\",\n    EXECUTE: \"execute\",\n    POPUP: \"popup\",\n    NONE: \"none\"\n  };\n  goog.a11y.aria.LivePriority = {\n    OFF: \"off\",\n    POLITE: \"polite\",\n    ASSERTIVE: \"assertive\"\n  };\n  goog.a11y.aria.OrientationValues = {\n    VERTICAL: \"vertical\",\n    HORIZONTAL: \"horizontal\"\n  };\n  goog.a11y.aria.RelevantValues = {\n    ADDITIONS: \"additions\",\n    REMOVALS: \"removals\",\n    TEXT: \"text\",\n    ALL: \"all\"\n  };\n  goog.a11y.aria.SortValues = {\n    ASCENDING: \"ascending\",\n    DESCENDING: \"descending\",\n    NONE: \"none\",\n    OTHER: \"other\"\n  };\n  goog.a11y.aria.CheckedValues = {\n    TRUE: \"true\",\n    FALSE: \"false\",\n    MIXED: \"mixed\",\n    UNDEFINED: \"undefined\"\n  };\n  goog.a11y.aria.ExpandedValues = {\n    TRUE: \"true\",\n    FALSE: \"false\",\n    UNDEFINED: \"undefined\"\n  };\n  goog.a11y.aria.GrabbedValues = {\n    TRUE: \"true\",\n    FALSE: \"false\",\n    UNDEFINED: \"undefined\"\n  };\n  goog.a11y.aria.InvalidValues = {\n    FALSE: \"false\",\n    TRUE: \"true\",\n    GRAMMAR: \"grammar\",\n    SPELLING: \"spelling\"\n  };\n  goog.a11y.aria.PressedValues = {\n    TRUE: \"true\",\n    FALSE: \"false\",\n    MIXED: \"mixed\",\n    UNDEFINED: \"undefined\"\n  };\n  goog.a11y.aria.SelectedValues = {\n    TRUE: \"true\",\n    FALSE: \"false\",\n    UNDEFINED: \"undefined\"\n  };\n  goog.a11y.aria.datatables = {};\n\n  goog.a11y.aria.datatables.getDefaultValuesMap = function () {\n    goog.a11y.aria.DefaultStateValueMap_ || (goog.a11y.aria.DefaultStateValueMap_ = goog.object.create(goog.a11y.aria.State.ATOMIC, !1, goog.a11y.aria.State.AUTOCOMPLETE, \"none\", goog.a11y.aria.State.DROPEFFECT, \"none\", goog.a11y.aria.State.HASPOPUP, !1, goog.a11y.aria.State.LIVE, \"off\", goog.a11y.aria.State.MULTILINE, !1, goog.a11y.aria.State.MULTISELECTABLE, !1, goog.a11y.aria.State.ORIENTATION, \"vertical\", goog.a11y.aria.State.READONLY, !1, goog.a11y.aria.State.RELEVANT, \"additions text\", goog.a11y.aria.State.REQUIRED, !1, goog.a11y.aria.State.SORT, \"none\", goog.a11y.aria.State.BUSY, !1, goog.a11y.aria.State.DISABLED, !1, goog.a11y.aria.State.HIDDEN, !1, goog.a11y.aria.State.INVALID, \"false\"));\n    return goog.a11y.aria.DefaultStateValueMap_;\n  };\n\n  goog.a11y.aria.ARIA_PREFIX_ = \"aria-\";\n  goog.a11y.aria.ROLE_ATTRIBUTE_ = \"role\";\n  goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_ = goog.object.createSet(\"A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK\".split(\" \"));\n  goog.a11y.aria.CONTAINER_ROLES_ = [goog.a11y.aria.Role.COMBOBOX, goog.a11y.aria.Role.GRID, goog.a11y.aria.Role.GROUP, goog.a11y.aria.Role.LISTBOX, goog.a11y.aria.Role.MENU, goog.a11y.aria.Role.MENUBAR, goog.a11y.aria.Role.RADIOGROUP, goog.a11y.aria.Role.ROW, goog.a11y.aria.Role.ROWGROUP, goog.a11y.aria.Role.TAB_LIST, goog.a11y.aria.Role.TEXTBOX, goog.a11y.aria.Role.TOOLBAR, goog.a11y.aria.Role.TREE, goog.a11y.aria.Role.TREEGRID];\n\n  goog.a11y.aria.setRole = function (a, b) {\n    b ? (goog.asserts.ENABLE_ASSERTS && goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role, b), \"No such ARIA role \" + b), a.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_, b)) : goog.a11y.aria.removeRole(a);\n  };\n\n  goog.a11y.aria.getRole = function (a) {\n    return a.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_) || null;\n  };\n\n  goog.a11y.aria.removeRole = function (a) {\n    a.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_);\n  };\n\n  goog.a11y.aria.setState = function (a, b, c) {\n    goog.isArray(c) && (c = c.join(\" \"));\n    var d = goog.a11y.aria.getAriaAttributeName_(b);\n    \"\" === c || void 0 == c ? (c = goog.a11y.aria.datatables.getDefaultValuesMap(), b in c ? a.setAttribute(d, c[b]) : a.removeAttribute(d)) : a.setAttribute(d, c);\n  };\n\n  goog.a11y.aria.toggleState = function (a, b) {\n    var c = goog.a11y.aria.getState(a, b);\n    goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c)) || \"true\" == c || \"false\" == c ? goog.a11y.aria.setState(a, b, \"true\" == c ? \"false\" : \"true\") : goog.a11y.aria.removeState(a, b);\n  };\n\n  goog.a11y.aria.removeState = function (a, b) {\n    a.removeAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n  };\n\n  goog.a11y.aria.getState = function (a, b) {\n    var c = a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n    return null == c || void 0 == c ? \"\" : String(c);\n  };\n\n  goog.a11y.aria.getActiveDescendant = function (a) {\n    var b = goog.a11y.aria.getState(a, goog.a11y.aria.State.ACTIVEDESCENDANT);\n    return goog.dom.getOwnerDocument(a).getElementById(b);\n  };\n\n  goog.a11y.aria.setActiveDescendant = function (a, b) {\n    var c = \"\";\n    b && (c = b.id, goog.asserts.assert(c, \"The active element should have an id.\"));\n    goog.a11y.aria.setState(a, goog.a11y.aria.State.ACTIVEDESCENDANT, c);\n  };\n\n  goog.a11y.aria.getLabel = function (a) {\n    return goog.a11y.aria.getState(a, goog.a11y.aria.State.LABEL);\n  };\n\n  goog.a11y.aria.setLabel = function (a, b) {\n    goog.a11y.aria.setState(a, goog.a11y.aria.State.LABEL, b);\n  };\n\n  goog.a11y.aria.assertRoleIsSetInternalUtil = function (a, b) {\n    if (!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[a.tagName]) {\n      var c = goog.a11y.aria.getRole(a);\n      goog.asserts.assert(null != c, \"The element ARIA role cannot be null.\");\n      goog.asserts.assert(goog.array.contains(b, c), 'Non existing or incorrect role set for element.The role set is \"' + c + '\". The role should be any of \"' + b + '\". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.');\n    }\n  };\n\n  goog.a11y.aria.getStateBoolean = function (a, b) {\n    var c = a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n    goog.asserts.assert(goog.isBoolean(c) || null == c || \"true\" == c || \"false\" == c);\n    return null == c ? c : goog.isBoolean(c) ? c : \"true\" == c;\n  };\n\n  goog.a11y.aria.getStateNumber = function (a, b) {\n    var c = a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n    goog.asserts.assert((null == c || !isNaN(Number(c))) && !goog.isBoolean(c));\n    return null == c ? null : Number(c);\n  };\n\n  goog.a11y.aria.getStateString = function (a, b) {\n    var c = a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n    goog.asserts.assert((null == c || goog.isString(c)) && (\"\" == c || isNaN(Number(c))) && \"true\" != c && \"false\" != c);\n    return null == c || \"\" == c ? null : c;\n  };\n\n  goog.a11y.aria.getStringArrayStateInternalUtil = function (a, b) {\n    var c = a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n    return goog.a11y.aria.splitStringOnWhitespace_(c);\n  };\n\n  goog.a11y.aria.hasState = function (a, b) {\n    return a.hasAttribute(goog.a11y.aria.getAriaAttributeName_(b));\n  };\n\n  goog.a11y.aria.isContainerRole = function (a) {\n    a = goog.a11y.aria.getRole(a);\n    return goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_, a);\n  };\n\n  goog.a11y.aria.splitStringOnWhitespace_ = function (a) {\n    return a ? a.split(/\\s+/) : [];\n  };\n\n  goog.a11y.aria.getAriaAttributeName_ = function (a) {\n    goog.asserts.ENABLE_ASSERTS && (goog.asserts.assert(a, \"ARIA attribute cannot be empty.\"), goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State, a), \"No such ARIA attribute \" + a));\n    return goog.a11y.aria.ARIA_PREFIX_ + a;\n  };\n\n  goog.events.KeyCodes = {\n    WIN_KEY_FF_LINUX: 0,\n    MAC_ENTER: 3,\n    BACKSPACE: 8,\n    TAB: 9,\n    NUM_CENTER: 12,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    PAUSE: 19,\n    CAPS_LOCK: 20,\n    ESC: 27,\n    SPACE: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    PLUS_SIGN: 43,\n    PRINT_SCREEN: 44,\n    INSERT: 45,\n    DELETE: 46,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    FF_SEMICOLON: 59,\n    FF_EQUALS: 61,\n    FF_DASH: 173,\n    FF_HASH: 163,\n    QUESTION_MARK: 63,\n    AT_SIGN: 64,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META: 91,\n    WIN_KEY_RIGHT: 92,\n    CONTEXT_MENU: 93,\n    NUM_ZERO: 96,\n    NUM_ONE: 97,\n    NUM_TWO: 98,\n    NUM_THREE: 99,\n    NUM_FOUR: 100,\n    NUM_FIVE: 101,\n    NUM_SIX: 102,\n    NUM_SEVEN: 103,\n    NUM_EIGHT: 104,\n    NUM_NINE: 105,\n    NUM_MULTIPLY: 106,\n    NUM_PLUS: 107,\n    NUM_MINUS: 109,\n    NUM_PERIOD: 110,\n    NUM_DIVISION: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    NUMLOCK: 144,\n    SCROLL_LOCK: 145,\n    FIRST_MEDIA_KEY: 166,\n    LAST_MEDIA_KEY: 183,\n    SEMICOLON: 186,\n    DASH: 189,\n    EQUALS: 187,\n    COMMA: 188,\n    PERIOD: 190,\n    SLASH: 191,\n    APOSTROPHE: 192,\n    TILDE: 192,\n    SINGLE_QUOTE: 222,\n    OPEN_SQUARE_BRACKET: 219,\n    BACKSLASH: 220,\n    CLOSE_SQUARE_BRACKET: 221,\n    WIN_KEY: 224,\n    MAC_FF_META: 224,\n    MAC_WK_CMD_LEFT: 91,\n    MAC_WK_CMD_RIGHT: 93,\n    WIN_IME: 229,\n    VK_NONAME: 252,\n    PHANTOM: 255\n  };\n\n  goog.events.KeyCodes.isTextModifyingKeyEvent = function (a) {\n    if (a.altKey && !a.ctrlKey || a.metaKey || a.keyCode >= goog.events.KeyCodes.F1 && a.keyCode <= goog.events.KeyCodes.F12) return !1;\n    if (goog.events.KeyCodes.isCharacterKey(a.keyCode)) return !0;\n\n    switch (a.keyCode) {\n      case goog.events.KeyCodes.ALT:\n      case goog.events.KeyCodes.CAPS_LOCK:\n      case goog.events.KeyCodes.CONTEXT_MENU:\n      case goog.events.KeyCodes.CTRL:\n      case goog.events.KeyCodes.DOWN:\n      case goog.events.KeyCodes.END:\n      case goog.events.KeyCodes.ESC:\n      case goog.events.KeyCodes.HOME:\n      case goog.events.KeyCodes.INSERT:\n      case goog.events.KeyCodes.LEFT:\n      case goog.events.KeyCodes.MAC_FF_META:\n      case goog.events.KeyCodes.META:\n      case goog.events.KeyCodes.NUMLOCK:\n      case goog.events.KeyCodes.NUM_CENTER:\n      case goog.events.KeyCodes.PAGE_DOWN:\n      case goog.events.KeyCodes.PAGE_UP:\n      case goog.events.KeyCodes.PAUSE:\n      case goog.events.KeyCodes.PHANTOM:\n      case goog.events.KeyCodes.PRINT_SCREEN:\n      case goog.events.KeyCodes.RIGHT:\n      case goog.events.KeyCodes.SCROLL_LOCK:\n      case goog.events.KeyCodes.SHIFT:\n      case goog.events.KeyCodes.UP:\n      case goog.events.KeyCodes.VK_NONAME:\n      case goog.events.KeyCodes.WIN_KEY:\n      case goog.events.KeyCodes.WIN_KEY_RIGHT:\n        return !1;\n\n      case goog.events.KeyCodes.WIN_KEY_FF_LINUX:\n        return !goog.userAgent.GECKO;\n\n      default:\n        return a.keyCode < goog.events.KeyCodes.FIRST_MEDIA_KEY || a.keyCode > goog.events.KeyCodes.LAST_MEDIA_KEY;\n    }\n  };\n\n  goog.events.KeyCodes.firesKeyPressEvent = function (a, b, c, d, e, f) {\n    if (goog.userAgent.WEBKIT && !goog.userAgent.isVersionOrHigher(\"525\")) return !0;\n    if (goog.userAgent.MAC && e) return goog.events.KeyCodes.isCharacterKey(a);\n    if (e && !d) return !1;\n\n    if (!goog.userAgent.GECKO) {\n      goog.isNumber(b) && (b = goog.events.KeyCodes.normalizeKeyCode(b));\n      var g = b == goog.events.KeyCodes.CTRL || b == goog.events.KeyCodes.ALT || goog.userAgent.MAC && b == goog.events.KeyCodes.META,\n          h = b == goog.events.KeyCodes.SHIFT && (d || f);\n      if ((!c || goog.userAgent.MAC) && g || goog.userAgent.MAC && h) return !1;\n    }\n\n    if ((goog.userAgent.WEBKIT || goog.userAgent.EDGE) && d && c) switch (a) {\n      case goog.events.KeyCodes.BACKSLASH:\n      case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:\n      case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:\n      case goog.events.KeyCodes.TILDE:\n      case goog.events.KeyCodes.SEMICOLON:\n      case goog.events.KeyCodes.DASH:\n      case goog.events.KeyCodes.EQUALS:\n      case goog.events.KeyCodes.COMMA:\n      case goog.events.KeyCodes.PERIOD:\n      case goog.events.KeyCodes.SLASH:\n      case goog.events.KeyCodes.APOSTROPHE:\n      case goog.events.KeyCodes.SINGLE_QUOTE:\n        return !1;\n    }\n    if (goog.userAgent.IE && d && b == a) return !1;\n\n    switch (a) {\n      case goog.events.KeyCodes.ENTER:\n        return goog.userAgent.GECKO ? f || e ? !1 : !(c && d) : !0;\n\n      case goog.events.KeyCodes.ESC:\n        return !(goog.userAgent.WEBKIT || goog.userAgent.EDGE || goog.userAgent.GECKO);\n    }\n\n    return goog.userAgent.GECKO && (d || e || f) ? !1 : goog.events.KeyCodes.isCharacterKey(a);\n  };\n\n  goog.events.KeyCodes.isCharacterKey = function (a) {\n    if (a >= goog.events.KeyCodes.ZERO && a <= goog.events.KeyCodes.NINE || a >= goog.events.KeyCodes.NUM_ZERO && a <= goog.events.KeyCodes.NUM_MULTIPLY || a >= goog.events.KeyCodes.A && a <= goog.events.KeyCodes.Z || (goog.userAgent.WEBKIT || goog.userAgent.EDGE) && 0 == a) return !0;\n\n    switch (a) {\n      case goog.events.KeyCodes.SPACE:\n      case goog.events.KeyCodes.PLUS_SIGN:\n      case goog.events.KeyCodes.QUESTION_MARK:\n      case goog.events.KeyCodes.AT_SIGN:\n      case goog.events.KeyCodes.NUM_PLUS:\n      case goog.events.KeyCodes.NUM_MINUS:\n      case goog.events.KeyCodes.NUM_PERIOD:\n      case goog.events.KeyCodes.NUM_DIVISION:\n      case goog.events.KeyCodes.SEMICOLON:\n      case goog.events.KeyCodes.FF_SEMICOLON:\n      case goog.events.KeyCodes.DASH:\n      case goog.events.KeyCodes.EQUALS:\n      case goog.events.KeyCodes.FF_EQUALS:\n      case goog.events.KeyCodes.COMMA:\n      case goog.events.KeyCodes.PERIOD:\n      case goog.events.KeyCodes.SLASH:\n      case goog.events.KeyCodes.APOSTROPHE:\n      case goog.events.KeyCodes.SINGLE_QUOTE:\n      case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:\n      case goog.events.KeyCodes.BACKSLASH:\n      case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:\n      case goog.events.KeyCodes.FF_HASH:\n        return !0;\n\n      case goog.events.KeyCodes.FF_DASH:\n        return goog.userAgent.GECKO;\n\n      default:\n        return !1;\n    }\n  };\n\n  goog.events.KeyCodes.normalizeKeyCode = function (a) {\n    return goog.userAgent.GECKO ? goog.events.KeyCodes.normalizeGeckoKeyCode(a) : goog.userAgent.MAC && goog.userAgent.WEBKIT ? goog.events.KeyCodes.normalizeMacWebKitKeyCode(a) : a;\n  };\n\n  goog.events.KeyCodes.normalizeGeckoKeyCode = function (a) {\n    switch (a) {\n      case goog.events.KeyCodes.FF_EQUALS:\n        return goog.events.KeyCodes.EQUALS;\n\n      case goog.events.KeyCodes.FF_SEMICOLON:\n        return goog.events.KeyCodes.SEMICOLON;\n\n      case goog.events.KeyCodes.FF_DASH:\n        return goog.events.KeyCodes.DASH;\n\n      case goog.events.KeyCodes.MAC_FF_META:\n        return goog.events.KeyCodes.META;\n\n      case goog.events.KeyCodes.WIN_KEY_FF_LINUX:\n        return goog.events.KeyCodes.WIN_KEY;\n\n      default:\n        return a;\n    }\n  };\n\n  goog.events.KeyCodes.normalizeMacWebKitKeyCode = function (a) {\n    switch (a) {\n      case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:\n        return goog.events.KeyCodes.META;\n\n      default:\n        return a;\n    }\n  };\n\n  goog.events.KeyHandler = function (a, b) {\n    goog.events.EventTarget.call(this);\n    a && this.attach(a, b);\n  };\n\n  goog.inherits(goog.events.KeyHandler, goog.events.EventTarget);\n  goog.events.KeyHandler.prototype.element_ = null;\n  goog.events.KeyHandler.prototype.keyPressKey_ = null;\n  goog.events.KeyHandler.prototype.keyDownKey_ = null;\n  goog.events.KeyHandler.prototype.keyUpKey_ = null;\n  goog.events.KeyHandler.prototype.lastKey_ = -1;\n  goog.events.KeyHandler.prototype.keyCode_ = -1;\n  goog.events.KeyHandler.prototype.altKey_ = !1;\n  goog.events.KeyHandler.EventType = {\n    KEY: \"key\"\n  };\n  goog.events.KeyHandler.safariKey_ = {\n    3: goog.events.KeyCodes.ENTER,\n    12: goog.events.KeyCodes.NUMLOCK,\n    63232: goog.events.KeyCodes.UP,\n    63233: goog.events.KeyCodes.DOWN,\n    63234: goog.events.KeyCodes.LEFT,\n    63235: goog.events.KeyCodes.RIGHT,\n    63236: goog.events.KeyCodes.F1,\n    63237: goog.events.KeyCodes.F2,\n    63238: goog.events.KeyCodes.F3,\n    63239: goog.events.KeyCodes.F4,\n    63240: goog.events.KeyCodes.F5,\n    63241: goog.events.KeyCodes.F6,\n    63242: goog.events.KeyCodes.F7,\n    63243: goog.events.KeyCodes.F8,\n    63244: goog.events.KeyCodes.F9,\n    63245: goog.events.KeyCodes.F10,\n    63246: goog.events.KeyCodes.F11,\n    63247: goog.events.KeyCodes.F12,\n    63248: goog.events.KeyCodes.PRINT_SCREEN,\n    63272: goog.events.KeyCodes.DELETE,\n    63273: goog.events.KeyCodes.HOME,\n    63275: goog.events.KeyCodes.END,\n    63276: goog.events.KeyCodes.PAGE_UP,\n    63277: goog.events.KeyCodes.PAGE_DOWN,\n    63289: goog.events.KeyCodes.NUMLOCK,\n    63302: goog.events.KeyCodes.INSERT\n  };\n  goog.events.KeyHandler.keyIdentifier_ = {\n    Up: goog.events.KeyCodes.UP,\n    Down: goog.events.KeyCodes.DOWN,\n    Left: goog.events.KeyCodes.LEFT,\n    Right: goog.events.KeyCodes.RIGHT,\n    Enter: goog.events.KeyCodes.ENTER,\n    F1: goog.events.KeyCodes.F1,\n    F2: goog.events.KeyCodes.F2,\n    F3: goog.events.KeyCodes.F3,\n    F4: goog.events.KeyCodes.F4,\n    F5: goog.events.KeyCodes.F5,\n    F6: goog.events.KeyCodes.F6,\n    F7: goog.events.KeyCodes.F7,\n    F8: goog.events.KeyCodes.F8,\n    F9: goog.events.KeyCodes.F9,\n    F10: goog.events.KeyCodes.F10,\n    F11: goog.events.KeyCodes.F11,\n    F12: goog.events.KeyCodes.F12,\n    \"U+007F\": goog.events.KeyCodes.DELETE,\n    Home: goog.events.KeyCodes.HOME,\n    End: goog.events.KeyCodes.END,\n    PageUp: goog.events.KeyCodes.PAGE_UP,\n    PageDown: goog.events.KeyCodes.PAGE_DOWN,\n    Insert: goog.events.KeyCodes.INSERT\n  };\n  goog.events.KeyHandler.USES_KEYDOWN_ = !goog.userAgent.WEBKIT || goog.userAgent.isVersionOrHigher(\"525\");\n  goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_ = goog.userAgent.MAC && goog.userAgent.GECKO;\n\n  goog.events.KeyHandler.prototype.handleKeyDown_ = function (a) {\n    (goog.userAgent.WEBKIT || goog.userAgent.EDGE) && (this.lastKey_ == goog.events.KeyCodes.CTRL && !a.ctrlKey || this.lastKey_ == goog.events.KeyCodes.ALT && !a.altKey || goog.userAgent.MAC && this.lastKey_ == goog.events.KeyCodes.META && !a.metaKey) && this.resetState();\n    -1 == this.lastKey_ && (a.ctrlKey && a.keyCode != goog.events.KeyCodes.CTRL ? this.lastKey_ = goog.events.KeyCodes.CTRL : a.altKey && a.keyCode != goog.events.KeyCodes.ALT ? this.lastKey_ = goog.events.KeyCodes.ALT : a.metaKey && a.keyCode != goog.events.KeyCodes.META && (this.lastKey_ = goog.events.KeyCodes.META));\n    goog.events.KeyHandler.USES_KEYDOWN_ && !goog.events.KeyCodes.firesKeyPressEvent(a.keyCode, this.lastKey_, a.shiftKey, a.ctrlKey, a.altKey, a.metaKey) ? this.handleEvent(a) : (this.keyCode_ = goog.events.KeyCodes.normalizeKeyCode(a.keyCode), goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_ && (this.altKey_ = a.altKey));\n  };\n\n  goog.events.KeyHandler.prototype.resetState = function () {\n    this.keyCode_ = this.lastKey_ = -1;\n  };\n\n  goog.events.KeyHandler.prototype.handleKeyup_ = function (a) {\n    this.resetState();\n    this.altKey_ = a.altKey;\n  };\n\n  goog.events.KeyHandler.prototype.handleEvent = function (a) {\n    var b = a.getBrowserEvent(),\n        c = b.altKey;\n\n    if (goog.userAgent.IE && a.type == goog.events.EventType.KEYPRESS) {\n      var d = this.keyCode_;\n      var e = d != goog.events.KeyCodes.ENTER && d != goog.events.KeyCodes.ESC ? b.keyCode : 0;\n    } else (goog.userAgent.WEBKIT || goog.userAgent.EDGE) && a.type == goog.events.EventType.KEYPRESS ? (d = this.keyCode_, e = 0 <= b.charCode && 63232 > b.charCode && goog.events.KeyCodes.isCharacterKey(d) ? b.charCode : 0) : goog.userAgent.OPERA && !goog.userAgent.WEBKIT ? (d = this.keyCode_, e = goog.events.KeyCodes.isCharacterKey(d) ? b.keyCode : 0) : (a.type == goog.events.EventType.KEYPRESS ? (goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_ && (c = this.altKey_), b.keyCode == b.charCode ? 32 > b.keyCode ? (d = b.keyCode, e = 0) : (d = this.keyCode_, e = b.charCode) : (d = b.keyCode || this.keyCode_, e = b.charCode || 0)) : (d = b.keyCode || this.keyCode_, e = b.charCode || 0), goog.userAgent.MAC && e == goog.events.KeyCodes.QUESTION_MARK && d == goog.events.KeyCodes.WIN_KEY && (d = goog.events.KeyCodes.SLASH));\n\n    var f = d = goog.events.KeyCodes.normalizeKeyCode(d);\n    d ? 63232 <= d && d in goog.events.KeyHandler.safariKey_ ? f = goog.events.KeyHandler.safariKey_[d] : 25 == d && a.shiftKey && (f = 9) : b.keyIdentifier && b.keyIdentifier in goog.events.KeyHandler.keyIdentifier_ && (f = goog.events.KeyHandler.keyIdentifier_[b.keyIdentifier]);\n    goog.userAgent.GECKO && goog.events.KeyHandler.USES_KEYDOWN_ && a.type == goog.events.EventType.KEYPRESS && !goog.events.KeyCodes.firesKeyPressEvent(f, this.lastKey_, a.shiftKey, a.ctrlKey, c, a.metaKey) || (a = f == this.lastKey_, this.lastKey_ = f, b = new goog.events.KeyEvent(f, e, a, b), b.altKey = c, this.dispatchEvent(b));\n  };\n\n  goog.events.KeyHandler.prototype.getElement = function () {\n    return this.element_;\n  };\n\n  goog.events.KeyHandler.prototype.attach = function (a, b) {\n    this.keyUpKey_ && this.detach();\n    this.element_ = a;\n    this.keyPressKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYPRESS, this, b);\n    this.keyDownKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYDOWN, this.handleKeyDown_, b, this);\n    this.keyUpKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYUP, this.handleKeyup_, b, this);\n  };\n\n  goog.events.KeyHandler.prototype.detach = function () {\n    this.keyPressKey_ && (goog.events.unlistenByKey(this.keyPressKey_), goog.events.unlistenByKey(this.keyDownKey_), goog.events.unlistenByKey(this.keyUpKey_), this.keyUpKey_ = this.keyDownKey_ = this.keyPressKey_ = null);\n    this.element_ = null;\n    this.keyCode_ = this.lastKey_ = -1;\n  };\n\n  goog.events.KeyHandler.prototype.disposeInternal = function () {\n    goog.events.KeyHandler.superClass_.disposeInternal.call(this);\n    this.detach();\n  };\n\n  goog.events.KeyEvent = function (a, b, c, d) {\n    goog.events.BrowserEvent.call(this, d);\n    this.type = goog.events.KeyHandler.EventType.KEY;\n    this.keyCode = a;\n    this.charCode = b;\n    this.repeat = c;\n  };\n\n  goog.inherits(goog.events.KeyEvent, goog.events.BrowserEvent);\n  goog.ui.ComponentUtil = {};\n\n  goog.ui.ComponentUtil.getMouseEventType = function (a) {\n    return a.pointerEventsEnabled() ? goog.events.PointerAsMouseEventType : goog.events.MouseAsMouseEventType;\n  };\n\n  goog.dom.classlist = {};\n  goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST = !1;\n\n  goog.dom.classlist.get = function (a) {\n    if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList) return a.classList;\n    a = a.className;\n    return goog.isString(a) && a.match(/\\S+/g) || [];\n  };\n\n  goog.dom.classlist.set = function (a, b) {\n    a.className = b;\n  };\n\n  goog.dom.classlist.contains = function (a, b) {\n    return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList ? a.classList.contains(b) : goog.array.contains(goog.dom.classlist.get(a), b);\n  };\n\n  goog.dom.classlist.add = function (a, b) {\n    goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList ? a.classList.add(b) : goog.dom.classlist.contains(a, b) || (a.className += 0 < a.className.length ? \" \" + b : b);\n  };\n\n  goog.dom.classlist.addAll = function (a, b) {\n    if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList) goog.array.forEach(b, function (b) {\n      goog.dom.classlist.add(a, b);\n    });else {\n      var c = {};\n      goog.array.forEach(goog.dom.classlist.get(a), function (a) {\n        c[a] = !0;\n      });\n      goog.array.forEach(b, function (a) {\n        c[a] = !0;\n      });\n      a.className = \"\";\n\n      for (var d in c) a.className += 0 < a.className.length ? \" \" + d : d;\n    }\n  };\n\n  goog.dom.classlist.remove = function (a, b) {\n    goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList ? a.classList.remove(b) : goog.dom.classlist.contains(a, b) && (a.className = goog.array.filter(goog.dom.classlist.get(a), function (a) {\n      return a != b;\n    }).join(\" \"));\n  };\n\n  goog.dom.classlist.removeAll = function (a, b) {\n    goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || a.classList ? goog.array.forEach(b, function (b) {\n      goog.dom.classlist.remove(a, b);\n    }) : a.className = goog.array.filter(goog.dom.classlist.get(a), function (a) {\n      return !goog.array.contains(b, a);\n    }).join(\" \");\n  };\n\n  goog.dom.classlist.enable = function (a, b, c) {\n    c ? goog.dom.classlist.add(a, b) : goog.dom.classlist.remove(a, b);\n  };\n\n  goog.dom.classlist.enableAll = function (a, b, c) {\n    (c ? goog.dom.classlist.addAll : goog.dom.classlist.removeAll)(a, b);\n  };\n\n  goog.dom.classlist.swap = function (a, b, c) {\n    return goog.dom.classlist.contains(a, b) ? (goog.dom.classlist.remove(a, b), goog.dom.classlist.add(a, c), !0) : !1;\n  };\n\n  goog.dom.classlist.toggle = function (a, b) {\n    var c = !goog.dom.classlist.contains(a, b);\n    goog.dom.classlist.enable(a, b, c);\n    return c;\n  };\n\n  goog.dom.classlist.addRemove = function (a, b, c) {\n    goog.dom.classlist.remove(a, b);\n    goog.dom.classlist.add(a, c);\n  };\n\n  goog.ui.registry = {};\n\n  goog.ui.registry.getDefaultRenderer = function (a) {\n    for (var b; a;) {\n      b = goog.getUid(a);\n      if (b = goog.ui.registry.defaultRenderers_[b]) break;\n      a = a.superClass_ ? a.superClass_.constructor : null;\n    }\n\n    return b ? goog.isFunction(b.getInstance) ? b.getInstance() : new b() : null;\n  };\n\n  goog.ui.registry.setDefaultRenderer = function (a, b) {\n    if (!goog.isFunction(a)) throw Error(\"Invalid component class \" + a);\n    if (!goog.isFunction(b)) throw Error(\"Invalid renderer class \" + b);\n    var c = goog.getUid(a);\n    goog.ui.registry.defaultRenderers_[c] = b;\n  };\n\n  goog.ui.registry.getDecoratorByClassName = function (a) {\n    return a in goog.ui.registry.decoratorFunctions_ ? goog.ui.registry.decoratorFunctions_[a]() : null;\n  };\n\n  goog.ui.registry.setDecoratorByClassName = function (a, b) {\n    if (!a) throw Error(\"Invalid class name \" + a);\n    if (!goog.isFunction(b)) throw Error(\"Invalid decorator function \" + b);\n    goog.ui.registry.decoratorFunctions_[a] = b;\n  };\n\n  goog.ui.registry.getDecorator = function (a) {\n    goog.asserts.assert(a);\n\n    for (var b = goog.dom.classlist.get(a), c = 0, d = b.length; c < d; c++) if (a = goog.ui.registry.getDecoratorByClassName(b[c])) return a;\n\n    return null;\n  };\n\n  goog.ui.registry.reset = function () {\n    goog.ui.registry.defaultRenderers_ = {};\n    goog.ui.registry.decoratorFunctions_ = {};\n  };\n\n  goog.ui.registry.defaultRenderers_ = {};\n  goog.ui.registry.decoratorFunctions_ = {};\n\n  goog.ui.ContainerRenderer = function (a) {\n    this.ariaRole_ = a;\n  };\n\n  goog.addSingletonGetter(goog.ui.ContainerRenderer);\n\n  goog.ui.ContainerRenderer.getCustomRenderer = function (a, b) {\n    var c = new a();\n\n    c.getCssClass = function () {\n      return b;\n    };\n\n    return c;\n  };\n\n  goog.ui.ContainerRenderer.CSS_CLASS = \"goog-container\";\n\n  goog.ui.ContainerRenderer.prototype.getAriaRole = function () {\n    return this.ariaRole_;\n  };\n\n  goog.ui.ContainerRenderer.prototype.enableTabIndex = function (a, b) {\n    a && (a.tabIndex = b ? 0 : -1);\n  };\n\n  goog.ui.ContainerRenderer.prototype.createDom = function (a) {\n    return a.getDomHelper().createDom(\"DIV\", this.getClassNames(a).join(\" \"));\n  };\n\n  goog.ui.ContainerRenderer.prototype.getContentElement = function (a) {\n    return a;\n  };\n\n  goog.ui.ContainerRenderer.prototype.canDecorate = function (a) {\n    return \"DIV\" == a.tagName;\n  };\n\n  goog.ui.ContainerRenderer.prototype.decorate = function (a, b) {\n    b.id && a.setId(b.id);\n    var c = this.getCssClass(),\n        d = !1,\n        e = goog.dom.classlist.get(b);\n    e && goog.array.forEach(e, function (b) {\n      b == c ? d = !0 : b && this.setStateFromClassName(a, b, c);\n    }, this);\n    d || goog.dom.classlist.add(b, c);\n    this.decorateChildren(a, this.getContentElement(b));\n    return b;\n  };\n\n  goog.ui.ContainerRenderer.prototype.setStateFromClassName = function (a, b, c) {\n    b == c + \"-disabled\" ? a.setEnabled(!1) : b == c + \"-horizontal\" ? a.setOrientation(goog.ui.Container.Orientation.HORIZONTAL) : b == c + \"-vertical\" && a.setOrientation(goog.ui.Container.Orientation.VERTICAL);\n  };\n\n  goog.ui.ContainerRenderer.prototype.decorateChildren = function (a, b, c) {\n    if (b) {\n      c = c || b.firstChild;\n\n      for (var d; c && c.parentNode == b;) {\n        d = c.nextSibling;\n\n        if (c.nodeType == goog.dom.NodeType.ELEMENT) {\n          var e = this.getDecoratorForChild(c);\n          e && (e.setElementInternal(c), a.isEnabled() || e.setEnabled(!1), a.addChild(e), e.decorate(c));\n        } else c.nodeValue && \"\" != goog.string.trim(c.nodeValue) || b.removeChild(c);\n\n        c = d;\n      }\n    }\n  };\n\n  goog.ui.ContainerRenderer.prototype.getDecoratorForChild = function (a) {\n    return goog.ui.registry.getDecorator(a);\n  };\n\n  goog.ui.ContainerRenderer.prototype.initializeDom = function (a) {\n    a = a.getElement();\n    goog.asserts.assert(a, \"The container DOM element cannot be null.\");\n    goog.style.setUnselectable(a, !0, goog.userAgent.GECKO);\n    goog.userAgent.IE && (a.hideFocus = !0);\n    var b = this.getAriaRole();\n    b && goog.a11y.aria.setRole(a, b);\n  };\n\n  goog.ui.ContainerRenderer.prototype.getKeyEventTarget = function (a) {\n    return a.getElement();\n  };\n\n  goog.ui.ContainerRenderer.prototype.getCssClass = function () {\n    return goog.ui.ContainerRenderer.CSS_CLASS;\n  };\n\n  goog.ui.ContainerRenderer.prototype.getClassNames = function (a) {\n    var b = this.getCssClass(),\n        c = a.getOrientation() == goog.ui.Container.Orientation.HORIZONTAL;\n    c = [b, c ? b + \"-horizontal\" : b + \"-vertical\"];\n    a.isEnabled() || c.push(b + \"-disabled\");\n    return c;\n  };\n\n  goog.ui.ContainerRenderer.prototype.getDefaultOrientation = function () {\n    return goog.ui.Container.Orientation.VERTICAL;\n  };\n\n  goog.ui.ControlRenderer = function () {};\n\n  goog.addSingletonGetter(goog.ui.ControlRenderer);\n  goog.tagUnsealableClass(goog.ui.ControlRenderer);\n\n  goog.ui.ControlRenderer.getCustomRenderer = function (a, b) {\n    var c = new a();\n\n    c.getCssClass = function () {\n      return b;\n    };\n\n    return c;\n  };\n\n  goog.ui.ControlRenderer.CSS_CLASS = \"goog-control\";\n  goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS = [];\n  goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_ = goog.object.create(goog.a11y.aria.Role.BUTTON, goog.a11y.aria.State.PRESSED, goog.a11y.aria.Role.CHECKBOX, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.MENU_ITEM, goog.a11y.aria.State.SELECTED, goog.a11y.aria.Role.MENU_ITEM_CHECKBOX, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.MENU_ITEM_RADIO, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.RADIO, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.TAB, goog.a11y.aria.State.SELECTED, goog.a11y.aria.Role.TREEITEM, goog.a11y.aria.State.SELECTED);\n\n  goog.ui.ControlRenderer.prototype.getAriaRole = function () {};\n\n  goog.ui.ControlRenderer.prototype.createDom = function (a) {\n    return a.getDomHelper().createDom(\"DIV\", this.getClassNames(a).join(\" \"), a.getContent());\n  };\n\n  goog.ui.ControlRenderer.prototype.getContentElement = function (a) {\n    return a;\n  };\n\n  goog.ui.ControlRenderer.prototype.enableClassName = function (a, b, c) {\n    if (a = a.getElement ? a.getElement() : a) {\n      var d = [b];\n      goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"7\") && (d = this.getAppliedCombinedClassNames_(goog.dom.classlist.get(a), b), d.push(b));\n      goog.dom.classlist.enableAll(a, d, c);\n    }\n  };\n\n  goog.ui.ControlRenderer.prototype.enableExtraClassName = function (a, b, c) {\n    this.enableClassName(a, b, c);\n  };\n\n  goog.ui.ControlRenderer.prototype.canDecorate = function (a) {\n    return !0;\n  };\n\n  goog.ui.ControlRenderer.prototype.decorate = function (a, b) {\n    b.id && a.setId(b.id);\n    var c = this.getContentElement(b);\n    c && c.firstChild ? a.setContentInternal(c.firstChild.nextSibling ? goog.array.clone(c.childNodes) : c.firstChild) : a.setContentInternal(null);\n    var d = 0,\n        e = this.getCssClass(),\n        f = this.getStructuralCssClass(),\n        g = !1,\n        h = !1,\n        k = !1,\n        l = goog.array.toArray(goog.dom.classlist.get(b));\n    goog.array.forEach(l, function (a) {\n      g || a != e ? h || a != f ? d |= this.getStateFromClass(a) : h = !0 : (g = !0, f == e && (h = !0));\n      this.getStateFromClass(a) == goog.ui.Component.State.DISABLED && (goog.asserts.assertElement(c), goog.dom.isFocusableTabIndex(c) && goog.dom.setFocusableTabIndex(c, !1));\n    }, this);\n    a.setStateInternal(d);\n    g || (l.push(e), f == e && (h = !0));\n    h || l.push(f);\n    var n = a.getExtraClassNames();\n    n && l.push.apply(l, n);\n\n    if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"7\")) {\n      var m = this.getAppliedCombinedClassNames_(l);\n      0 < m.length && (l.push.apply(l, m), k = !0);\n    }\n\n    g && h && !n && !k || goog.dom.classlist.set(b, l.join(\" \"));\n    return b;\n  };\n\n  goog.ui.ControlRenderer.prototype.initializeDom = function (a) {\n    a.isRightToLeft() && this.setRightToLeft(a.getElement(), !0);\n    a.isEnabled() && this.setFocusable(a, a.isVisible());\n  };\n\n  goog.ui.ControlRenderer.prototype.setAriaRole = function (a, b) {\n    var c = b || this.getAriaRole();\n\n    if (c) {\n      goog.asserts.assert(a, \"The element passed as a first parameter cannot be null.\");\n      var d = goog.a11y.aria.getRole(a);\n      c != d && goog.a11y.aria.setRole(a, c);\n    }\n  };\n\n  goog.ui.ControlRenderer.prototype.setAriaStates = function (a, b) {\n    goog.asserts.assert(a);\n    goog.asserts.assert(b);\n    var c = a.getAriaLabel();\n    goog.isDefAndNotNull(c) && this.setAriaLabel(b, c);\n    a.isVisible() || goog.a11y.aria.setState(b, goog.a11y.aria.State.HIDDEN, !a.isVisible());\n    a.isEnabled() || this.updateAriaState(b, goog.ui.Component.State.DISABLED, !a.isEnabled());\n    a.isSupportedState(goog.ui.Component.State.SELECTED) && this.updateAriaState(b, goog.ui.Component.State.SELECTED, a.isSelected());\n    a.isSupportedState(goog.ui.Component.State.CHECKED) && this.updateAriaState(b, goog.ui.Component.State.CHECKED, a.isChecked());\n    a.isSupportedState(goog.ui.Component.State.OPENED) && this.updateAriaState(b, goog.ui.Component.State.OPENED, a.isOpen());\n  };\n\n  goog.ui.ControlRenderer.prototype.setAriaLabel = function (a, b) {\n    goog.a11y.aria.setLabel(a, b);\n  };\n\n  goog.ui.ControlRenderer.prototype.setAllowTextSelection = function (a, b) {\n    goog.style.setUnselectable(a, !b, !goog.userAgent.IE && !goog.userAgent.OPERA);\n  };\n\n  goog.ui.ControlRenderer.prototype.setRightToLeft = function (a, b) {\n    this.enableClassName(a, this.getStructuralCssClass() + \"-rtl\", b);\n  };\n\n  goog.ui.ControlRenderer.prototype.isFocusable = function (a) {\n    var b;\n    return a.isSupportedState(goog.ui.Component.State.FOCUSED) && (b = a.getKeyEventTarget()) ? goog.dom.isFocusableTabIndex(b) : !1;\n  };\n\n  goog.ui.ControlRenderer.prototype.setFocusable = function (a, b) {\n    var c;\n\n    if (a.isSupportedState(goog.ui.Component.State.FOCUSED) && (c = a.getKeyEventTarget())) {\n      if (!b && a.isFocused()) {\n        try {\n          c.blur();\n        } catch (d) {}\n\n        a.isFocused() && a.handleBlur(null);\n      }\n\n      goog.dom.isFocusableTabIndex(c) != b && goog.dom.setFocusableTabIndex(c, b);\n    }\n  };\n\n  goog.ui.ControlRenderer.prototype.setVisible = function (a, b) {\n    goog.style.setElementShown(a, b);\n    a && goog.a11y.aria.setState(a, goog.a11y.aria.State.HIDDEN, !b);\n  };\n\n  goog.ui.ControlRenderer.prototype.setState = function (a, b, c) {\n    var d = a.getElement();\n\n    if (d) {\n      var e = this.getClassForState(b);\n      e && this.enableClassName(a, e, c);\n      this.updateAriaState(d, b, c);\n    }\n  };\n\n  goog.ui.ControlRenderer.prototype.updateAriaState = function (a, b, c) {\n    goog.ui.ControlRenderer.ariaAttributeMap_ || (goog.ui.ControlRenderer.ariaAttributeMap_ = goog.object.create(goog.ui.Component.State.DISABLED, goog.a11y.aria.State.DISABLED, goog.ui.Component.State.SELECTED, goog.a11y.aria.State.SELECTED, goog.ui.Component.State.CHECKED, goog.a11y.aria.State.CHECKED, goog.ui.Component.State.OPENED, goog.a11y.aria.State.EXPANDED));\n    goog.asserts.assert(a, \"The element passed as a first parameter cannot be null.\");\n    (b = goog.ui.ControlRenderer.getAriaStateForAriaRole_(a, goog.ui.ControlRenderer.ariaAttributeMap_[b])) && goog.a11y.aria.setState(a, b, c);\n  };\n\n  goog.ui.ControlRenderer.getAriaStateForAriaRole_ = function (a, b) {\n    var c = goog.a11y.aria.getRole(a);\n    if (!c) return b;\n    c = goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[c] || b;\n    return goog.ui.ControlRenderer.isAriaState_(b) ? c : b;\n  };\n\n  goog.ui.ControlRenderer.isAriaState_ = function (a) {\n    return a == goog.a11y.aria.State.CHECKED || a == goog.a11y.aria.State.SELECTED;\n  };\n\n  goog.ui.ControlRenderer.prototype.setContent = function (a, b) {\n    var c = this.getContentElement(a);\n    if (c && (goog.dom.removeChildren(c), b)) if (goog.isString(b)) goog.dom.setTextContent(c, b);else {\n      var d = function (a) {\n        if (a) {\n          var b = goog.dom.getOwnerDocument(c);\n          c.appendChild(goog.isString(a) ? b.createTextNode(a) : a);\n        }\n      };\n\n      goog.isArray(b) ? goog.array.forEach(b, d) : !goog.isArrayLike(b) || \"nodeType\" in b ? d(b) : goog.array.forEach(goog.array.clone(b), d);\n    }\n  };\n\n  goog.ui.ControlRenderer.prototype.getKeyEventTarget = function (a) {\n    return a.getElement();\n  };\n\n  goog.ui.ControlRenderer.prototype.getCssClass = function () {\n    return goog.ui.ControlRenderer.CSS_CLASS;\n  };\n\n  goog.ui.ControlRenderer.prototype.getIe6ClassCombinations = function () {\n    return [];\n  };\n\n  goog.ui.ControlRenderer.prototype.getStructuralCssClass = function () {\n    return this.getCssClass();\n  };\n\n  goog.ui.ControlRenderer.prototype.getClassNames = function (a) {\n    var b = this.getCssClass(),\n        c = [b],\n        d = this.getStructuralCssClass();\n    d != b && c.push(d);\n    b = this.getClassNamesForState(a.getState());\n    c.push.apply(c, b);\n    (a = a.getExtraClassNames()) && c.push.apply(c, a);\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"7\") && c.push.apply(c, this.getAppliedCombinedClassNames_(c));\n    return c;\n  };\n\n  goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_ = function (a, b) {\n    var c = [];\n    b && (a = goog.array.concat(a, [b]));\n    goog.array.forEach(this.getIe6ClassCombinations(), function (d) {\n      !goog.array.every(d, goog.partial(goog.array.contains, a)) || b && !goog.array.contains(d, b) || c.push(d.join(\"_\"));\n    });\n    return c;\n  };\n\n  goog.ui.ControlRenderer.prototype.getClassNamesForState = function (a) {\n    for (var b = []; a;) {\n      var c = a & -a;\n      b.push(this.getClassForState(c));\n      a &= ~c;\n    }\n\n    return b;\n  };\n\n  goog.ui.ControlRenderer.prototype.getClassForState = function (a) {\n    this.classByState_ || this.createClassByStateMap_();\n    return this.classByState_[a];\n  };\n\n  goog.ui.ControlRenderer.prototype.getStateFromClass = function (a) {\n    this.stateByClass_ || this.createStateByClassMap_();\n    a = parseInt(this.stateByClass_[a], 10);\n    return isNaN(a) ? 0 : a;\n  };\n\n  goog.ui.ControlRenderer.prototype.createClassByStateMap_ = function () {\n    var a = this.getStructuralCssClass(),\n        b = !goog.string.contains(goog.string.normalizeWhitespace(a), \" \");\n    goog.asserts.assert(b, \"ControlRenderer has an invalid css class: '\" + a + \"'\");\n    this.classByState_ = goog.object.create(goog.ui.Component.State.DISABLED, a + \"-disabled\", goog.ui.Component.State.HOVER, a + \"-hover\", goog.ui.Component.State.ACTIVE, a + \"-active\", goog.ui.Component.State.SELECTED, a + \"-selected\", goog.ui.Component.State.CHECKED, a + \"-checked\", goog.ui.Component.State.FOCUSED, a + \"-focused\", goog.ui.Component.State.OPENED, a + \"-open\");\n  };\n\n  goog.ui.ControlRenderer.prototype.createStateByClassMap_ = function () {\n    this.classByState_ || this.createClassByStateMap_();\n    this.stateByClass_ = goog.object.transpose(this.classByState_);\n  };\n\n  goog.ui.Control = function (a, b, c) {\n    goog.ui.Component.call(this, c);\n    this.renderer_ = b || goog.ui.registry.getDefaultRenderer(this.constructor);\n    this.setContentInternal(goog.isDef(a) ? a : null);\n    this.ariaLabel_ = null;\n  };\n\n  goog.inherits(goog.ui.Control, goog.ui.Component);\n  goog.tagUnsealableClass(goog.ui.Control);\n  goog.ui.Control.registerDecorator = goog.ui.registry.setDecoratorByClassName;\n  goog.ui.Control.getDecorator = goog.ui.registry.getDecorator;\n  goog.ui.Control.prototype.content_ = null;\n  goog.ui.Control.prototype.state_ = 0;\n  goog.ui.Control.prototype.supportedStates_ = goog.ui.Component.State.DISABLED | goog.ui.Component.State.HOVER | goog.ui.Component.State.ACTIVE | goog.ui.Component.State.FOCUSED;\n  goog.ui.Control.prototype.autoStates_ = goog.ui.Component.State.ALL;\n  goog.ui.Control.prototype.statesWithTransitionEvents_ = 0;\n  goog.ui.Control.prototype.visible_ = !0;\n  goog.ui.Control.prototype.extraClassNames_ = null;\n  goog.ui.Control.prototype.handleMouseEvents_ = !0;\n  goog.ui.Control.prototype.allowTextSelection_ = !1;\n  goog.ui.Control.prototype.preferredAriaRole_ = null;\n\n  goog.ui.Control.prototype.isHandleMouseEvents = function () {\n    return this.handleMouseEvents_;\n  };\n\n  goog.ui.Control.prototype.setHandleMouseEvents = function (a) {\n    this.isInDocument() && a != this.handleMouseEvents_ && this.enableMouseEventHandling_(a);\n    this.handleMouseEvents_ = a;\n  };\n\n  goog.ui.Control.prototype.getKeyEventTarget = function () {\n    return this.renderer_.getKeyEventTarget(this);\n  };\n\n  goog.ui.Control.prototype.getKeyHandler = function () {\n    return this.keyHandler_ || (this.keyHandler_ = new goog.events.KeyHandler());\n  };\n\n  goog.ui.Control.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  goog.ui.Control.prototype.setRenderer = function (a) {\n    if (this.isInDocument()) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.getElement() && this.setElementInternal(null);\n    this.renderer_ = a;\n  };\n\n  goog.ui.Control.prototype.getExtraClassNames = function () {\n    return this.extraClassNames_;\n  };\n\n  goog.ui.Control.prototype.addClassName = function (a) {\n    a && (this.extraClassNames_ ? goog.array.contains(this.extraClassNames_, a) || this.extraClassNames_.push(a) : this.extraClassNames_ = [a], this.renderer_.enableExtraClassName(this, a, !0));\n  };\n\n  goog.ui.Control.prototype.removeClassName = function (a) {\n    a && this.extraClassNames_ && goog.array.remove(this.extraClassNames_, a) && (0 == this.extraClassNames_.length && (this.extraClassNames_ = null), this.renderer_.enableExtraClassName(this, a, !1));\n  };\n\n  goog.ui.Control.prototype.enableClassName = function (a, b) {\n    b ? this.addClassName(a) : this.removeClassName(a);\n  };\n\n  goog.ui.Control.prototype.createDom = function () {\n    var a = this.renderer_.createDom(this);\n    this.setElementInternal(a);\n    this.renderer_.setAriaRole(a, this.getPreferredAriaRole());\n    this.isAllowTextSelection() || this.renderer_.setAllowTextSelection(a, !1);\n    this.isVisible() || this.renderer_.setVisible(a, !1);\n  };\n\n  goog.ui.Control.prototype.getPreferredAriaRole = function () {\n    return this.preferredAriaRole_;\n  };\n\n  goog.ui.Control.prototype.setPreferredAriaRole = function (a) {\n    this.preferredAriaRole_ = a;\n  };\n\n  goog.ui.Control.prototype.getAriaLabel = function () {\n    return this.ariaLabel_;\n  };\n\n  goog.ui.Control.prototype.setAriaLabel = function (a) {\n    this.ariaLabel_ = a;\n    var b = this.getElement();\n    b && this.renderer_.setAriaLabel(b, a);\n  };\n\n  goog.ui.Control.prototype.getContentElement = function () {\n    return this.renderer_.getContentElement(this.getElement());\n  };\n\n  goog.ui.Control.prototype.canDecorate = function (a) {\n    return this.renderer_.canDecorate(a);\n  };\n\n  goog.ui.Control.prototype.decorateInternal = function (a) {\n    a = this.renderer_.decorate(this, a);\n    this.setElementInternal(a);\n    this.renderer_.setAriaRole(a, this.getPreferredAriaRole());\n    this.isAllowTextSelection() || this.renderer_.setAllowTextSelection(a, !1);\n    this.visible_ = \"none\" != a.style.display;\n  };\n\n  goog.ui.Control.prototype.enterDocument = function () {\n    goog.ui.Control.superClass_.enterDocument.call(this);\n    this.renderer_.setAriaStates(this, this.getElementStrict());\n    this.renderer_.initializeDom(this);\n\n    if (this.supportedStates_ & ~goog.ui.Component.State.DISABLED && (this.isHandleMouseEvents() && this.enableMouseEventHandling_(!0), this.isSupportedState(goog.ui.Component.State.FOCUSED))) {\n      var a = this.getKeyEventTarget();\n\n      if (a) {\n        var b = this.getKeyHandler();\n        b.attach(a);\n        this.getHandler().listen(b, goog.events.KeyHandler.EventType.KEY, this.handleKeyEvent).listen(a, goog.events.EventType.FOCUS, this.handleFocus).listen(a, goog.events.EventType.BLUR, this.handleBlur);\n      }\n    }\n  };\n\n  goog.ui.Control.prototype.enableMouseEventHandling_ = function (a) {\n    var b = goog.ui.ComponentUtil.getMouseEventType(this),\n        c = this.getHandler(),\n        d = this.getElement();\n    a ? (c.listen(d, b.MOUSEDOWN, this.handleMouseDown).listen(d, [b.MOUSEUP, b.MOUSECANCEL], this.handleMouseUp).listen(d, goog.events.EventType.MOUSEOVER, this.handleMouseOver).listen(d, goog.events.EventType.MOUSEOUT, this.handleMouseOut), this.pointerEventsEnabled() && c.listen(d, goog.events.EventType.GOTPOINTERCAPTURE, this.preventPointerCapture_), this.handleContextMenu != goog.nullFunction && c.listen(d, goog.events.EventType.CONTEXTMENU, this.handleContextMenu), goog.userAgent.IE && (goog.userAgent.isVersionOrHigher(9) || c.listen(d, goog.events.EventType.DBLCLICK, this.handleDblClick), this.ieMouseEventSequenceSimulator_ || (this.ieMouseEventSequenceSimulator_ = new goog.ui.Control.IeMouseEventSequenceSimulator_(this), this.registerDisposable(this.ieMouseEventSequenceSimulator_)))) : (c.unlisten(d, b.MOUSEDOWN, this.handleMouseDown).unlisten(d, [b.MOUSEUP, b.MOUSECANCEL], this.handleMouseUp).unlisten(d, goog.events.EventType.MOUSEOVER, this.handleMouseOver).unlisten(d, goog.events.EventType.MOUSEOUT, this.handleMouseOut), this.pointerEventsEnabled() && c.unlisten(d, goog.events.EventType.GOTPOINTERCAPTURE, this.preventPointerCapture_), this.handleContextMenu != goog.nullFunction && c.unlisten(d, goog.events.EventType.CONTEXTMENU, this.handleContextMenu), goog.userAgent.IE && (goog.userAgent.isVersionOrHigher(9) || c.unlisten(d, goog.events.EventType.DBLCLICK, this.handleDblClick), goog.dispose(this.ieMouseEventSequenceSimulator_), this.ieMouseEventSequenceSimulator_ = null));\n  };\n\n  goog.ui.Control.prototype.exitDocument = function () {\n    goog.ui.Control.superClass_.exitDocument.call(this);\n    this.keyHandler_ && this.keyHandler_.detach();\n    this.isVisible() && this.isEnabled() && this.renderer_.setFocusable(this, !1);\n  };\n\n  goog.ui.Control.prototype.disposeInternal = function () {\n    goog.ui.Control.superClass_.disposeInternal.call(this);\n    this.keyHandler_ && (this.keyHandler_.dispose(), delete this.keyHandler_);\n    delete this.renderer_;\n    this.ieMouseEventSequenceSimulator_ = this.extraClassNames_ = this.content_ = null;\n  };\n\n  goog.ui.Control.prototype.getContent = function () {\n    return this.content_;\n  };\n\n  goog.ui.Control.prototype.setContent = function (a) {\n    this.renderer_.setContent(this.getElement(), a);\n    this.setContentInternal(a);\n  };\n\n  goog.ui.Control.prototype.setContentInternal = function (a) {\n    this.content_ = a;\n  };\n\n  goog.ui.Control.prototype.getCaption = function () {\n    var a = this.getContent();\n    if (!a) return \"\";\n    a = goog.isString(a) ? a : goog.isArray(a) ? goog.array.map(a, goog.dom.getRawTextContent).join(\"\") : goog.dom.getTextContent(a);\n    return goog.string.collapseBreakingSpaces(a);\n  };\n\n  goog.ui.Control.prototype.setCaption = function (a) {\n    this.setContent(a);\n  };\n\n  goog.ui.Control.prototype.setRightToLeft = function (a) {\n    goog.ui.Control.superClass_.setRightToLeft.call(this, a);\n    var b = this.getElement();\n    b && this.renderer_.setRightToLeft(b, a);\n  };\n\n  goog.ui.Control.prototype.isAllowTextSelection = function () {\n    return this.allowTextSelection_;\n  };\n\n  goog.ui.Control.prototype.setAllowTextSelection = function (a) {\n    this.allowTextSelection_ = a;\n    var b = this.getElement();\n    b && this.renderer_.setAllowTextSelection(b, a);\n  };\n\n  goog.ui.Control.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  goog.ui.Control.prototype.setVisible = function (a, b) {\n    if (b || this.visible_ != a && this.dispatchEvent(a ? goog.ui.Component.EventType.SHOW : goog.ui.Component.EventType.HIDE)) {\n      var c = this.getElement();\n      c && this.renderer_.setVisible(c, a);\n      this.isEnabled() && this.renderer_.setFocusable(this, a);\n      this.visible_ = a;\n      return !0;\n    }\n\n    return !1;\n  };\n\n  goog.ui.Control.prototype.isEnabled = function () {\n    return !this.hasState(goog.ui.Component.State.DISABLED);\n  };\n\n  goog.ui.Control.prototype.isParentDisabled_ = function () {\n    var a = this.getParent();\n    return !!a && \"function\" == typeof a.isEnabled && !a.isEnabled();\n  };\n\n  goog.ui.Control.prototype.setEnabled = function (a) {\n    !this.isParentDisabled_() && this.isTransitionAllowed(goog.ui.Component.State.DISABLED, !a) && (a || (this.setActive(!1), this.setHighlighted(!1)), this.isVisible() && this.renderer_.setFocusable(this, a), this.setState(goog.ui.Component.State.DISABLED, !a, !0));\n  };\n\n  goog.ui.Control.prototype.isHighlighted = function () {\n    return this.hasState(goog.ui.Component.State.HOVER);\n  };\n\n  goog.ui.Control.prototype.setHighlighted = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.HOVER, a) && this.setState(goog.ui.Component.State.HOVER, a);\n  };\n\n  goog.ui.Control.prototype.isActive = function () {\n    return this.hasState(goog.ui.Component.State.ACTIVE);\n  };\n\n  goog.ui.Control.prototype.setActive = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.ACTIVE, a) && this.setState(goog.ui.Component.State.ACTIVE, a);\n  };\n\n  goog.ui.Control.prototype.isSelected = function () {\n    return this.hasState(goog.ui.Component.State.SELECTED);\n  };\n\n  goog.ui.Control.prototype.setSelected = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.SELECTED, a) && this.setState(goog.ui.Component.State.SELECTED, a);\n  };\n\n  goog.ui.Control.prototype.isChecked = function () {\n    return this.hasState(goog.ui.Component.State.CHECKED);\n  };\n\n  goog.ui.Control.prototype.setChecked = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.CHECKED, a) && this.setState(goog.ui.Component.State.CHECKED, a);\n  };\n\n  goog.ui.Control.prototype.isFocused = function () {\n    return this.hasState(goog.ui.Component.State.FOCUSED);\n  };\n\n  goog.ui.Control.prototype.setFocused = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.FOCUSED, a) && this.setState(goog.ui.Component.State.FOCUSED, a);\n  };\n\n  goog.ui.Control.prototype.isOpen = function () {\n    return this.hasState(goog.ui.Component.State.OPENED);\n  };\n\n  goog.ui.Control.prototype.setOpen = function (a) {\n    this.isTransitionAllowed(goog.ui.Component.State.OPENED, a) && this.setState(goog.ui.Component.State.OPENED, a);\n  };\n\n  goog.ui.Control.prototype.getState = function () {\n    return this.state_;\n  };\n\n  goog.ui.Control.prototype.hasState = function (a) {\n    return !!(this.state_ & a);\n  };\n\n  goog.ui.Control.prototype.setState = function (a, b, c) {\n    c || a != goog.ui.Component.State.DISABLED ? this.isSupportedState(a) && b != this.hasState(a) && (this.renderer_.setState(this, a, b), this.state_ = b ? this.state_ | a : this.state_ & ~a) : this.setEnabled(!b);\n  };\n\n  goog.ui.Control.prototype.setStateInternal = function (a) {\n    this.state_ = a;\n  };\n\n  goog.ui.Control.prototype.isSupportedState = function (a) {\n    return !!(this.supportedStates_ & a);\n  };\n\n  goog.ui.Control.prototype.setSupportedState = function (a, b) {\n    if (this.isInDocument() && this.hasState(a) && !b) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    !b && this.hasState(a) && this.setState(a, !1);\n    this.supportedStates_ = b ? this.supportedStates_ | a : this.supportedStates_ & ~a;\n  };\n\n  goog.ui.Control.prototype.isAutoState = function (a) {\n    return !!(this.autoStates_ & a) && this.isSupportedState(a);\n  };\n\n  goog.ui.Control.prototype.setAutoStates = function (a, b) {\n    this.autoStates_ = b ? this.autoStates_ | a : this.autoStates_ & ~a;\n  };\n\n  goog.ui.Control.prototype.isDispatchTransitionEvents = function (a) {\n    return !!(this.statesWithTransitionEvents_ & a) && this.isSupportedState(a);\n  };\n\n  goog.ui.Control.prototype.setDispatchTransitionEvents = function (a, b) {\n    this.statesWithTransitionEvents_ = b ? this.statesWithTransitionEvents_ | a : this.statesWithTransitionEvents_ & ~a;\n  };\n\n  goog.ui.Control.prototype.isTransitionAllowed = function (a, b) {\n    return this.isSupportedState(a) && this.hasState(a) != b && (!(this.statesWithTransitionEvents_ & a) || this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(a, b))) && !this.isDisposed();\n  };\n\n  goog.ui.Control.prototype.handleMouseOver = function (a) {\n    !goog.ui.Control.isMouseEventWithinElement_(a, this.getElement()) && this.dispatchEvent(goog.ui.Component.EventType.ENTER) && this.isEnabled() && this.isAutoState(goog.ui.Component.State.HOVER) && this.setHighlighted(!0);\n  };\n\n  goog.ui.Control.prototype.handleMouseOut = function (a) {\n    !goog.ui.Control.isMouseEventWithinElement_(a, this.getElement()) && this.dispatchEvent(goog.ui.Component.EventType.LEAVE) && (this.isAutoState(goog.ui.Component.State.ACTIVE) && this.setActive(!1), this.isAutoState(goog.ui.Component.State.HOVER) && this.setHighlighted(!1));\n  };\n\n  goog.ui.Control.prototype.preventPointerCapture_ = function (a) {\n    var b = a.target;\n    b.releasePointerCapture && b.releasePointerCapture(a.pointerId);\n  };\n\n  goog.ui.Control.prototype.handleContextMenu = goog.nullFunction;\n\n  goog.ui.Control.isMouseEventWithinElement_ = function (a, b) {\n    return !!a.relatedTarget && goog.dom.contains(b, a.relatedTarget);\n  };\n\n  goog.ui.Control.prototype.handleMouseDown = function (a) {\n    this.isEnabled() && (this.isAutoState(goog.ui.Component.State.HOVER) && this.setHighlighted(!0), a.isMouseActionButton() && (this.isAutoState(goog.ui.Component.State.ACTIVE) && this.setActive(!0), this.renderer_ && this.renderer_.isFocusable(this) && this.getKeyEventTarget().focus()));\n    !this.isAllowTextSelection() && a.isMouseActionButton() && a.preventDefault();\n  };\n\n  goog.ui.Control.prototype.handleMouseUp = function (a) {\n    this.isEnabled() && (this.isAutoState(goog.ui.Component.State.HOVER) && this.setHighlighted(!0), this.isActive() && this.performActionInternal(a) && this.isAutoState(goog.ui.Component.State.ACTIVE) && this.setActive(!1));\n  };\n\n  goog.ui.Control.prototype.handleDblClick = function (a) {\n    this.isEnabled() && this.performActionInternal(a);\n  };\n\n  goog.ui.Control.prototype.performActionInternal = function (a) {\n    this.isAutoState(goog.ui.Component.State.CHECKED) && this.setChecked(!this.isChecked());\n    this.isAutoState(goog.ui.Component.State.SELECTED) && this.setSelected(!0);\n    this.isAutoState(goog.ui.Component.State.OPENED) && this.setOpen(!this.isOpen());\n    var b = new goog.events.Event(goog.ui.Component.EventType.ACTION, this);\n    a && (b.altKey = a.altKey, b.ctrlKey = a.ctrlKey, b.metaKey = a.metaKey, b.shiftKey = a.shiftKey, b.platformModifierKey = a.platformModifierKey);\n    return this.dispatchEvent(b);\n  };\n\n  goog.ui.Control.prototype.handleFocus = function (a) {\n    this.isAutoState(goog.ui.Component.State.FOCUSED) && this.setFocused(!0);\n  };\n\n  goog.ui.Control.prototype.handleBlur = function (a) {\n    this.isAutoState(goog.ui.Component.State.ACTIVE) && this.setActive(!1);\n    this.isAutoState(goog.ui.Component.State.FOCUSED) && this.setFocused(!1);\n  };\n\n  goog.ui.Control.prototype.handleKeyEvent = function (a) {\n    return this.isVisible() && this.isEnabled() && this.handleKeyEventInternal(a) ? (a.preventDefault(), a.stopPropagation(), !0) : !1;\n  };\n\n  goog.ui.Control.prototype.handleKeyEventInternal = function (a) {\n    return a.keyCode == goog.events.KeyCodes.ENTER && this.performActionInternal(a);\n  };\n\n  goog.ui.registry.setDefaultRenderer(goog.ui.Control, goog.ui.ControlRenderer);\n  goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS, function () {\n    return new goog.ui.Control(null);\n  });\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_ = function (a) {\n    goog.Disposable.call(this);\n    this.control_ = a;\n    this.clickExpected_ = !1;\n    this.handler_ = new goog.events.EventHandler(this);\n    this.registerDisposable(this.handler_);\n    a = this.control_.getElementStrict();\n    this.handler_.listen(a, goog.events.EventType.MOUSEDOWN, this.handleMouseDown_).listen(a, goog.events.EventType.MOUSEUP, this.handleMouseUp_).listen(a, goog.events.EventType.CLICK, this.handleClick_);\n  };\n\n  goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_, goog.Disposable);\n  goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_ = !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9);\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_ = function () {\n    this.clickExpected_ = !1;\n  };\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_ = function () {\n    this.clickExpected_ = !0;\n  };\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_ = function (a, b) {\n    if (!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_) return a.button = goog.events.BrowserEvent.MouseButton.LEFT, a.type = b, a;\n    var c = document.createEvent(\"MouseEvents\");\n    c.initMouseEvent(b, a.bubbles, a.cancelable, a.view || null, a.detail, a.screenX, a.screenY, a.clientX, a.clientY, a.ctrlKey, a.altKey, a.shiftKey, a.metaKey, goog.events.BrowserEvent.MouseButton.LEFT, a.relatedTarget || null);\n    return c;\n  };\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_ = function (a) {\n    if (this.clickExpected_) this.clickExpected_ = !1;else {\n      var b = a.getBrowserEvent(),\n          c = b.button,\n          d = b.type,\n          e = goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b, goog.events.EventType.MOUSEDOWN);\n      this.control_.handleMouseDown(new goog.events.BrowserEvent(e, a.currentTarget));\n      e = goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b, goog.events.EventType.MOUSEUP);\n      this.control_.handleMouseUp(new goog.events.BrowserEvent(e, a.currentTarget));\n      goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_ || (b.button = c, b.type = d);\n    }\n  };\n\n  goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal = function () {\n    this.control_ = null;\n    goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this);\n  };\n\n  goog.ui.Container = function (a, b, c) {\n    goog.ui.Component.call(this, c);\n    this.renderer_ = b || goog.ui.ContainerRenderer.getInstance();\n    this.orientation_ = a || this.renderer_.getDefaultOrientation();\n  };\n\n  goog.inherits(goog.ui.Container, goog.ui.Component);\n  goog.tagUnsealableClass(goog.ui.Container);\n  goog.ui.Container.EventType = {\n    AFTER_SHOW: \"aftershow\",\n    AFTER_HIDE: \"afterhide\"\n  };\n  goog.ui.Container.Orientation = {\n    HORIZONTAL: \"horizontal\",\n    VERTICAL: \"vertical\"\n  };\n  goog.ui.Container.prototype.keyEventTarget_ = null;\n  goog.ui.Container.prototype.keyHandler_ = null;\n  goog.ui.Container.prototype.renderer_ = null;\n  goog.ui.Container.prototype.orientation_ = null;\n  goog.ui.Container.prototype.visible_ = !0;\n  goog.ui.Container.prototype.enabled_ = !0;\n  goog.ui.Container.prototype.focusable_ = !0;\n  goog.ui.Container.prototype.highlightedIndex_ = -1;\n  goog.ui.Container.prototype.openItem_ = null;\n  goog.ui.Container.prototype.mouseButtonPressed_ = !1;\n  goog.ui.Container.prototype.allowFocusableChildren_ = !1;\n  goog.ui.Container.prototype.openFollowsHighlight_ = !0;\n  goog.ui.Container.prototype.childElementIdMap_ = null;\n\n  goog.ui.Container.prototype.getKeyEventTarget = function () {\n    return this.keyEventTarget_ || this.renderer_.getKeyEventTarget(this);\n  };\n\n  goog.ui.Container.prototype.setKeyEventTarget = function (a) {\n    if (this.focusable_) {\n      var b = this.getKeyEventTarget(),\n          c = this.isInDocument();\n      this.keyEventTarget_ = a;\n      var d = this.getKeyEventTarget();\n      c && (this.keyEventTarget_ = b, this.enableFocusHandling_(!1), this.keyEventTarget_ = a, this.getKeyHandler().attach(d), this.enableFocusHandling_(!0));\n    } else throw Error(\"Can't set key event target for container that doesn't support keyboard focus!\");\n  };\n\n  goog.ui.Container.prototype.getKeyHandler = function () {\n    return this.keyHandler_ || (this.keyHandler_ = new goog.events.KeyHandler(this.getKeyEventTarget()));\n  };\n\n  goog.ui.Container.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  goog.ui.Container.prototype.setRenderer = function (a) {\n    if (this.getElement()) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.renderer_ = a;\n  };\n\n  goog.ui.Container.prototype.createDom = function () {\n    this.setElementInternal(this.renderer_.createDom(this));\n  };\n\n  goog.ui.Container.prototype.getContentElement = function () {\n    return this.renderer_.getContentElement(this.getElement());\n  };\n\n  goog.ui.Container.prototype.canDecorate = function (a) {\n    return this.renderer_.canDecorate(a);\n  };\n\n  goog.ui.Container.prototype.decorateInternal = function (a) {\n    this.setElementInternal(this.renderer_.decorate(this, a));\n    \"none\" == a.style.display && (this.visible_ = !1);\n  };\n\n  goog.ui.Container.prototype.enterDocument = function () {\n    goog.ui.Container.superClass_.enterDocument.call(this);\n    this.forEachChild(function (a) {\n      a.isInDocument() && this.registerChildId_(a);\n    }, this);\n    var a = this.getElement();\n    this.renderer_.initializeDom(this);\n    this.setVisible(this.visible_, !0);\n    var b = goog.ui.ComponentUtil.getMouseEventType(this);\n    this.getHandler().listen(this, goog.ui.Component.EventType.ENTER, this.handleEnterItem).listen(this, goog.ui.Component.EventType.HIGHLIGHT, this.handleHighlightItem).listen(this, goog.ui.Component.EventType.UNHIGHLIGHT, this.handleUnHighlightItem).listen(this, goog.ui.Component.EventType.OPEN, this.handleOpenItem).listen(this, goog.ui.Component.EventType.CLOSE, this.handleCloseItem).listen(a, b.MOUSEDOWN, this.handleMouseDown).listen(goog.dom.getOwnerDocument(a), [b.MOUSEUP, b.MOUSECANCEL], this.handleDocumentMouseUp).listen(a, [b.MOUSEDOWN, b.MOUSEUP, b.MOUSECANCEL, goog.events.EventType.MOUSEOVER, goog.events.EventType.MOUSEOUT, goog.events.EventType.CONTEXTMENU], this.handleChildMouseEvents);\n    this.pointerEventsEnabled() && this.getHandler().listen(a, goog.events.EventType.GOTPOINTERCAPTURE, this.preventPointerCapture_);\n    this.isFocusable() && this.enableFocusHandling_(!0);\n  };\n\n  goog.ui.Container.prototype.preventPointerCapture_ = function (a) {\n    var b = a.target;\n    b.releasePointerCapture && b.releasePointerCapture(a.pointerId);\n  };\n\n  goog.ui.Container.prototype.enableFocusHandling_ = function (a) {\n    var b = this.getHandler(),\n        c = this.getKeyEventTarget();\n    a ? b.listen(c, goog.events.EventType.FOCUS, this.handleFocus).listen(c, goog.events.EventType.BLUR, this.handleBlur).listen(this.getKeyHandler(), goog.events.KeyHandler.EventType.KEY, this.handleKeyEvent) : b.unlisten(c, goog.events.EventType.FOCUS, this.handleFocus).unlisten(c, goog.events.EventType.BLUR, this.handleBlur).unlisten(this.getKeyHandler(), goog.events.KeyHandler.EventType.KEY, this.handleKeyEvent);\n  };\n\n  goog.ui.Container.prototype.exitDocument = function () {\n    this.setHighlightedIndex(-1);\n    this.openItem_ && this.openItem_.setOpen(!1);\n    this.mouseButtonPressed_ = !1;\n    goog.ui.Container.superClass_.exitDocument.call(this);\n  };\n\n  goog.ui.Container.prototype.disposeInternal = function () {\n    goog.ui.Container.superClass_.disposeInternal.call(this);\n    this.keyHandler_ && (this.keyHandler_.dispose(), this.keyHandler_ = null);\n    this.renderer_ = this.openItem_ = this.childElementIdMap_ = this.keyEventTarget_ = null;\n  };\n\n  goog.ui.Container.prototype.handleEnterItem = function (a) {\n    return !0;\n  };\n\n  goog.ui.Container.prototype.handleHighlightItem = function (a) {\n    var b = this.indexOfChild(a.target);\n\n    if (-1 < b && b != this.highlightedIndex_) {\n      var c = this.getHighlighted();\n      c && c.setHighlighted(!1);\n      this.highlightedIndex_ = b;\n      c = this.getHighlighted();\n      this.isMouseButtonPressed() && c.setActive(!0);\n      this.openFollowsHighlight_ && this.openItem_ && c != this.openItem_ && (c.isSupportedState(goog.ui.Component.State.OPENED) ? c.setOpen(!0) : this.openItem_.setOpen(!1));\n    }\n\n    b = this.getElement();\n    goog.asserts.assert(b, \"The DOM element for the container cannot be null.\");\n    null != a.target.getElement() && goog.a11y.aria.setState(b, goog.a11y.aria.State.ACTIVEDESCENDANT, a.target.getElement().id);\n  };\n\n  goog.ui.Container.prototype.handleUnHighlightItem = function (a) {\n    a.target == this.getHighlighted() && (this.highlightedIndex_ = -1);\n    a = this.getElement();\n    goog.asserts.assert(a, \"The DOM element for the container cannot be null.\");\n    goog.a11y.aria.removeState(a, goog.a11y.aria.State.ACTIVEDESCENDANT);\n  };\n\n  goog.ui.Container.prototype.handleOpenItem = function (a) {\n    (a = a.target) && a != this.openItem_ && a.getParent() == this && (this.openItem_ && this.openItem_.setOpen(!1), this.openItem_ = a);\n  };\n\n  goog.ui.Container.prototype.handleCloseItem = function (a) {\n    a.target == this.openItem_ && (this.openItem_ = null);\n    var b = this.getElement(),\n        c = a.target.getElement();\n    b && a.target.isHighlighted() && c && goog.a11y.aria.setActiveDescendant(b, c);\n  };\n\n  goog.ui.Container.prototype.handleMouseDown = function (a) {\n    this.enabled_ && this.setMouseButtonPressed(!0);\n    var b = this.getKeyEventTarget();\n    b && goog.dom.isFocusableTabIndex(b) ? b.focus() : a.preventDefault();\n  };\n\n  goog.ui.Container.prototype.handleDocumentMouseUp = function (a) {\n    this.setMouseButtonPressed(!1);\n  };\n\n  goog.ui.Container.prototype.handleChildMouseEvents = function (a) {\n    var b = goog.ui.ComponentUtil.getMouseEventType(this),\n        c = this.getOwnerControl(a.target);\n    if (c) switch (a.type) {\n      case b.MOUSEDOWN:\n        c.handleMouseDown(a);\n        break;\n\n      case b.MOUSEUP:\n      case b.MOUSECANCEL:\n        c.handleMouseUp(a);\n        break;\n\n      case goog.events.EventType.MOUSEOVER:\n        c.handleMouseOver(a);\n        break;\n\n      case goog.events.EventType.MOUSEOUT:\n        c.handleMouseOut(a);\n        break;\n\n      case goog.events.EventType.CONTEXTMENU:\n        c.handleContextMenu(a);\n    }\n  };\n\n  goog.ui.Container.prototype.getOwnerControl = function (a) {\n    if (this.childElementIdMap_) for (var b = this.getElement(); a && a !== b;) {\n      var c = a.id;\n      if (c in this.childElementIdMap_) return this.childElementIdMap_[c];\n      a = a.parentNode;\n    }\n    return null;\n  };\n\n  goog.ui.Container.prototype.handleFocus = function (a) {};\n\n  goog.ui.Container.prototype.handleBlur = function (a) {\n    this.setHighlightedIndex(-1);\n    this.setMouseButtonPressed(!1);\n    this.openItem_ && this.openItem_.setOpen(!1);\n  };\n\n  goog.ui.Container.prototype.handleKeyEvent = function (a) {\n    return this.isEnabled() && this.isVisible() && (0 != this.getChildCount() || this.keyEventTarget_) && this.handleKeyEventInternal(a) ? (a.preventDefault(), a.stopPropagation(), !0) : !1;\n  };\n\n  goog.ui.Container.prototype.handleKeyEventInternal = function (a) {\n    var b = this.getHighlighted();\n    if (b && \"function\" == typeof b.handleKeyEvent && b.handleKeyEvent(a) || this.openItem_ && this.openItem_ != b && \"function\" == typeof this.openItem_.handleKeyEvent && this.openItem_.handleKeyEvent(a)) return !0;\n    if (a.shiftKey || a.ctrlKey || a.metaKey || a.altKey) return !1;\n\n    switch (a.keyCode) {\n      case goog.events.KeyCodes.ESC:\n        if (this.isFocusable()) this.getKeyEventTarget().blur();else return !1;\n        break;\n\n      case goog.events.KeyCodes.HOME:\n        this.highlightFirst();\n        break;\n\n      case goog.events.KeyCodes.END:\n        this.highlightLast();\n        break;\n\n      case goog.events.KeyCodes.UP:\n        if (this.orientation_ == goog.ui.Container.Orientation.VERTICAL) this.highlightPrevious();else return !1;\n        break;\n\n      case goog.events.KeyCodes.LEFT:\n        if (this.orientation_ == goog.ui.Container.Orientation.HORIZONTAL) this.isRightToLeft() ? this.highlightNext() : this.highlightPrevious();else return !1;\n        break;\n\n      case goog.events.KeyCodes.DOWN:\n        if (this.orientation_ == goog.ui.Container.Orientation.VERTICAL) this.highlightNext();else return !1;\n        break;\n\n      case goog.events.KeyCodes.RIGHT:\n        if (this.orientation_ == goog.ui.Container.Orientation.HORIZONTAL) this.isRightToLeft() ? this.highlightPrevious() : this.highlightNext();else return !1;\n        break;\n\n      default:\n        return !1;\n    }\n\n    return !0;\n  };\n\n  goog.ui.Container.prototype.registerChildId_ = function (a) {\n    var b = a.getElement();\n    b = b.id || (b.id = a.getId());\n    this.childElementIdMap_ || (this.childElementIdMap_ = {});\n    this.childElementIdMap_[b] = a;\n  };\n\n  goog.ui.Container.prototype.addChild = function (a, b) {\n    goog.asserts.assertInstanceof(a, goog.ui.Control, \"The child of a container must be a control\");\n    goog.ui.Container.superClass_.addChild.call(this, a, b);\n  };\n\n  goog.ui.Container.prototype.addChildAt = function (a, b, c) {\n    goog.asserts.assertInstanceof(a, goog.ui.Control);\n    a.setDispatchTransitionEvents(goog.ui.Component.State.HOVER, !0);\n    a.setDispatchTransitionEvents(goog.ui.Component.State.OPENED, !0);\n    !this.isFocusable() && this.isFocusableChildrenAllowed() || a.setSupportedState(goog.ui.Component.State.FOCUSED, !1);\n    a.setHandleMouseEvents(!1);\n    var d = a.getParent() == this ? this.indexOfChild(a) : -1;\n    goog.ui.Container.superClass_.addChildAt.call(this, a, b, c);\n    a.isInDocument() && this.isInDocument() && this.registerChildId_(a);\n    this.updateHighlightedIndex_(d, b);\n  };\n\n  goog.ui.Container.prototype.updateHighlightedIndex_ = function (a, b) {\n    -1 == a && (a = this.getChildCount());\n    a == this.highlightedIndex_ ? this.highlightedIndex_ = Math.min(this.getChildCount() - 1, b) : a > this.highlightedIndex_ && b <= this.highlightedIndex_ ? this.highlightedIndex_++ : a < this.highlightedIndex_ && b > this.highlightedIndex_ && this.highlightedIndex_--;\n  };\n\n  goog.ui.Container.prototype.removeChild = function (a, b) {\n    a = goog.isString(a) ? this.getChild(a) : a;\n    goog.asserts.assertInstanceof(a, goog.ui.Control);\n\n    if (a) {\n      var c = this.indexOfChild(a);\n      -1 != c && (c == this.highlightedIndex_ ? (a.setHighlighted(!1), this.highlightedIndex_ = -1) : c < this.highlightedIndex_ && this.highlightedIndex_--);\n      (c = a.getElement()) && c.id && this.childElementIdMap_ && goog.object.remove(this.childElementIdMap_, c.id);\n    }\n\n    a = goog.ui.Container.superClass_.removeChild.call(this, a, b);\n    a.setHandleMouseEvents(!0);\n    return a;\n  };\n\n  goog.ui.Container.prototype.getOrientation = function () {\n    return this.orientation_;\n  };\n\n  goog.ui.Container.prototype.setOrientation = function (a) {\n    if (this.getElement()) throw Error(goog.ui.Component.Error.ALREADY_RENDERED);\n    this.orientation_ = a;\n  };\n\n  goog.ui.Container.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  goog.ui.Container.prototype.setVisible = function (a, b) {\n    if (b || this.visible_ != a && this.dispatchEvent(a ? goog.ui.Component.EventType.SHOW : goog.ui.Component.EventType.HIDE)) {\n      this.visible_ = a;\n      var c = this.getElement();\n      c && (goog.style.setElementShown(c, a), this.isFocusable() && this.renderer_.enableTabIndex(this.getKeyEventTarget(), this.enabled_ && this.visible_), b || this.dispatchEvent(this.visible_ ? goog.ui.Container.EventType.AFTER_SHOW : goog.ui.Container.EventType.AFTER_HIDE));\n      return !0;\n    }\n\n    return !1;\n  };\n\n  goog.ui.Container.prototype.isEnabled = function () {\n    return this.enabled_;\n  };\n\n  goog.ui.Container.prototype.setEnabled = function (a) {\n    this.enabled_ != a && this.dispatchEvent(a ? goog.ui.Component.EventType.ENABLE : goog.ui.Component.EventType.DISABLE) && (a ? (this.enabled_ = !0, this.forEachChild(function (a) {\n      a.wasDisabled ? delete a.wasDisabled : a.setEnabled(!0);\n    })) : (this.forEachChild(function (a) {\n      a.isEnabled() ? a.setEnabled(!1) : a.wasDisabled = !0;\n    }), this.enabled_ = !1, this.setMouseButtonPressed(!1)), this.isFocusable() && this.renderer_.enableTabIndex(this.getKeyEventTarget(), a && this.visible_));\n  };\n\n  goog.ui.Container.prototype.isFocusable = function () {\n    return this.focusable_;\n  };\n\n  goog.ui.Container.prototype.setFocusable = function (a) {\n    a != this.focusable_ && this.isInDocument() && this.enableFocusHandling_(a);\n    this.focusable_ = a;\n    this.enabled_ && this.visible_ && this.renderer_.enableTabIndex(this.getKeyEventTarget(), a);\n  };\n\n  goog.ui.Container.prototype.isFocusableChildrenAllowed = function () {\n    return this.allowFocusableChildren_;\n  };\n\n  goog.ui.Container.prototype.setFocusableChildrenAllowed = function (a) {\n    this.allowFocusableChildren_ = a;\n  };\n\n  goog.ui.Container.prototype.isOpenFollowsHighlight = function () {\n    return this.openFollowsHighlight_;\n  };\n\n  goog.ui.Container.prototype.setOpenFollowsHighlight = function (a) {\n    this.openFollowsHighlight_ = a;\n  };\n\n  goog.ui.Container.prototype.getHighlightedIndex = function () {\n    return this.highlightedIndex_;\n  };\n\n  goog.ui.Container.prototype.setHighlightedIndex = function (a) {\n    (a = this.getChildAt(a)) ? a.setHighlighted(!0) : -1 < this.highlightedIndex_ && this.getHighlighted().setHighlighted(!1);\n  };\n\n  goog.ui.Container.prototype.setHighlighted = function (a) {\n    this.setHighlightedIndex(this.indexOfChild(a));\n  };\n\n  goog.ui.Container.prototype.getHighlighted = function () {\n    return this.getChildAt(this.highlightedIndex_);\n  };\n\n  goog.ui.Container.prototype.highlightFirst = function () {\n    this.highlightHelper(function (a, b) {\n      return (a + 1) % b;\n    }, this.getChildCount() - 1);\n  };\n\n  goog.ui.Container.prototype.highlightLast = function () {\n    this.highlightHelper(function (a, b) {\n      a--;\n      return 0 > a ? b - 1 : a;\n    }, 0);\n  };\n\n  goog.ui.Container.prototype.highlightNext = function () {\n    this.highlightHelper(function (a, b) {\n      return (a + 1) % b;\n    }, this.highlightedIndex_);\n  };\n\n  goog.ui.Container.prototype.highlightPrevious = function () {\n    this.highlightHelper(function (a, b) {\n      a--;\n      return 0 > a ? b - 1 : a;\n    }, this.highlightedIndex_);\n  };\n\n  goog.ui.Container.prototype.highlightHelper = function (a, b) {\n    var c = 0 > b ? this.indexOfChild(this.openItem_) : b,\n        d = this.getChildCount();\n    c = a.call(this, c, d);\n\n    for (var e = 0; e <= d;) {\n      var f = this.getChildAt(c);\n      if (f && this.canHighlightItem(f)) return this.setHighlightedIndexFromKeyEvent(c), !0;\n      e++;\n      c = a.call(this, c, d);\n    }\n\n    return !1;\n  };\n\n  goog.ui.Container.prototype.canHighlightItem = function (a) {\n    return a.isVisible() && a.isEnabled() && a.isSupportedState(goog.ui.Component.State.HOVER);\n  };\n\n  goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent = function (a) {\n    this.setHighlightedIndex(a);\n  };\n\n  goog.ui.Container.prototype.getOpenItem = function () {\n    return this.openItem_;\n  };\n\n  goog.ui.Container.prototype.isMouseButtonPressed = function () {\n    return this.mouseButtonPressed_;\n  };\n\n  goog.ui.Container.prototype.setMouseButtonPressed = function (a) {\n    this.mouseButtonPressed_ = a;\n  };\n\n  goog.ui.MenuHeaderRenderer = function () {\n    goog.ui.ControlRenderer.call(this);\n  };\n\n  goog.inherits(goog.ui.MenuHeaderRenderer, goog.ui.ControlRenderer);\n  goog.addSingletonGetter(goog.ui.MenuHeaderRenderer);\n  goog.ui.MenuHeaderRenderer.CSS_CLASS = \"goog-menuheader\";\n\n  goog.ui.MenuHeaderRenderer.prototype.getCssClass = function () {\n    return goog.ui.MenuHeaderRenderer.CSS_CLASS;\n  };\n\n  goog.ui.MenuHeader = function (a, b, c) {\n    goog.ui.Control.call(this, a, c || goog.ui.MenuHeaderRenderer.getInstance(), b);\n    this.setSupportedState(goog.ui.Component.State.DISABLED, !1);\n    this.setSupportedState(goog.ui.Component.State.HOVER, !1);\n    this.setSupportedState(goog.ui.Component.State.ACTIVE, !1);\n    this.setSupportedState(goog.ui.Component.State.FOCUSED, !1);\n    this.setStateInternal(goog.ui.Component.State.DISABLED);\n  };\n\n  goog.inherits(goog.ui.MenuHeader, goog.ui.Control);\n  goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS, function () {\n    return new goog.ui.MenuHeader(null);\n  });\n\n  goog.ui.MenuItemRenderer = function () {\n    goog.ui.ControlRenderer.call(this);\n    this.classNameCache_ = [];\n  };\n\n  goog.inherits(goog.ui.MenuItemRenderer, goog.ui.ControlRenderer);\n  goog.addSingletonGetter(goog.ui.MenuItemRenderer);\n  goog.ui.MenuItemRenderer.CSS_CLASS = \"goog-menuitem\";\n  goog.ui.MenuItemRenderer.CompositeCssClassIndex_ = {\n    HOVER: 0,\n    CHECKBOX: 1,\n    CONTENT: 2\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_ = function (a) {\n    var b = this.classNameCache_[a];\n\n    if (!b) {\n      switch (a) {\n        case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:\n          b = this.getStructuralCssClass() + \"-highlight\";\n          break;\n\n        case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:\n          b = this.getStructuralCssClass() + \"-checkbox\";\n          break;\n\n        case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:\n          b = this.getStructuralCssClass() + \"-content\";\n      }\n\n      this.classNameCache_[a] = b;\n    }\n\n    return b;\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getAriaRole = function () {\n    return goog.a11y.aria.Role.MENU_ITEM;\n  };\n\n  goog.ui.MenuItemRenderer.prototype.createDom = function (a) {\n    var b = a.getDomHelper().createDom(\"DIV\", this.getClassNames(a).join(\" \"), this.createContent(a.getContent(), a.getDomHelper()));\n    this.setEnableCheckBoxStructure(a, b, a.isSupportedState(goog.ui.Component.State.SELECTED) || a.isSupportedState(goog.ui.Component.State.CHECKED));\n    return b;\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getContentElement = function (a) {\n    return a && a.firstChild;\n  };\n\n  goog.ui.MenuItemRenderer.prototype.decorate = function (a, b) {\n    goog.asserts.assert(b);\n    this.hasContentStructure(b) || b.appendChild(this.createContent(b.childNodes, a.getDomHelper()));\n    goog.dom.classlist.contains(b, \"goog-option\") && (a.setCheckable(!0), this.setCheckable(a, b, !0));\n    return goog.ui.MenuItemRenderer.superClass_.decorate.call(this, a, b);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.setContent = function (a, b) {\n    var c = this.getContentElement(a),\n        d = this.hasCheckBoxStructure(a) ? c.firstChild : null;\n    goog.ui.MenuItemRenderer.superClass_.setContent.call(this, a, b);\n    d && !this.hasCheckBoxStructure(a) && c.insertBefore(d, c.firstChild || null);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.hasContentStructure = function (a) {\n    a = goog.dom.getFirstElementChild(a);\n    var b = this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);\n    return !!a && goog.dom.classlist.contains(a, b);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.createContent = function (a, b) {\n    var c = this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);\n    return b.createDom(\"DIV\", c, a);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.setSelectable = function (a, b, c) {\n    a && b && this.setEnableCheckBoxStructure(a, b, c);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.setCheckable = function (a, b, c) {\n    a && b && this.setEnableCheckBoxStructure(a, b, c);\n  };\n\n  goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure = function (a) {\n    if (a = this.getContentElement(a)) {\n      a = a.firstChild;\n      var b = this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);\n      return !!a && goog.dom.isElement(a) && goog.dom.classlist.contains(a, b);\n    }\n\n    return !1;\n  };\n\n  goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure = function (a, b, c) {\n    this.setAriaRole(b, a.getPreferredAriaRole());\n    this.setAriaStates(a, b);\n    c != this.hasCheckBoxStructure(b) && (goog.dom.classlist.enable(b, \"goog-option\", c), b = this.getContentElement(b), c ? (c = this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX), b.insertBefore(a.getDomHelper().createDom(\"DIV\", c), b.firstChild || null)) : b.removeChild(b.firstChild));\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getClassForState = function (a) {\n    switch (a) {\n      case goog.ui.Component.State.HOVER:\n        return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);\n\n      case goog.ui.Component.State.CHECKED:\n      case goog.ui.Component.State.SELECTED:\n        return \"goog-option-selected\";\n\n      default:\n        return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this, a);\n    }\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getStateFromClass = function (a) {\n    var b = this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);\n\n    switch (a) {\n      case \"goog-option-selected\":\n        return goog.ui.Component.State.CHECKED;\n\n      case b:\n        return goog.ui.Component.State.HOVER;\n\n      default:\n        return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this, a);\n    }\n  };\n\n  goog.ui.MenuItemRenderer.prototype.getCssClass = function () {\n    return goog.ui.MenuItemRenderer.CSS_CLASS;\n  };\n\n  goog.ui.MenuItem = function (a, b, c, d) {\n    goog.ui.Control.call(this, a, d || goog.ui.MenuItemRenderer.getInstance(), c);\n    this.setValue(b);\n  };\n\n  goog.inherits(goog.ui.MenuItem, goog.ui.Control);\n  goog.tagUnsealableClass(goog.ui.MenuItem);\n  goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_ = \"goog-menuitem-mnemonic-separator\";\n  goog.ui.MenuItem.ACCELERATOR_CLASS = \"goog-menuitem-accel\";\n\n  goog.ui.MenuItem.prototype.getValue = function () {\n    var a = this.getModel();\n    return null != a ? a : this.getCaption();\n  };\n\n  goog.ui.MenuItem.prototype.setValue = function (a) {\n    this.setModel(a);\n  };\n\n  goog.ui.MenuItem.prototype.setSupportedState = function (a, b) {\n    goog.ui.MenuItem.superClass_.setSupportedState.call(this, a, b);\n\n    switch (a) {\n      case goog.ui.Component.State.SELECTED:\n        this.setSelectableInternal_(b);\n        break;\n\n      case goog.ui.Component.State.CHECKED:\n        this.setCheckableInternal_(b);\n    }\n  };\n\n  goog.ui.MenuItem.prototype.setSelectable = function (a) {\n    this.setSupportedState(goog.ui.Component.State.SELECTED, a);\n  };\n\n  goog.ui.MenuItem.prototype.setSelectableInternal_ = function (a) {\n    this.isChecked() && !a && this.setChecked(!1);\n    var b = this.getElement();\n    b && this.getRenderer().setSelectable(this, b, a);\n  };\n\n  goog.ui.MenuItem.prototype.setCheckable = function (a) {\n    this.setSupportedState(goog.ui.Component.State.CHECKED, a);\n  };\n\n  goog.ui.MenuItem.prototype.setCheckableInternal_ = function (a) {\n    var b = this.getElement();\n    b && this.getRenderer().setCheckable(this, b, a);\n  };\n\n  goog.ui.MenuItem.prototype.getCaption = function () {\n    var a = this.getContent();\n\n    if (goog.isArray(a)) {\n      var b = goog.ui.MenuItem.ACCELERATOR_CLASS,\n          c = goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;\n      a = goog.array.map(a, function (a) {\n        return goog.dom.isElement(a) && (goog.dom.classlist.contains(a, b) || goog.dom.classlist.contains(a, c)) ? \"\" : goog.dom.getRawTextContent(a);\n      }).join(\"\");\n      return goog.string.collapseBreakingSpaces(a);\n    }\n\n    return goog.ui.MenuItem.superClass_.getCaption.call(this);\n  };\n\n  goog.ui.MenuItem.prototype.getAccelerator = function () {\n    var a = this.getDomHelper(),\n        b = this.getContent();\n    return goog.isArray(b) && (b = goog.array.find(b, function (a) {\n      return goog.dom.classlist.contains(a, goog.ui.MenuItem.ACCELERATOR_CLASS);\n    })) ? a.getTextContent(b) : null;\n  };\n\n  goog.ui.MenuItem.prototype.handleMouseUp = function (a) {\n    var b = this.getParent();\n\n    if (b) {\n      var c = b.openingCoords;\n      b.openingCoords = null;\n      if (c && goog.isNumber(a.clientX) && (b = new goog.math.Coordinate(a.clientX, a.clientY), goog.math.Coordinate.equals(c, b))) return;\n    }\n\n    goog.ui.MenuItem.superClass_.handleMouseUp.call(this, a);\n  };\n\n  goog.ui.MenuItem.prototype.handleKeyEventInternal = function (a) {\n    return a.keyCode == this.getMnemonic() && this.performActionInternal(a) ? !0 : goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this, a);\n  };\n\n  goog.ui.MenuItem.prototype.setMnemonic = function (a) {\n    this.mnemonicKey_ = a;\n  };\n\n  goog.ui.MenuItem.prototype.getMnemonic = function () {\n    return this.mnemonicKey_;\n  };\n\n  goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS, function () {\n    return new goog.ui.MenuItem(null);\n  });\n\n  goog.ui.MenuItem.prototype.getPreferredAriaRole = function () {\n    return this.isSupportedState(goog.ui.Component.State.CHECKED) ? goog.a11y.aria.Role.MENU_ITEM_CHECKBOX : this.isSupportedState(goog.ui.Component.State.SELECTED) ? goog.a11y.aria.Role.MENU_ITEM_RADIO : goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this);\n  };\n\n  goog.ui.MenuItem.prototype.getParent = function () {\n    return goog.ui.Control.prototype.getParent.call(this);\n  };\n\n  goog.ui.MenuItem.prototype.getParentEventTarget = function () {\n    return goog.ui.Control.prototype.getParentEventTarget.call(this);\n  };\n\n  goog.ui.MenuSeparatorRenderer = function () {\n    goog.ui.ControlRenderer.call(this);\n  };\n\n  goog.inherits(goog.ui.MenuSeparatorRenderer, goog.ui.ControlRenderer);\n  goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer);\n  goog.ui.MenuSeparatorRenderer.CSS_CLASS = \"goog-menuseparator\";\n\n  goog.ui.MenuSeparatorRenderer.prototype.createDom = function (a) {\n    return a.getDomHelper().createDom(\"DIV\", this.getCssClass());\n  };\n\n  goog.ui.MenuSeparatorRenderer.prototype.decorate = function (a, b) {\n    b.id && a.setId(b.id);\n\n    if (\"HR\" == b.tagName) {\n      var c = b;\n      b = this.createDom(a);\n      goog.dom.insertSiblingBefore(b, c);\n      goog.dom.removeNode(c);\n    } else goog.dom.classlist.add(b, this.getCssClass());\n\n    return b;\n  };\n\n  goog.ui.MenuSeparatorRenderer.prototype.setContent = function (a, b) {};\n\n  goog.ui.MenuSeparatorRenderer.prototype.getCssClass = function () {\n    return goog.ui.MenuSeparatorRenderer.CSS_CLASS;\n  };\n\n  goog.ui.Separator = function (a, b) {\n    goog.ui.Control.call(this, null, a || goog.ui.MenuSeparatorRenderer.getInstance(), b);\n    this.setSupportedState(goog.ui.Component.State.DISABLED, !1);\n    this.setSupportedState(goog.ui.Component.State.HOVER, !1);\n    this.setSupportedState(goog.ui.Component.State.ACTIVE, !1);\n    this.setSupportedState(goog.ui.Component.State.FOCUSED, !1);\n    this.setStateInternal(goog.ui.Component.State.DISABLED);\n  };\n\n  goog.inherits(goog.ui.Separator, goog.ui.Control);\n\n  goog.ui.Separator.prototype.enterDocument = function () {\n    goog.ui.Separator.superClass_.enterDocument.call(this);\n    var a = this.getElement();\n    goog.asserts.assert(a, \"The DOM element for the separator cannot be null.\");\n    goog.a11y.aria.setRole(a, \"separator\");\n  };\n\n  goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS, function () {\n    return new goog.ui.Separator();\n  });\n\n  goog.ui.MenuRenderer = function (a) {\n    goog.ui.ContainerRenderer.call(this, a || goog.a11y.aria.Role.MENU);\n  };\n\n  goog.inherits(goog.ui.MenuRenderer, goog.ui.ContainerRenderer);\n  goog.addSingletonGetter(goog.ui.MenuRenderer);\n  goog.ui.MenuRenderer.CSS_CLASS = \"goog-menu\";\n\n  goog.ui.MenuRenderer.prototype.canDecorate = function (a) {\n    return \"UL\" == a.tagName || goog.ui.MenuRenderer.superClass_.canDecorate.call(this, a);\n  };\n\n  goog.ui.MenuRenderer.prototype.getDecoratorForChild = function (a) {\n    return \"HR\" == a.tagName ? new goog.ui.Separator() : goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this, a);\n  };\n\n  goog.ui.MenuRenderer.prototype.containsElement = function (a, b) {\n    return goog.dom.contains(a.getElement(), b);\n  };\n\n  goog.ui.MenuRenderer.prototype.getCssClass = function () {\n    return goog.ui.MenuRenderer.CSS_CLASS;\n  };\n\n  goog.ui.MenuRenderer.prototype.initializeDom = function (a) {\n    goog.ui.MenuRenderer.superClass_.initializeDom.call(this, a);\n    a = a.getElement();\n    goog.asserts.assert(a, \"The menu DOM element cannot be null.\");\n    goog.a11y.aria.setState(a, goog.a11y.aria.State.HASPOPUP, \"true\");\n  };\n\n  goog.ui.MenuSeparator = function (a) {\n    goog.ui.Separator.call(this, goog.ui.MenuSeparatorRenderer.getInstance(), a);\n  };\n\n  goog.inherits(goog.ui.MenuSeparator, goog.ui.Separator);\n  goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS, function () {\n    return new goog.ui.Separator();\n  });\n\n  goog.ui.Menu = function (a, b) {\n    goog.ui.Container.call(this, goog.ui.Container.Orientation.VERTICAL, b || goog.ui.MenuRenderer.getInstance(), a);\n    this.setFocusable(!1);\n  };\n\n  goog.inherits(goog.ui.Menu, goog.ui.Container);\n  goog.tagUnsealableClass(goog.ui.Menu);\n  goog.ui.Menu.EventType = {\n    BEFORE_SHOW: goog.ui.Component.EventType.BEFORE_SHOW,\n    SHOW: goog.ui.Component.EventType.SHOW,\n    BEFORE_HIDE: goog.ui.Component.EventType.HIDE,\n    HIDE: goog.ui.Component.EventType.HIDE\n  };\n  goog.ui.Menu.CSS_CLASS = goog.ui.MenuRenderer.CSS_CLASS;\n  goog.ui.Menu.prototype.allowAutoFocus_ = !0;\n  goog.ui.Menu.prototype.allowHighlightDisabled_ = !1;\n\n  goog.ui.Menu.prototype.getCssClass = function () {\n    return this.getRenderer().getCssClass();\n  };\n\n  goog.ui.Menu.prototype.containsElement = function (a) {\n    if (this.getRenderer().containsElement(this, a)) return !0;\n\n    for (var b = 0, c = this.getChildCount(); b < c; b++) {\n      var d = this.getChildAt(b);\n      if (\"function\" == typeof d.containsElement && d.containsElement(a)) return !0;\n    }\n\n    return !1;\n  };\n\n  goog.ui.Menu.prototype.addItem = function (a) {\n    this.addChild(a, !0);\n  };\n\n  goog.ui.Menu.prototype.addItemAt = function (a, b) {\n    this.addChildAt(a, b, !0);\n  };\n\n  goog.ui.Menu.prototype.removeItem = function (a) {\n    (a = this.removeChild(a, !0)) && a.dispose();\n  };\n\n  goog.ui.Menu.prototype.removeItemAt = function (a) {\n    (a = this.removeChildAt(a, !0)) && a.dispose();\n  };\n\n  goog.ui.Menu.prototype.getItemAt = function (a) {\n    return this.getChildAt(a);\n  };\n\n  goog.ui.Menu.prototype.getItemCount = function () {\n    return this.getChildCount();\n  };\n\n  goog.ui.Menu.prototype.getItems = function () {\n    var a = [];\n    this.forEachChild(function (b) {\n      a.push(b);\n    });\n    return a;\n  };\n\n  goog.ui.Menu.prototype.setPosition = function (a, b) {\n    var c = this.isVisible();\n    c || goog.style.setElementShown(this.getElement(), !0);\n    goog.style.setPageOffset(this.getElement(), a, b);\n    c || goog.style.setElementShown(this.getElement(), !1);\n  };\n\n  goog.ui.Menu.prototype.getPosition = function () {\n    return this.isVisible() ? goog.style.getPageOffset(this.getElement()) : null;\n  };\n\n  goog.ui.Menu.prototype.setAllowAutoFocus = function (a) {\n    (this.allowAutoFocus_ = a) && this.setFocusable(!0);\n  };\n\n  goog.ui.Menu.prototype.getAllowAutoFocus = function () {\n    return this.allowAutoFocus_;\n  };\n\n  goog.ui.Menu.prototype.setAllowHighlightDisabled = function (a) {\n    this.allowHighlightDisabled_ = a;\n  };\n\n  goog.ui.Menu.prototype.getAllowHighlightDisabled = function () {\n    return this.allowHighlightDisabled_;\n  };\n\n  goog.ui.Menu.prototype.setVisible = function (a, b, c) {\n    (b = goog.ui.Menu.superClass_.setVisible.call(this, a, b)) && a && this.isInDocument() && this.allowAutoFocus_ && this.getKeyEventTarget().focus();\n    a && c && goog.isNumber(c.clientX) ? this.openingCoords = new goog.math.Coordinate(c.clientX, c.clientY) : this.openingCoords = null;\n    return b;\n  };\n\n  goog.ui.Menu.prototype.handleEnterItem = function (a) {\n    this.allowAutoFocus_ && this.getKeyEventTarget().focus();\n    return goog.ui.Menu.superClass_.handleEnterItem.call(this, a);\n  };\n\n  goog.ui.Menu.prototype.highlightNextPrefix = function (a) {\n    var b = new RegExp(\"^\" + goog.string.regExpEscape(a), \"i\");\n    return this.highlightHelper(function (a, d) {\n      var c = 0 > a ? 0 : a,\n          f = !1;\n\n      do {\n        ++a;\n        a == d && (a = 0, f = !0);\n        var g = this.getChildAt(a).getCaption();\n        if (g && g.match(b)) return a;\n      } while (!f || a != c);\n\n      return this.getHighlightedIndex();\n    }, this.getHighlightedIndex());\n  };\n\n  goog.ui.Menu.prototype.canHighlightItem = function (a) {\n    return (this.allowHighlightDisabled_ || a.isEnabled()) && a.isVisible() && a.isSupportedState(goog.ui.Component.State.HOVER);\n  };\n\n  goog.ui.Menu.prototype.decorateInternal = function (a) {\n    this.decorateContent(a);\n    goog.ui.Menu.superClass_.decorateInternal.call(this, a);\n  };\n\n  goog.ui.Menu.prototype.handleKeyEventInternal = function (a) {\n    var b = goog.ui.Menu.superClass_.handleKeyEventInternal.call(this, a);\n    b || this.forEachChild(function (c) {\n      !b && c.getMnemonic && c.getMnemonic() == a.keyCode && (this.isEnabled() && this.setHighlighted(c), b = c.handleKeyEvent(a));\n    }, this);\n    return b;\n  };\n\n  goog.ui.Menu.prototype.setHighlightedIndex = function (a) {\n    goog.ui.Menu.superClass_.setHighlightedIndex.call(this, a);\n    (a = this.getChildAt(a)) && goog.style.scrollIntoContainerView(a.getElement(), this.getElement());\n  };\n\n  goog.ui.Menu.prototype.decorateContent = function (a) {\n    var b = this.getRenderer();\n    a = this.getDomHelper().getElementsByTagNameAndClass(\"DIV\", b.getCssClass() + \"-content\", a);\n\n    for (var c = a.length, d = 0; d < c; d++) b.decorateChildren(this, a[d]);\n  };\n\n  goog.Thenable = function () {};\n\n  goog.Thenable.prototype.then = function (a, b, c) {};\n\n  goog.Thenable.IMPLEMENTED_BY_PROP = \"$goog_Thenable\";\n\n  goog.Thenable.addImplementation = function (a) {\n    COMPILED ? a.prototype[goog.Thenable.IMPLEMENTED_BY_PROP] = !0 : a.prototype.$goog_Thenable = !0;\n  };\n\n  goog.Thenable.isImplementedBy = function (a) {\n    if (!a) return !1;\n\n    try {\n      return COMPILED ? !!a[goog.Thenable.IMPLEMENTED_BY_PROP] : !!a.$goog_Thenable;\n    } catch (b) {\n      return !1;\n    }\n  };\n\n  goog.async = {};\n\n  goog.async.FreeList = function (a, b, c) {\n    this.limit_ = c;\n    this.create_ = a;\n    this.reset_ = b;\n    this.occupants_ = 0;\n    this.head_ = null;\n  };\n\n  goog.async.FreeList.prototype.get = function () {\n    if (0 < this.occupants_) {\n      this.occupants_--;\n      var a = this.head_;\n      this.head_ = a.next;\n      a.next = null;\n    } else a = this.create_();\n\n    return a;\n  };\n\n  goog.async.FreeList.prototype.put = function (a) {\n    this.reset_(a);\n    this.occupants_ < this.limit_ && (this.occupants_++, a.next = this.head_, this.head_ = a);\n  };\n\n  goog.async.FreeList.prototype.occupants = function () {\n    return this.occupants_;\n  };\n\n  goog.async.WorkQueue = function () {\n    this.workTail_ = this.workHead_ = null;\n  };\n\n  goog.async.WorkQueue.DEFAULT_MAX_UNUSED = 100;\n  goog.async.WorkQueue.freelist_ = new goog.async.FreeList(function () {\n    return new goog.async.WorkItem();\n  }, function (a) {\n    a.reset();\n  }, goog.async.WorkQueue.DEFAULT_MAX_UNUSED);\n\n  goog.async.WorkQueue.prototype.add = function (a, b) {\n    var c = this.getUnusedItem_();\n    c.set(a, b);\n    this.workTail_ ? this.workTail_.next = c : (goog.asserts.assert(!this.workHead_), this.workHead_ = c);\n    this.workTail_ = c;\n  };\n\n  goog.async.WorkQueue.prototype.remove = function () {\n    var a = null;\n    this.workHead_ && (a = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), a.next = null);\n    return a;\n  };\n\n  goog.async.WorkQueue.prototype.returnUnused = function (a) {\n    goog.async.WorkQueue.freelist_.put(a);\n  };\n\n  goog.async.WorkQueue.prototype.getUnusedItem_ = function () {\n    return goog.async.WorkQueue.freelist_.get();\n  };\n\n  goog.async.WorkItem = function () {\n    this.next = this.scope = this.fn = null;\n  };\n\n  goog.async.WorkItem.prototype.set = function (a, b) {\n    this.fn = a;\n    this.scope = b;\n    this.next = null;\n  };\n\n  goog.async.WorkItem.prototype.reset = function () {\n    this.next = this.scope = this.fn = null;\n  };\n\n  goog.async.throwException = function (a) {\n    goog.global.setTimeout(function () {\n      throw a;\n    }, 0);\n  };\n\n  goog.async.nextTick = function (a, b, c) {\n    var d = a;\n    b && (d = goog.bind(a, b));\n    d = goog.async.nextTick.wrapCallback_(d);\n    goog.isFunction(goog.global.setImmediate) && (c || goog.async.nextTick.useSetImmediate_()) ? goog.global.setImmediate(d) : (goog.async.nextTick.setImmediate_ || (goog.async.nextTick.setImmediate_ = goog.async.nextTick.getSetImmediateEmulator_()), goog.async.nextTick.setImmediate_(d));\n  };\n\n  goog.async.nextTick.useSetImmediate_ = function () {\n    return goog.global.Window && goog.global.Window.prototype && !goog.labs.userAgent.browser.isEdge() && goog.global.Window.prototype.setImmediate == goog.global.setImmediate ? !1 : !0;\n  };\n\n  goog.async.nextTick.getSetImmediateEmulator_ = function () {\n    var a = goog.global.MessageChannel;\n    \"undefined\" === typeof a && \"undefined\" !== typeof window && window.postMessage && window.addEventListener && !goog.labs.userAgent.engine.isPresto() && (a = function () {\n      var a = document.createElement(\"IFRAME\");\n      a.style.display = \"none\";\n      goog.dom.safe.setIframeSrc(a, goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.EMPTY));\n      document.documentElement.appendChild(a);\n      var b = a.contentWindow;\n      a = b.document;\n      a.open();\n      goog.dom.safe.documentWrite(a, goog.html.SafeHtml.EMPTY);\n      a.close();\n      var c = \"callImmediate\" + Math.random(),\n          d = \"file:\" == b.location.protocol ? \"*\" : b.location.protocol + \"//\" + b.location.host;\n      a = goog.bind(function (a) {\n        if ((\"*\" == d || a.origin == d) && a.data == c) this.port1.onmessage();\n      }, this);\n      b.addEventListener(\"message\", a, !1);\n      this.port1 = {};\n      this.port2 = {\n        postMessage: function () {\n          b.postMessage(c, d);\n        }\n      };\n    });\n\n    if (\"undefined\" !== typeof a && !goog.labs.userAgent.browser.isIE()) {\n      var b = new a(),\n          c = {},\n          d = c;\n\n      b.port1.onmessage = function () {\n        if (goog.isDef(c.next)) {\n          c = c.next;\n          var a = c.cb;\n          c.cb = null;\n          a();\n        }\n      };\n\n      return function (a) {\n        d.next = {\n          cb: a\n        };\n        d = d.next;\n        b.port2.postMessage(0);\n      };\n    }\n\n    return \"undefined\" !== typeof document && \"onreadystatechange\" in document.createElement(\"SCRIPT\") ? function (a) {\n      var b = document.createElement(\"SCRIPT\");\n\n      b.onreadystatechange = function () {\n        b.onreadystatechange = null;\n        b.parentNode.removeChild(b);\n        b = null;\n        a();\n        a = null;\n      };\n\n      document.documentElement.appendChild(b);\n    } : function (a) {\n      goog.global.setTimeout(a, 0);\n    };\n  };\n\n  goog.async.nextTick.wrapCallback_ = goog.functions.identity;\n  goog.debug.entryPointRegistry.register(function (a) {\n    goog.async.nextTick.wrapCallback_ = a;\n  });\n  goog.ASSUME_NATIVE_PROMISE = !1;\n\n  goog.async.run = function (a, b) {\n    goog.async.run.schedule_ || goog.async.run.initializeRunner_();\n    goog.async.run.workQueueScheduled_ || (goog.async.run.schedule_(), goog.async.run.workQueueScheduled_ = !0);\n    goog.async.run.workQueue_.add(a, b);\n  };\n\n  goog.async.run.initializeRunner_ = function () {\n    if (goog.ASSUME_NATIVE_PROMISE || goog.global.Promise && goog.global.Promise.resolve) {\n      var a = goog.global.Promise.resolve(void 0);\n\n      goog.async.run.schedule_ = function () {\n        a.then(goog.async.run.processWorkQueue);\n      };\n    } else goog.async.run.schedule_ = function () {\n      goog.async.nextTick(goog.async.run.processWorkQueue);\n    };\n  };\n\n  goog.async.run.forceNextTick = function (a) {\n    goog.async.run.schedule_ = function () {\n      goog.async.nextTick(goog.async.run.processWorkQueue);\n      a && a(goog.async.run.processWorkQueue);\n    };\n  };\n\n  goog.async.run.workQueueScheduled_ = !1;\n  goog.async.run.workQueue_ = new goog.async.WorkQueue();\n  goog.DEBUG && (goog.async.run.resetQueue = function () {\n    goog.async.run.workQueueScheduled_ = !1;\n    goog.async.run.workQueue_ = new goog.async.WorkQueue();\n  });\n\n  goog.async.run.processWorkQueue = function () {\n    for (var a; a = goog.async.run.workQueue_.remove();) {\n      try {\n        a.fn.call(a.scope);\n      } catch (b) {\n        goog.async.throwException(b);\n      }\n\n      goog.async.run.workQueue_.returnUnused(a);\n    }\n\n    goog.async.run.workQueueScheduled_ = !1;\n  };\n\n  goog.promise = {};\n\n  goog.promise.Resolver = function () {};\n\n  goog.Promise = function (a, b) {\n    this.state_ = goog.Promise.State_.PENDING;\n    this.result_ = void 0;\n    this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;\n    this.executing_ = !1;\n    0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? this.unhandledRejectionId_ = 0 : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (this.hadUnhandledRejection_ = !1);\n    goog.Promise.LONG_STACK_TRACES && (this.stack_ = [], this.addStackTrace_(Error(\"created\")), this.currentStep_ = 0);\n    if (a != goog.nullFunction) try {\n      var c = this;\n      a.call(b, function (a) {\n        c.resolve_(goog.Promise.State_.FULFILLED, a);\n      }, function (a) {\n        if (goog.DEBUG && !(a instanceof goog.Promise.CancellationError)) try {\n          if (a instanceof Error) throw a;\n          throw Error(\"Promise rejected.\");\n        } catch (e) {}\n        c.resolve_(goog.Promise.State_.REJECTED, a);\n      });\n    } catch (d) {\n      this.resolve_(goog.Promise.State_.REJECTED, d);\n    }\n  };\n\n  goog.Promise.LONG_STACK_TRACES = !1;\n  goog.Promise.UNHANDLED_REJECTION_DELAY = 0;\n  goog.Promise.State_ = {\n    PENDING: 0,\n    BLOCKED: 1,\n    FULFILLED: 2,\n    REJECTED: 3\n  };\n\n  goog.Promise.CallbackEntry_ = function () {\n    this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;\n    this.always = !1;\n  };\n\n  goog.Promise.CallbackEntry_.prototype.reset = function () {\n    this.context = this.onRejected = this.onFulfilled = this.child = null;\n    this.always = !1;\n  };\n\n  goog.Promise.DEFAULT_MAX_UNUSED = 100;\n  goog.Promise.freelist_ = new goog.async.FreeList(function () {\n    return new goog.Promise.CallbackEntry_();\n  }, function (a) {\n    a.reset();\n  }, goog.Promise.DEFAULT_MAX_UNUSED);\n\n  goog.Promise.getCallbackEntry_ = function (a, b, c) {\n    var d = goog.Promise.freelist_.get();\n    d.onFulfilled = a;\n    d.onRejected = b;\n    d.context = c;\n    return d;\n  };\n\n  goog.Promise.returnEntry_ = function (a) {\n    goog.Promise.freelist_.put(a);\n  };\n\n  goog.Promise.resolve = function (a) {\n    if (a instanceof goog.Promise) return a;\n    var b = new goog.Promise(goog.nullFunction);\n    b.resolve_(goog.Promise.State_.FULFILLED, a);\n    return b;\n  };\n\n  goog.Promise.reject = function (a) {\n    return new goog.Promise(function (b, c) {\n      c(a);\n    });\n  };\n\n  goog.Promise.resolveThen_ = function (a, b, c) {\n    goog.Promise.maybeThen_(a, b, c, null) || goog.async.run(goog.partial(b, a));\n  };\n\n  goog.Promise.race = function (a) {\n    return new goog.Promise(function (b, c) {\n      a.length || b(void 0);\n\n      for (var d = 0, e; d < a.length; d++) e = a[d], goog.Promise.resolveThen_(e, b, c);\n    });\n  };\n\n  goog.Promise.all = function (a) {\n    return new goog.Promise(function (b, c) {\n      var d = a.length,\n          e = [];\n      if (d) for (var f = function (a, c) {\n        d--;\n        e[a] = c;\n        0 == d && b(e);\n      }, g = function (a) {\n        c(a);\n      }, h = 0, k; h < a.length; h++) k = a[h], goog.Promise.resolveThen_(k, goog.partial(f, h), g);else b(e);\n    });\n  };\n\n  goog.Promise.allSettled = function (a) {\n    return new goog.Promise(function (b, c) {\n      var d = a.length,\n          e = [];\n      if (d) for (var f = function (a, c, f) {\n        d--;\n        e[a] = c ? {\n          fulfilled: !0,\n          value: f\n        } : {\n          fulfilled: !1,\n          reason: f\n        };\n        0 == d && b(e);\n      }, g = 0, h; g < a.length; g++) h = a[g], goog.Promise.resolveThen_(h, goog.partial(f, g, !0), goog.partial(f, g, !1));else b(e);\n    });\n  };\n\n  goog.Promise.firstFulfilled = function (a) {\n    return new goog.Promise(function (b, c) {\n      var d = a.length,\n          e = [];\n      if (d) for (var f = function (a) {\n        b(a);\n      }, g = function (a, b) {\n        d--;\n        e[a] = b;\n        0 == d && c(e);\n      }, h = 0, k; h < a.length; h++) k = a[h], goog.Promise.resolveThen_(k, f, goog.partial(g, h));else b(void 0);\n    });\n  };\n\n  goog.Promise.withResolver = function () {\n    var a,\n        b,\n        c = new goog.Promise(function (c, e) {\n      a = c;\n      b = e;\n    });\n    return new goog.Promise.Resolver_(c, a, b);\n  };\n\n  goog.Promise.prototype.then = function (a, b, c) {\n    null != a && goog.asserts.assertFunction(a, \"opt_onFulfilled should be a function.\");\n    null != b && goog.asserts.assertFunction(b, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n    return this.addChildPromise_(goog.isFunction(a) ? a : null, goog.isFunction(b) ? b : null, c);\n  };\n\n  goog.Thenable.addImplementation(goog.Promise);\n\n  goog.Promise.prototype.thenVoid = function (a, b, c) {\n    null != a && goog.asserts.assertFunction(a, \"opt_onFulfilled should be a function.\");\n    null != b && goog.asserts.assertFunction(b, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n    this.addCallbackEntry_(goog.Promise.getCallbackEntry_(a || goog.nullFunction, b || null, c));\n  };\n\n  goog.Promise.prototype.thenAlways = function (a, b) {\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenAlways\"));\n    var c = goog.Promise.getCallbackEntry_(a, a, b);\n    c.always = !0;\n    this.addCallbackEntry_(c);\n    return this;\n  };\n\n  goog.Promise.prototype.thenCatch = function (a, b) {\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenCatch\"));\n    return this.addChildPromise_(null, a, b);\n  };\n\n  goog.Promise.prototype.cancel = function (a) {\n    this.state_ == goog.Promise.State_.PENDING && goog.async.run(function () {\n      var b = new goog.Promise.CancellationError(a);\n      this.cancelInternal_(b);\n    }, this);\n  };\n\n  goog.Promise.prototype.cancelInternal_ = function (a) {\n    this.state_ == goog.Promise.State_.PENDING && (this.parent_ ? (this.parent_.cancelChild_(this, a), this.parent_ = null) : this.resolve_(goog.Promise.State_.REJECTED, a));\n  };\n\n  goog.Promise.prototype.cancelChild_ = function (a, b) {\n    if (this.callbackEntries_) {\n      for (var c = 0, d = null, e = null, f = this.callbackEntries_; f && (f.always || (c++, f.child == a && (d = f), !(d && 1 < c))); f = f.next) d || (e = f);\n\n      d && (this.state_ == goog.Promise.State_.PENDING && 1 == c ? this.cancelInternal_(b) : (e ? this.removeEntryAfter_(e) : this.popEntry_(), this.executeCallback_(d, goog.Promise.State_.REJECTED, b)));\n    }\n  };\n\n  goog.Promise.prototype.addCallbackEntry_ = function (a) {\n    this.hasEntry_() || this.state_ != goog.Promise.State_.FULFILLED && this.state_ != goog.Promise.State_.REJECTED || this.scheduleCallbacks_();\n    this.queueEntry_(a);\n  };\n\n  goog.Promise.prototype.addChildPromise_ = function (a, b, c) {\n    var d = goog.Promise.getCallbackEntry_(null, null, null);\n    d.child = new goog.Promise(function (e, f) {\n      d.onFulfilled = a ? function (b) {\n        try {\n          var d = a.call(c, b);\n          e(d);\n        } catch (k) {\n          f(k);\n        }\n      } : e;\n      d.onRejected = b ? function (a) {\n        try {\n          var d = b.call(c, a);\n          !goog.isDef(d) && a instanceof goog.Promise.CancellationError ? f(a) : e(d);\n        } catch (k) {\n          f(k);\n        }\n      } : f;\n    });\n    d.child.parent_ = this;\n    this.addCallbackEntry_(d);\n    return d.child;\n  };\n\n  goog.Promise.prototype.unblockAndFulfill_ = function (a) {\n    goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n    this.state_ = goog.Promise.State_.PENDING;\n    this.resolve_(goog.Promise.State_.FULFILLED, a);\n  };\n\n  goog.Promise.prototype.unblockAndReject_ = function (a) {\n    goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n    this.state_ = goog.Promise.State_.PENDING;\n    this.resolve_(goog.Promise.State_.REJECTED, a);\n  };\n\n  goog.Promise.prototype.resolve_ = function (a, b) {\n    this.state_ == goog.Promise.State_.PENDING && (this === b && (a = goog.Promise.State_.REJECTED, b = new TypeError(\"Promise cannot resolve to itself\")), this.state_ = goog.Promise.State_.BLOCKED, goog.Promise.maybeThen_(b, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = b, this.state_ = a, this.parent_ = null, this.scheduleCallbacks_(), a != goog.Promise.State_.REJECTED || b instanceof goog.Promise.CancellationError || goog.Promise.addUnhandledRejection_(this, b)));\n  };\n\n  goog.Promise.maybeThen_ = function (a, b, c, d) {\n    if (a instanceof goog.Promise) return a.thenVoid(b, c, d), !0;\n    if (goog.Thenable.isImplementedBy(a)) return a.then(b, c, d), !0;\n    if (goog.isObject(a)) try {\n      var e = a.then;\n      if (goog.isFunction(e)) return goog.Promise.tryThen_(a, e, b, c, d), !0;\n    } catch (f) {\n      return c.call(d, f), !0;\n    }\n    return !1;\n  };\n\n  goog.Promise.tryThen_ = function (a, b, c, d, e) {\n    var f = !1,\n        g = function (a) {\n      f || (f = !0, c.call(e, a));\n    },\n        h = function (a) {\n      f || (f = !0, d.call(e, a));\n    };\n\n    try {\n      b.call(a, g, h);\n    } catch (k) {\n      h(k);\n    }\n  };\n\n  goog.Promise.prototype.scheduleCallbacks_ = function () {\n    this.executing_ || (this.executing_ = !0, goog.async.run(this.executeCallbacks_, this));\n  };\n\n  goog.Promise.prototype.hasEntry_ = function () {\n    return !!this.callbackEntries_;\n  };\n\n  goog.Promise.prototype.queueEntry_ = function (a) {\n    goog.asserts.assert(null != a.onFulfilled);\n    this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = a : this.callbackEntries_ = a;\n    this.callbackEntriesTail_ = a;\n  };\n\n  goog.Promise.prototype.popEntry_ = function () {\n    var a = null;\n    this.callbackEntries_ && (a = this.callbackEntries_, this.callbackEntries_ = a.next, a.next = null);\n    this.callbackEntries_ || (this.callbackEntriesTail_ = null);\n    null != a && goog.asserts.assert(null != a.onFulfilled);\n    return a;\n  };\n\n  goog.Promise.prototype.removeEntryAfter_ = function (a) {\n    goog.asserts.assert(this.callbackEntries_);\n    goog.asserts.assert(null != a);\n    a.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = a);\n    a.next = a.next.next;\n  };\n\n  goog.Promise.prototype.executeCallbacks_ = function () {\n    for (var a; a = this.popEntry_();) goog.Promise.LONG_STACK_TRACES && this.currentStep_++, this.executeCallback_(a, this.state_, this.result_);\n\n    this.executing_ = !1;\n  };\n\n  goog.Promise.prototype.executeCallback_ = function (a, b, c) {\n    b == goog.Promise.State_.REJECTED && a.onRejected && !a.always && this.removeUnhandledRejection_();\n    if (a.child) a.child.parent_ = null, goog.Promise.invokeCallback_(a, b, c);else try {\n      a.always ? a.onFulfilled.call(a.context) : goog.Promise.invokeCallback_(a, b, c);\n    } catch (d) {\n      goog.Promise.handleRejection_.call(null, d);\n    }\n    goog.Promise.returnEntry_(a);\n  };\n\n  goog.Promise.invokeCallback_ = function (a, b, c) {\n    b == goog.Promise.State_.FULFILLED ? a.onFulfilled.call(a.context, c) : a.onRejected && a.onRejected.call(a.context, c);\n  };\n\n  goog.Promise.prototype.addStackTrace_ = function (a) {\n    if (goog.Promise.LONG_STACK_TRACES && goog.isString(a.stack)) {\n      var b = a.stack.split(\"\\n\", 4)[3];\n      a = a.message;\n      a += Array(11 - a.length).join(\" \");\n      this.stack_.push(a + b);\n    }\n  };\n\n  goog.Promise.prototype.appendLongStack_ = function (a) {\n    if (goog.Promise.LONG_STACK_TRACES && a && goog.isString(a.stack) && this.stack_.length) {\n      for (var b = [\"Promise trace:\"], c = this; c; c = c.parent_) {\n        for (var d = this.currentStep_; 0 <= d; d--) b.push(c.stack_[d]);\n\n        b.push(\"Value: [\" + (c.state_ == goog.Promise.State_.REJECTED ? \"REJECTED\" : \"FULFILLED\") + \"] <\" + String(c.result_) + \">\");\n      }\n\n      a.stack += \"\\n\\n\" + b.join(\"\\n\");\n    }\n  };\n\n  goog.Promise.prototype.removeUnhandledRejection_ = function () {\n    if (0 < goog.Promise.UNHANDLED_REJECTION_DELAY) for (var a = this; a && a.unhandledRejectionId_; a = a.parent_) goog.global.clearTimeout(a.unhandledRejectionId_), a.unhandledRejectionId_ = 0;else if (0 == goog.Promise.UNHANDLED_REJECTION_DELAY) for (a = this; a && a.hadUnhandledRejection_; a = a.parent_) a.hadUnhandledRejection_ = !1;\n  };\n\n  goog.Promise.addUnhandledRejection_ = function (a, b) {\n    0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? a.unhandledRejectionId_ = goog.global.setTimeout(function () {\n      a.appendLongStack_(b);\n      goog.Promise.handleRejection_.call(null, b);\n    }, goog.Promise.UNHANDLED_REJECTION_DELAY) : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (a.hadUnhandledRejection_ = !0, goog.async.run(function () {\n      a.hadUnhandledRejection_ && (a.appendLongStack_(b), goog.Promise.handleRejection_.call(null, b));\n    }));\n  };\n\n  goog.Promise.handleRejection_ = goog.async.throwException;\n\n  goog.Promise.setUnhandledRejectionHandler = function (a) {\n    goog.Promise.handleRejection_ = a;\n  };\n\n  goog.Promise.CancellationError = function (a) {\n    goog.debug.Error.call(this, a);\n  };\n\n  goog.inherits(goog.Promise.CancellationError, goog.debug.Error);\n  goog.Promise.CancellationError.prototype.name = \"cancel\";\n\n  goog.Promise.Resolver_ = function (a, b, c) {\n    this.promise = a;\n    this.resolve = b;\n    this.reject = c;\n  };\n\n  goog.Timer = function (a, b) {\n    goog.events.EventTarget.call(this);\n    this.interval_ = a || 1;\n    this.timerObject_ = b || goog.Timer.defaultTimerObject;\n    this.boundTick_ = goog.bind(this.tick_, this);\n    this.last_ = goog.now();\n  };\n\n  goog.inherits(goog.Timer, goog.events.EventTarget);\n  goog.Timer.MAX_TIMEOUT_ = 2147483647;\n  goog.Timer.INVALID_TIMEOUT_ID_ = -1;\n  goog.Timer.prototype.enabled = !1;\n  goog.Timer.defaultTimerObject = goog.global;\n  goog.Timer.intervalScale = .8;\n  goog.Timer.prototype.timer_ = null;\n\n  goog.Timer.prototype.getInterval = function () {\n    return this.interval_;\n  };\n\n  goog.Timer.prototype.setInterval = function (a) {\n    this.interval_ = a;\n    this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();\n  };\n\n  goog.Timer.prototype.tick_ = function () {\n    if (this.enabled) {\n      var a = goog.now() - this.last_;\n      0 < a && a < this.interval_ * goog.Timer.intervalScale ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - a) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.stop(), this.start()));\n    }\n  };\n\n  goog.Timer.prototype.dispatchTick = function () {\n    this.dispatchEvent(goog.Timer.TICK);\n  };\n\n  goog.Timer.prototype.start = function () {\n    this.enabled = !0;\n    this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now());\n  };\n\n  goog.Timer.prototype.stop = function () {\n    this.enabled = !1;\n    this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);\n  };\n\n  goog.Timer.prototype.disposeInternal = function () {\n    goog.Timer.superClass_.disposeInternal.call(this);\n    this.stop();\n    delete this.timerObject_;\n  };\n\n  goog.Timer.TICK = \"tick\";\n\n  goog.Timer.callOnce = function (a, b, c) {\n    if (goog.isFunction(a)) c && (a = goog.bind(a, c));else if (a && \"function\" == typeof a.handleEvent) a = goog.bind(a.handleEvent, a);else throw Error(\"Invalid listener argument\");\n    return Number(b) > goog.Timer.MAX_TIMEOUT_ ? goog.Timer.INVALID_TIMEOUT_ID_ : goog.Timer.defaultTimerObject.setTimeout(a, b || 0);\n  };\n\n  goog.Timer.clear = function (a) {\n    goog.Timer.defaultTimerObject.clearTimeout(a);\n  };\n\n  goog.Timer.promise = function (a, b) {\n    var c = null;\n    return new goog.Promise(function (d, e) {\n      c = goog.Timer.callOnce(function () {\n        d(b);\n      }, a);\n      c == goog.Timer.INVALID_TIMEOUT_ID_ && e(Error(\"Failed to schedule timer.\"));\n    }).thenCatch(function (a) {\n      goog.Timer.clear(c);\n      throw a;\n    });\n  };\n\n  goog.string.StringBuffer = function (a, b) {\n    null != a && this.append.apply(this, arguments);\n  };\n\n  goog.string.StringBuffer.prototype.buffer_ = \"\";\n\n  goog.string.StringBuffer.prototype.set = function (a) {\n    this.buffer_ = \"\" + a;\n  };\n\n  goog.string.StringBuffer.prototype.append = function (a, b, c) {\n    this.buffer_ += String(a);\n    if (null != b) for (var d = 1; d < arguments.length; d++) this.buffer_ += arguments[d];\n    return this;\n  };\n\n  goog.string.StringBuffer.prototype.clear = function () {\n    this.buffer_ = \"\";\n  };\n\n  goog.string.StringBuffer.prototype.getLength = function () {\n    return this.buffer_.length;\n  };\n\n  goog.string.StringBuffer.prototype.toString = function () {\n    return this.buffer_;\n  };\n\n  goog.ui.tree = {};\n\n  goog.ui.tree.BaseNode = function (a, b, c) {\n    goog.ui.Component.call(this, c);\n    this.config_ = b || goog.ui.tree.BaseNode.defaultConfig;\n    this.html_ = goog.html.SafeHtml.htmlEscapePreservingNewlines(a);\n    this.expanded_ = this.selected_ = !1;\n    this.toolTip_ = null;\n    this.afterLabelHtml_ = goog.html.SafeHtml.EMPTY;\n    this.isUserCollapsible_ = !0;\n    this.depth_ = -1;\n  };\n\n  goog.inherits(goog.ui.tree.BaseNode, goog.ui.Component);\n  goog.ui.tree.BaseNode.EventType = {\n    BEFORE_EXPAND: \"beforeexpand\",\n    EXPAND: \"expand\",\n    BEFORE_COLLAPSE: \"beforecollapse\",\n    COLLAPSE: \"collapse\"\n  };\n  goog.ui.tree.BaseNode.allNodes = {};\n\n  goog.ui.tree.BaseNode.prototype.disposeInternal = function () {\n    goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this);\n    this.tree && (this.tree.removeNode(this), this.tree = null);\n    this.setElementInternal(null);\n  };\n\n  goog.ui.tree.BaseNode.prototype.initAccessibility = function () {\n    var a = this.getElement();\n\n    if (a) {\n      var b = this.getLabelElement();\n      b && !b.id && (b.id = this.getId() + \".label\");\n      goog.a11y.aria.setRole(a, \"treeitem\");\n      goog.a11y.aria.setState(a, \"selected\", !1);\n      goog.a11y.aria.setState(a, \"level\", this.getDepth());\n      b && goog.a11y.aria.setState(a, \"labelledby\", b.id);\n      (b = this.getIconElement()) && goog.a11y.aria.setRole(b, \"presentation\");\n      (b = this.getExpandIconElement()) && goog.a11y.aria.setRole(b, \"presentation\");\n      if (b = this.getChildrenElement()) if (goog.a11y.aria.setRole(b, \"group\"), b.hasChildNodes()) for (goog.a11y.aria.setState(a, goog.a11y.aria.State.EXPANDED, !1), a = this.getChildCount(), b = 1; b <= a; b++) {\n        var c = this.getChildAt(b - 1).getElement();\n        goog.asserts.assert(c, \"The child element cannot be null\");\n        goog.a11y.aria.setState(c, \"setsize\", a);\n        goog.a11y.aria.setState(c, \"posinset\", b);\n      }\n    }\n  };\n\n  goog.ui.tree.BaseNode.prototype.createDom = function () {\n    var a = this.getDomHelper().safeHtmlToNode(this.toSafeHtml());\n    this.setElementInternal(a);\n  };\n\n  goog.ui.tree.BaseNode.prototype.enterDocument = function () {\n    goog.ui.tree.BaseNode.superClass_.enterDocument.call(this);\n    goog.ui.tree.BaseNode.allNodes[this.getId()] = this;\n    this.initAccessibility();\n  };\n\n  goog.ui.tree.BaseNode.prototype.exitDocument = function () {\n    goog.ui.tree.BaseNode.superClass_.exitDocument.call(this);\n    delete goog.ui.tree.BaseNode.allNodes[this.getId()];\n  };\n\n  goog.ui.tree.BaseNode.prototype.addChildAt = function (a, b, c) {\n    goog.asserts.assert(!a.getParent());\n    goog.asserts.assertInstanceof(a, goog.ui.tree.BaseNode);\n    c = this.getChildAt(b - 1);\n    var d = this.getChildAt(b);\n    goog.ui.tree.BaseNode.superClass_.addChildAt.call(this, a, b);\n    a.previousSibling_ = c;\n    a.nextSibling_ = d;\n    c ? c.nextSibling_ = a : this.firstChild_ = a;\n    d ? d.previousSibling_ = a : this.lastChild_ = a;\n    (b = this.getTree()) && a.setTreeInternal(b);\n    a.setDepth_(this.getDepth() + 1);\n    if (b = this.getElement()) if (this.updateExpandIcon(), goog.a11y.aria.setState(b, goog.a11y.aria.State.EXPANDED, this.getExpanded()), this.getExpanded()) {\n      b = this.getChildrenElement();\n      a.getElement() || a.createDom();\n      var e = a.getElement(),\n          f = d && d.getElement();\n      b.insertBefore(e, f);\n      this.isInDocument() && a.enterDocument();\n      d || (c ? c.updateExpandIcon() : (goog.style.setElementShown(b, !0), this.setExpanded(this.getExpanded())));\n    }\n  };\n\n  goog.ui.tree.BaseNode.prototype.add = function (a, b) {\n    goog.asserts.assert(!b || b.getParent() == this, \"Can only add nodes before siblings\");\n    a.getParent() && a.getParent().removeChild(a);\n    this.addChildAt(a, b ? this.indexOfChild(b) : this.getChildCount());\n    return a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.removeChild = function (a, b) {\n    var c = this.getTree(),\n        d = c ? c.getSelectedItem() : null;\n    if (d == a || a.contains(d)) c.hasFocus() ? (this.select(), goog.Timer.callOnce(this.onTimeoutSelect_, 10, this)) : this.select();\n    goog.ui.tree.BaseNode.superClass_.removeChild.call(this, a);\n    this.lastChild_ == a && (this.lastChild_ = a.previousSibling_);\n    this.firstChild_ == a && (this.firstChild_ = a.nextSibling_);\n    a.previousSibling_ && (a.previousSibling_.nextSibling_ = a.nextSibling_);\n    a.nextSibling_ && (a.nextSibling_.previousSibling_ = a.previousSibling_);\n    d = a.isLastSibling();\n    a.tree = null;\n    a.depth_ = -1;\n\n    if (c && (c.removeNode(a), this.isInDocument())) {\n      c = this.getChildrenElement();\n\n      if (a.isInDocument()) {\n        var e = a.getElement();\n        c.removeChild(e);\n        a.exitDocument();\n      }\n\n      d && (d = this.getLastChild()) && d.updateExpandIcon();\n      this.hasChildren() || (c.style.display = \"none\", this.updateExpandIcon(), this.updateIcon_(), (d = this.getElement()) && goog.a11y.aria.removeState(d, goog.a11y.aria.State.EXPANDED));\n    }\n\n    return a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.remove = goog.ui.tree.BaseNode.prototype.removeChild;\n\n  goog.ui.tree.BaseNode.prototype.onTimeoutSelect_ = function () {\n    this.select();\n  };\n\n  goog.ui.tree.BaseNode.prototype.getTree = goog.abstractMethod;\n\n  goog.ui.tree.BaseNode.prototype.getDepth = function () {\n    var a = this.depth_;\n    0 > a && (a = this.computeDepth_(), this.setDepth_(a));\n    return a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.computeDepth_ = function () {\n    var a = this.getParent();\n    return a ? a.getDepth() + 1 : 0;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setDepth_ = function (a) {\n    if (a != this.depth_) {\n      this.depth_ = a;\n      var b = this.getRowElement();\n\n      if (b) {\n        var c = this.getPixelIndent_() + \"px\";\n        this.isRightToLeft() ? b.style.paddingRight = c : b.style.paddingLeft = c;\n      }\n\n      this.forEachChild(function (b) {\n        b.setDepth_(a + 1);\n      });\n    }\n  };\n\n  goog.ui.tree.BaseNode.prototype.contains = function (a) {\n    for (; a;) {\n      if (a == this) return !0;\n      a = a.getParent();\n    }\n\n    return !1;\n  };\n\n  goog.ui.tree.BaseNode.EMPTY_CHILDREN_ = [];\n\n  goog.ui.tree.BaseNode.prototype.getChildren = function () {\n    var a = [];\n    this.forEachChild(function (b) {\n      a.push(b);\n    });\n    return a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getFirstChild = function () {\n    return this.getChildAt(0);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getLastChild = function () {\n    return this.getChildAt(this.getChildCount() - 1);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getPreviousSibling = function () {\n    return this.previousSibling_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getNextSibling = function () {\n    return this.nextSibling_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.isLastSibling = function () {\n    return !this.nextSibling_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.isSelected = function () {\n    return this.selected_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.select = function () {\n    var a = this.getTree();\n    a && a.setSelectedItem(this);\n  };\n\n  goog.ui.tree.BaseNode.prototype.deselect = goog.nullFunction;\n\n  goog.ui.tree.BaseNode.prototype.setSelectedInternal = function (a) {\n    if (this.selected_ != a) {\n      this.selected_ = a;\n      this.updateRow();\n      var b = this.getElement();\n      b && (goog.a11y.aria.setState(b, \"selected\", a), a && (a = this.getTree().getElement(), goog.asserts.assert(a, \"The DOM element for the tree cannot be null\"), goog.a11y.aria.setState(a, \"activedescendant\", this.getId())));\n    }\n  };\n\n  goog.ui.tree.BaseNode.prototype.getExpanded = function () {\n    return this.expanded_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setExpandedInternal = function (a) {\n    this.expanded_ = a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setExpanded = function (a) {\n    var b = a != this.expanded_;\n\n    if (!b || this.dispatchEvent(a ? goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND : goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)) {\n      this.expanded_ = a;\n      var c = this.getTree();\n      var d = this.getElement();\n\n      if (this.hasChildren()) {\n        if (!a && c && this.contains(c.getSelectedItem()) && this.select(), d) {\n          if (c = this.getChildrenElement()) if (goog.style.setElementShown(c, a), goog.a11y.aria.setState(d, goog.a11y.aria.State.EXPANDED, a), a && this.isInDocument() && !c.hasChildNodes()) {\n            var e = [];\n            this.forEachChild(function (a) {\n              e.push(a.toSafeHtml());\n            });\n            goog.dom.safe.setInnerHtml(c, goog.html.SafeHtml.concat(e));\n            this.forEachChild(function (a) {\n              a.enterDocument();\n            });\n          }\n          this.updateExpandIcon();\n        }\n      } else (c = this.getChildrenElement()) && goog.style.setElementShown(c, !1);\n\n      d && this.updateIcon_();\n      b && this.dispatchEvent(a ? goog.ui.tree.BaseNode.EventType.EXPAND : goog.ui.tree.BaseNode.EventType.COLLAPSE);\n    }\n  };\n\n  goog.ui.tree.BaseNode.prototype.toggle = function () {\n    this.setExpanded(!this.getExpanded());\n  };\n\n  goog.ui.tree.BaseNode.prototype.expand = function () {\n    this.setExpanded(!0);\n  };\n\n  goog.ui.tree.BaseNode.prototype.collapse = function () {\n    this.setExpanded(!1);\n  };\n\n  goog.ui.tree.BaseNode.prototype.collapseChildren = function () {\n    this.forEachChild(function (a) {\n      a.collapseAll();\n    });\n  };\n\n  goog.ui.tree.BaseNode.prototype.collapseAll = function () {\n    this.collapseChildren();\n    this.collapse();\n  };\n\n  goog.ui.tree.BaseNode.prototype.expandChildren = function () {\n    this.forEachChild(function (a) {\n      a.expandAll();\n    });\n  };\n\n  goog.ui.tree.BaseNode.prototype.expandAll = function () {\n    this.expandChildren();\n    this.expand();\n  };\n\n  goog.ui.tree.BaseNode.prototype.reveal = function () {\n    var a = this.getParent();\n    a && (a.setExpanded(!0), a.reveal());\n  };\n\n  goog.ui.tree.BaseNode.prototype.setIsUserCollapsible = function (a) {\n    (this.isUserCollapsible_ = a) || this.expand();\n    this.getElement() && this.updateExpandIcon();\n  };\n\n  goog.ui.tree.BaseNode.prototype.isUserCollapsible = function () {\n    return this.isUserCollapsible_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.toSafeHtml = function () {\n    var a = this.getTree(),\n        b = !a.getShowLines() || a == this.getParent() && !a.getShowRootLines() ? this.config_.cssChildrenNoLines : this.config_.cssChildren;\n    a = this.getExpanded() && this.hasChildren();\n    b = {\n      \"class\": b,\n      style: this.getLineStyle()\n    };\n    var c = [];\n    a && this.forEachChild(function (a) {\n      c.push(a.toSafeHtml());\n    });\n    a = goog.html.SafeHtml.create(\"div\", b, c);\n    return goog.html.SafeHtml.create(\"div\", {\n      \"class\": this.config_.cssItem,\n      id: this.getId()\n    }, [this.getRowSafeHtml(), a]);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getPixelIndent_ = function () {\n    return Math.max(0, (this.getDepth() - 1) * this.config_.indentWidth);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getRowSafeHtml = function () {\n    var a = {};\n    a[\"padding-\" + (this.isRightToLeft() ? \"right\" : \"left\")] = this.getPixelIndent_() + \"px\";\n    a = {\n      \"class\": this.getRowClassName(),\n      style: a\n    };\n    var b = [this.getExpandIconSafeHtml(), this.getIconSafeHtml(), this.getLabelSafeHtml()];\n    return goog.html.SafeHtml.create(\"div\", a, b);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getRowClassName = function () {\n    var a = this.isSelected() ? \" \" + this.config_.cssSelectedRow : \"\";\n    return this.config_.cssTreeRow + a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getLabelSafeHtml = function () {\n    var a = goog.html.SafeHtml.create(\"span\", {\n      \"class\": this.config_.cssItemLabel,\n      title: this.getToolTip() || null\n    }, this.getSafeHtml());\n    return goog.html.SafeHtml.concat(a, goog.html.SafeHtml.create(\"span\", {}, this.getAfterLabelSafeHtml()));\n  };\n\n  goog.ui.tree.BaseNode.prototype.getAfterLabelHtml = function () {\n    return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml());\n  };\n\n  goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml = function () {\n    return this.afterLabelHtml_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml = function (a) {\n    this.afterLabelHtml_ = a;\n    var b = this.getAfterLabelElement();\n    b && goog.dom.safe.setInnerHtml(b, a);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getIconSafeHtml = function () {\n    return goog.html.SafeHtml.create(\"span\", {\n      style: {\n        display: \"inline-block\"\n      },\n      \"class\": this.getCalculatedIconClass()\n    });\n  };\n\n  goog.ui.tree.BaseNode.prototype.getCalculatedIconClass = goog.abstractMethod;\n\n  goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml = function () {\n    return goog.html.SafeHtml.create(\"span\", {\n      type: \"expand\",\n      style: {\n        display: \"inline-block\"\n      },\n      \"class\": this.getExpandIconClass()\n    });\n  };\n\n  goog.ui.tree.BaseNode.prototype.getExpandIconClass = function () {\n    var a = this.getTree(),\n        b = !a.getShowLines() || a == this.getParent() && !a.getShowRootLines(),\n        c = this.config_,\n        d = new goog.string.StringBuffer();\n    d.append(c.cssTreeIcon, \" \", c.cssExpandTreeIcon, \" \");\n\n    if (this.hasChildren()) {\n      var e = 0;\n      a.getShowExpandIcons() && this.isUserCollapsible_ && (e = this.getExpanded() ? 2 : 1);\n      b || (e = this.isLastSibling() ? e + 4 : e + 8);\n\n      switch (e) {\n        case 1:\n          d.append(c.cssExpandTreeIconPlus);\n          break;\n\n        case 2:\n          d.append(c.cssExpandTreeIconMinus);\n          break;\n\n        case 4:\n          d.append(c.cssExpandTreeIconL);\n          break;\n\n        case 5:\n          d.append(c.cssExpandTreeIconLPlus);\n          break;\n\n        case 6:\n          d.append(c.cssExpandTreeIconLMinus);\n          break;\n\n        case 8:\n          d.append(c.cssExpandTreeIconT);\n          break;\n\n        case 9:\n          d.append(c.cssExpandTreeIconTPlus);\n          break;\n\n        case 10:\n          d.append(c.cssExpandTreeIconTMinus);\n          break;\n\n        default:\n          d.append(c.cssExpandTreeIconBlank);\n      }\n    } else b ? d.append(c.cssExpandTreeIconBlank) : this.isLastSibling() ? d.append(c.cssExpandTreeIconL) : d.append(c.cssExpandTreeIconT);\n\n    return d.toString();\n  };\n\n  goog.ui.tree.BaseNode.prototype.getLineStyle = function () {\n    var a = this.getExpanded() && this.hasChildren();\n    return goog.html.SafeStyle.create({\n      \"background-position\": this.getBackgroundPosition(),\n      display: a ? null : \"none\"\n    });\n  };\n\n  goog.ui.tree.BaseNode.prototype.getBackgroundPosition = function () {\n    return (this.isLastSibling() ? \"-100\" : (this.getDepth() - 1) * this.config_.indentWidth) + \"px 0\";\n  };\n\n  goog.ui.tree.BaseNode.prototype.getElement = function () {\n    var a = goog.ui.tree.BaseNode.superClass_.getElement.call(this);\n    a || (a = this.getDomHelper().getElement(this.getId()), this.setElementInternal(a));\n    return a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getRowElement = function () {\n    var a = this.getElement();\n    return a ? a.firstChild : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getExpandIconElement = function () {\n    var a = this.getRowElement();\n    return a ? a.firstChild : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getIconElement = function () {\n    var a = this.getRowElement();\n    return a ? a.childNodes[1] : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getLabelElement = function () {\n    var a = this.getRowElement();\n    return a && a.lastChild ? a.lastChild.previousSibling : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getAfterLabelElement = function () {\n    var a = this.getRowElement();\n    return a ? a.lastChild : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getChildrenElement = function () {\n    var a = this.getElement();\n    return a ? a.lastChild : null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setIconClass = function (a) {\n    this.iconClass_ = a;\n    this.isInDocument() && this.updateIcon_();\n  };\n\n  goog.ui.tree.BaseNode.prototype.getIconClass = function () {\n    return this.iconClass_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setExpandedIconClass = function (a) {\n    this.expandedIconClass_ = a;\n    this.isInDocument() && this.updateIcon_();\n  };\n\n  goog.ui.tree.BaseNode.prototype.getExpandedIconClass = function () {\n    return this.expandedIconClass_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setText = function (a) {\n    this.setSafeHtml(goog.html.SafeHtml.htmlEscape(a));\n  };\n\n  goog.ui.tree.BaseNode.prototype.getText = function () {\n    return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_));\n  };\n\n  goog.ui.tree.BaseNode.prototype.setSafeHtml = function (a) {\n    this.html_ = a;\n    var b = this.getLabelElement();\n    b && goog.dom.safe.setInnerHtml(b, a);\n    (a = this.getTree()) && a.setNode(this);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getHtml = function () {\n    return goog.html.SafeHtml.unwrap(this.getSafeHtml());\n  };\n\n  goog.ui.tree.BaseNode.prototype.getSafeHtml = function () {\n    return this.html_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setToolTip = function (a) {\n    this.toolTip_ = a;\n    var b = this.getLabelElement();\n    b && (b.title = a);\n  };\n\n  goog.ui.tree.BaseNode.prototype.getToolTip = function () {\n    return this.toolTip_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.updateRow = function () {\n    var a = this.getRowElement();\n    a && (a.className = this.getRowClassName());\n  };\n\n  goog.ui.tree.BaseNode.prototype.updateExpandIcon = function () {\n    var a = this.getExpandIconElement();\n    a && (a.className = this.getExpandIconClass());\n    if (a = this.getChildrenElement()) a.style.backgroundPosition = this.getBackgroundPosition();\n  };\n\n  goog.ui.tree.BaseNode.prototype.updateIcon_ = function () {\n    this.getIconElement().className = this.getCalculatedIconClass();\n  };\n\n  goog.ui.tree.BaseNode.prototype.onMouseDown = function (a) {\n    \"expand\" == a.target.getAttribute(\"type\") && this.hasChildren() ? this.isUserCollapsible_ && this.toggle() : (this.select(), this.updateRow());\n  };\n\n  goog.ui.tree.BaseNode.prototype.onClick_ = goog.events.Event.preventDefault;\n\n  goog.ui.tree.BaseNode.prototype.onDoubleClick_ = function (a) {\n    \"expand\" == a.target.getAttribute(\"type\") && this.hasChildren() || this.isUserCollapsible_ && this.toggle();\n  };\n\n  goog.ui.tree.BaseNode.prototype.onKeyDown = function (a) {\n    var b = !0;\n\n    switch (a.keyCode) {\n      case goog.events.KeyCodes.RIGHT:\n        if (a.altKey) break;\n        this.hasChildren() && (this.getExpanded() ? this.getFirstChild().select() : this.setExpanded(!0));\n        break;\n\n      case goog.events.KeyCodes.LEFT:\n        if (a.altKey) break;\n        if (this.hasChildren() && this.getExpanded() && this.isUserCollapsible_) this.setExpanded(!1);else {\n          var c = this.getParent(),\n              d = this.getTree();\n          c && (d.getShowRootNode() || c != d) && c.select();\n        }\n        break;\n\n      case goog.events.KeyCodes.DOWN:\n        (c = this.getNextShownNode()) && c.select();\n        break;\n\n      case goog.events.KeyCodes.UP:\n        (c = this.getPreviousShownNode()) && c.select();\n        break;\n\n      default:\n        b = !1;\n    }\n\n    b && (a.preventDefault(), (d = this.getTree()) && d.clearTypeAhead());\n    return b;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getLastShownDescendant = function () {\n    return this.getExpanded() && this.hasChildren() ? this.getLastChild().getLastShownDescendant() : this;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getNextShownNode = function () {\n    if (this.hasChildren() && this.getExpanded()) return this.getFirstChild();\n\n    for (var a = this, b; a != this.getTree();) {\n      b = a.getNextSibling();\n      if (null != b) return b;\n      a = a.getParent();\n    }\n\n    return null;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getPreviousShownNode = function () {\n    var a = this.getPreviousSibling();\n    if (null != a) return a.getLastShownDescendant();\n    a = this.getParent();\n    var b = this.getTree();\n    return !b.getShowRootNode() && a == b || this == b ? null : a;\n  };\n\n  goog.ui.tree.BaseNode.prototype.getClientData = goog.ui.tree.BaseNode.prototype.getModel;\n  goog.ui.tree.BaseNode.prototype.setClientData = goog.ui.tree.BaseNode.prototype.setModel;\n\n  goog.ui.tree.BaseNode.prototype.getConfig = function () {\n    return this.config_;\n  };\n\n  goog.ui.tree.BaseNode.prototype.setTreeInternal = function (a) {\n    this.tree != a && (this.tree = a, a.setNode(this), this.forEachChild(function (b) {\n      b.setTreeInternal(a);\n    }));\n  };\n\n  goog.ui.tree.BaseNode.defaultConfig = {\n    indentWidth: 19,\n    cssRoot: \"goog-tree-root goog-tree-item\",\n    cssHideRoot: \"goog-tree-hide-root\",\n    cssItem: \"goog-tree-item\",\n    cssChildren: \"goog-tree-children\",\n    cssChildrenNoLines: \"goog-tree-children-nolines\",\n    cssTreeRow: \"goog-tree-row\",\n    cssItemLabel: \"goog-tree-item-label\",\n    cssTreeIcon: \"goog-tree-icon\",\n    cssExpandTreeIcon: \"goog-tree-expand-icon\",\n    cssExpandTreeIconPlus: \"goog-tree-expand-icon-plus\",\n    cssExpandTreeIconMinus: \"goog-tree-expand-icon-minus\",\n    cssExpandTreeIconTPlus: \"goog-tree-expand-icon-tplus\",\n    cssExpandTreeIconTMinus: \"goog-tree-expand-icon-tminus\",\n    cssExpandTreeIconLPlus: \"goog-tree-expand-icon-lplus\",\n    cssExpandTreeIconLMinus: \"goog-tree-expand-icon-lminus\",\n    cssExpandTreeIconT: \"goog-tree-expand-icon-t\",\n    cssExpandTreeIconL: \"goog-tree-expand-icon-l\",\n    cssExpandTreeIconBlank: \"goog-tree-expand-icon-blank\",\n    cssExpandedFolderIcon: \"goog-tree-expanded-folder-icon\",\n    cssCollapsedFolderIcon: \"goog-tree-collapsed-folder-icon\",\n    cssFileIcon: \"goog-tree-file-icon\",\n    cssExpandedRootIcon: \"goog-tree-expanded-folder-icon\",\n    cssCollapsedRootIcon: \"goog-tree-collapsed-folder-icon\",\n    cssSelectedRow: \"selected\"\n  };\n\n  goog.events.FocusHandler = function (a) {\n    goog.events.EventTarget.call(this);\n    this.element_ = a;\n    a = goog.userAgent.IE ? \"focusout\" : \"blur\";\n    this.listenKeyIn_ = goog.events.listen(this.element_, goog.userAgent.IE ? \"focusin\" : \"focus\", this, !goog.userAgent.IE);\n    this.listenKeyOut_ = goog.events.listen(this.element_, a, this, !goog.userAgent.IE);\n  };\n\n  goog.inherits(goog.events.FocusHandler, goog.events.EventTarget);\n  goog.events.FocusHandler.EventType = {\n    FOCUSIN: \"focusin\",\n    FOCUSOUT: \"focusout\"\n  };\n\n  goog.events.FocusHandler.prototype.handleEvent = function (a) {\n    var b = a.getBrowserEvent();\n    b = new goog.events.BrowserEvent(b);\n    b.type = \"focusin\" == a.type || \"focus\" == a.type ? goog.events.FocusHandler.EventType.FOCUSIN : goog.events.FocusHandler.EventType.FOCUSOUT;\n    this.dispatchEvent(b);\n  };\n\n  goog.events.FocusHandler.prototype.disposeInternal = function () {\n    goog.events.FocusHandler.superClass_.disposeInternal.call(this);\n    goog.events.unlistenByKey(this.listenKeyIn_);\n    goog.events.unlistenByKey(this.listenKeyOut_);\n    delete this.element_;\n  };\n\n  goog.debug.LogRecord = function (a, b, c, d, e) {\n    this.reset(a, b, c, d, e);\n  };\n\n  goog.debug.LogRecord.prototype.sequenceNumber_ = 0;\n  goog.debug.LogRecord.prototype.exception_ = null;\n  goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS = !0;\n  goog.debug.LogRecord.nextSequenceNumber_ = 0;\n\n  goog.debug.LogRecord.prototype.reset = function (a, b, c, d, e) {\n    goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS && (this.sequenceNumber_ = \"number\" == typeof e ? e : goog.debug.LogRecord.nextSequenceNumber_++);\n    this.time_ = d || goog.now();\n    this.level_ = a;\n    this.msg_ = b;\n    this.loggerName_ = c;\n    delete this.exception_;\n  };\n\n  goog.debug.LogRecord.prototype.getLoggerName = function () {\n    return this.loggerName_;\n  };\n\n  goog.debug.LogRecord.prototype.getException = function () {\n    return this.exception_;\n  };\n\n  goog.debug.LogRecord.prototype.setException = function (a) {\n    this.exception_ = a;\n  };\n\n  goog.debug.LogRecord.prototype.setLoggerName = function (a) {\n    this.loggerName_ = a;\n  };\n\n  goog.debug.LogRecord.prototype.getLevel = function () {\n    return this.level_;\n  };\n\n  goog.debug.LogRecord.prototype.setLevel = function (a) {\n    this.level_ = a;\n  };\n\n  goog.debug.LogRecord.prototype.getMessage = function () {\n    return this.msg_;\n  };\n\n  goog.debug.LogRecord.prototype.setMessage = function (a) {\n    this.msg_ = a;\n  };\n\n  goog.debug.LogRecord.prototype.getMillis = function () {\n    return this.time_;\n  };\n\n  goog.debug.LogRecord.prototype.setMillis = function (a) {\n    this.time_ = a;\n  };\n\n  goog.debug.LogRecord.prototype.getSequenceNumber = function () {\n    return this.sequenceNumber_;\n  };\n\n  goog.debug.LogBuffer = function () {\n    goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(), \"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.\");\n    this.clear();\n  };\n\n  goog.debug.LogBuffer.getInstance = function () {\n    goog.debug.LogBuffer.instance_ || (goog.debug.LogBuffer.instance_ = new goog.debug.LogBuffer());\n    return goog.debug.LogBuffer.instance_;\n  };\n\n  goog.debug.LogBuffer.CAPACITY = 0;\n\n  goog.debug.LogBuffer.prototype.addRecord = function (a, b, c) {\n    var d = (this.curIndex_ + 1) % goog.debug.LogBuffer.CAPACITY;\n    this.curIndex_ = d;\n    if (this.isFull_) return d = this.buffer_[d], d.reset(a, b, c), d;\n    this.isFull_ = d == goog.debug.LogBuffer.CAPACITY - 1;\n    return this.buffer_[d] = new goog.debug.LogRecord(a, b, c);\n  };\n\n  goog.debug.LogBuffer.isBufferingEnabled = function () {\n    return 0 < goog.debug.LogBuffer.CAPACITY;\n  };\n\n  goog.debug.LogBuffer.prototype.clear = function () {\n    this.buffer_ = Array(goog.debug.LogBuffer.CAPACITY);\n    this.curIndex_ = -1;\n    this.isFull_ = !1;\n  };\n\n  goog.debug.LogBuffer.prototype.forEachRecord = function (a) {\n    var b = this.buffer_;\n\n    if (b[0]) {\n      var c = this.curIndex_,\n          d = this.isFull_ ? c : -1;\n\n      do d = (d + 1) % goog.debug.LogBuffer.CAPACITY, a(b[d]); while (d != c);\n    }\n  };\n\n  goog.debug.Logger = function (a) {\n    this.name_ = a;\n    this.handlers_ = this.children_ = this.level_ = this.parent_ = null;\n  };\n\n  goog.debug.Logger.ROOT_LOGGER_NAME = \"\";\n  goog.debug.Logger.ENABLE_HIERARCHY = !0;\n  goog.debug.Logger.ENABLE_PROFILER_LOGGING = !1;\n  goog.debug.Logger.ENABLE_HIERARCHY || (goog.debug.Logger.rootHandlers_ = []);\n\n  goog.debug.Logger.Level = function (a, b) {\n    this.name = a;\n    this.value = b;\n  };\n\n  goog.debug.Logger.Level.prototype.toString = function () {\n    return this.name;\n  };\n\n  goog.debug.Logger.Level.OFF = new goog.debug.Logger.Level(\"OFF\", Infinity);\n  goog.debug.Logger.Level.SHOUT = new goog.debug.Logger.Level(\"SHOUT\", 1200);\n  goog.debug.Logger.Level.SEVERE = new goog.debug.Logger.Level(\"SEVERE\", 1E3);\n  goog.debug.Logger.Level.WARNING = new goog.debug.Logger.Level(\"WARNING\", 900);\n  goog.debug.Logger.Level.INFO = new goog.debug.Logger.Level(\"INFO\", 800);\n  goog.debug.Logger.Level.CONFIG = new goog.debug.Logger.Level(\"CONFIG\", 700);\n  goog.debug.Logger.Level.FINE = new goog.debug.Logger.Level(\"FINE\", 500);\n  goog.debug.Logger.Level.FINER = new goog.debug.Logger.Level(\"FINER\", 400);\n  goog.debug.Logger.Level.FINEST = new goog.debug.Logger.Level(\"FINEST\", 300);\n  goog.debug.Logger.Level.ALL = new goog.debug.Logger.Level(\"ALL\", 0);\n  goog.debug.Logger.Level.PREDEFINED_LEVELS = [goog.debug.Logger.Level.OFF, goog.debug.Logger.Level.SHOUT, goog.debug.Logger.Level.SEVERE, goog.debug.Logger.Level.WARNING, goog.debug.Logger.Level.INFO, goog.debug.Logger.Level.CONFIG, goog.debug.Logger.Level.FINE, goog.debug.Logger.Level.FINER, goog.debug.Logger.Level.FINEST, goog.debug.Logger.Level.ALL];\n  goog.debug.Logger.Level.predefinedLevelsCache_ = null;\n\n  goog.debug.Logger.Level.createPredefinedLevelsCache_ = function () {\n    goog.debug.Logger.Level.predefinedLevelsCache_ = {};\n\n    for (var a = 0, b; b = goog.debug.Logger.Level.PREDEFINED_LEVELS[a]; a++) goog.debug.Logger.Level.predefinedLevelsCache_[b.value] = b, goog.debug.Logger.Level.predefinedLevelsCache_[b.name] = b;\n  };\n\n  goog.debug.Logger.Level.getPredefinedLevel = function (a) {\n    goog.debug.Logger.Level.predefinedLevelsCache_ || goog.debug.Logger.Level.createPredefinedLevelsCache_();\n    return goog.debug.Logger.Level.predefinedLevelsCache_[a] || null;\n  };\n\n  goog.debug.Logger.Level.getPredefinedLevelByValue = function (a) {\n    goog.debug.Logger.Level.predefinedLevelsCache_ || goog.debug.Logger.Level.createPredefinedLevelsCache_();\n    if (a in goog.debug.Logger.Level.predefinedLevelsCache_) return goog.debug.Logger.Level.predefinedLevelsCache_[a];\n\n    for (var b = 0; b < goog.debug.Logger.Level.PREDEFINED_LEVELS.length; ++b) {\n      var c = goog.debug.Logger.Level.PREDEFINED_LEVELS[b];\n      if (c.value <= a) return c;\n    }\n\n    return null;\n  };\n\n  goog.debug.Logger.getLogger = function (a) {\n    return goog.debug.LogManager.getLogger(a);\n  };\n\n  goog.debug.Logger.logToProfilers = function (a) {\n    if (goog.debug.Logger.ENABLE_PROFILER_LOGGING) {\n      var b = goog.global.msWriteProfilerMark;\n      b ? b(a) : (b = goog.global.console) && b.timeStamp && b.timeStamp(a);\n    }\n  };\n\n  goog.debug.Logger.prototype.getName = function () {\n    return this.name_;\n  };\n\n  goog.debug.Logger.prototype.addHandler = function (a) {\n    goog.debug.LOGGING_ENABLED && (goog.debug.Logger.ENABLE_HIERARCHY ? (this.handlers_ || (this.handlers_ = []), this.handlers_.push(a)) : (goog.asserts.assert(!this.name_, \"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.\"), goog.debug.Logger.rootHandlers_.push(a)));\n  };\n\n  goog.debug.Logger.prototype.removeHandler = function (a) {\n    if (goog.debug.LOGGING_ENABLED) {\n      var b = goog.debug.Logger.ENABLE_HIERARCHY ? this.handlers_ : goog.debug.Logger.rootHandlers_;\n      return !!b && goog.array.remove(b, a);\n    }\n\n    return !1;\n  };\n\n  goog.debug.Logger.prototype.getParent = function () {\n    return this.parent_;\n  };\n\n  goog.debug.Logger.prototype.getChildren = function () {\n    this.children_ || (this.children_ = {});\n    return this.children_;\n  };\n\n  goog.debug.Logger.prototype.setLevel = function (a) {\n    goog.debug.LOGGING_ENABLED && (goog.debug.Logger.ENABLE_HIERARCHY ? this.level_ = a : (goog.asserts.assert(!this.name_, \"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.\"), goog.debug.Logger.rootLevel_ = a));\n  };\n\n  goog.debug.Logger.prototype.getLevel = function () {\n    return goog.debug.LOGGING_ENABLED ? this.level_ : goog.debug.Logger.Level.OFF;\n  };\n\n  goog.debug.Logger.prototype.getEffectiveLevel = function () {\n    if (!goog.debug.LOGGING_ENABLED) return goog.debug.Logger.Level.OFF;\n    if (!goog.debug.Logger.ENABLE_HIERARCHY) return goog.debug.Logger.rootLevel_;\n    if (this.level_) return this.level_;\n    if (this.parent_) return this.parent_.getEffectiveLevel();\n    goog.asserts.fail(\"Root logger has no level set.\");\n    return null;\n  };\n\n  goog.debug.Logger.prototype.isLoggable = function (a) {\n    return goog.debug.LOGGING_ENABLED && a.value >= this.getEffectiveLevel().value;\n  };\n\n  goog.debug.Logger.prototype.log = function (a, b, c) {\n    goog.debug.LOGGING_ENABLED && this.isLoggable(a) && (goog.isFunction(b) && (b = b()), this.doLogRecord_(this.getLogRecord(a, b, c)));\n  };\n\n  goog.debug.Logger.prototype.getLogRecord = function (a, b, c) {\n    a = goog.debug.LogBuffer.isBufferingEnabled() ? goog.debug.LogBuffer.getInstance().addRecord(a, b, this.name_) : new goog.debug.LogRecord(a, String(b), this.name_);\n    c && a.setException(c);\n    return a;\n  };\n\n  goog.debug.Logger.prototype.shout = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.SHOUT, a, b);\n  };\n\n  goog.debug.Logger.prototype.severe = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.SEVERE, a, b);\n  };\n\n  goog.debug.Logger.prototype.warning = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.WARNING, a, b);\n  };\n\n  goog.debug.Logger.prototype.info = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.INFO, a, b);\n  };\n\n  goog.debug.Logger.prototype.config = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.CONFIG, a, b);\n  };\n\n  goog.debug.Logger.prototype.fine = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINE, a, b);\n  };\n\n  goog.debug.Logger.prototype.finer = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINER, a, b);\n  };\n\n  goog.debug.Logger.prototype.finest = function (a, b) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINEST, a, b);\n  };\n\n  goog.debug.Logger.prototype.logRecord = function (a) {\n    goog.debug.LOGGING_ENABLED && this.isLoggable(a.getLevel()) && this.doLogRecord_(a);\n  };\n\n  goog.debug.Logger.prototype.doLogRecord_ = function (a) {\n    goog.debug.Logger.ENABLE_PROFILER_LOGGING && goog.debug.Logger.logToProfilers(\"log:\" + a.getMessage());\n    if (goog.debug.Logger.ENABLE_HIERARCHY) for (var b = this; b;) b.callPublish_(a), b = b.getParent();else {\n      b = 0;\n\n      for (var c; c = goog.debug.Logger.rootHandlers_[b++];) c(a);\n    }\n  };\n\n  goog.debug.Logger.prototype.callPublish_ = function (a) {\n    if (this.handlers_) for (var b = 0, c; c = this.handlers_[b]; b++) c(a);\n  };\n\n  goog.debug.Logger.prototype.setParent_ = function (a) {\n    this.parent_ = a;\n  };\n\n  goog.debug.Logger.prototype.addChild_ = function (a, b) {\n    this.getChildren()[a] = b;\n  };\n\n  goog.debug.LogManager = {};\n  goog.debug.LogManager.loggers_ = {};\n  goog.debug.LogManager.rootLogger_ = null;\n\n  goog.debug.LogManager.initialize = function () {\n    goog.debug.LogManager.rootLogger_ || (goog.debug.LogManager.rootLogger_ = new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME), goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME] = goog.debug.LogManager.rootLogger_, goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG));\n  };\n\n  goog.debug.LogManager.getLoggers = function () {\n    return goog.debug.LogManager.loggers_;\n  };\n\n  goog.debug.LogManager.getRoot = function () {\n    goog.debug.LogManager.initialize();\n    return goog.debug.LogManager.rootLogger_;\n  };\n\n  goog.debug.LogManager.getLogger = function (a) {\n    goog.debug.LogManager.initialize();\n    return goog.debug.LogManager.loggers_[a] || goog.debug.LogManager.createLogger_(a);\n  };\n\n  goog.debug.LogManager.createFunctionForCatchErrors = function (a) {\n    return function (b) {\n      (a || goog.debug.LogManager.getRoot()).severe(\"Error: \" + b.message + \" (\" + b.fileName + \" @ Line: \" + b.line + \")\");\n    };\n  };\n\n  goog.debug.LogManager.createLogger_ = function (a) {\n    var b = new goog.debug.Logger(a);\n\n    if (goog.debug.Logger.ENABLE_HIERARCHY) {\n      var c = a.lastIndexOf(\".\"),\n          d = a.substr(0, c);\n      c = a.substr(c + 1);\n      d = goog.debug.LogManager.getLogger(d);\n      d.addChild_(c, b);\n      b.setParent_(d);\n    }\n\n    return goog.debug.LogManager.loggers_[a] = b;\n  };\n\n  goog.log = {};\n  goog.log.ENABLED = goog.debug.LOGGING_ENABLED;\n  goog.log.ROOT_LOGGER_NAME = goog.debug.Logger.ROOT_LOGGER_NAME;\n  goog.log.Logger = goog.debug.Logger;\n  goog.log.Level = goog.debug.Logger.Level;\n  goog.log.LogRecord = goog.debug.LogRecord;\n\n  goog.log.getLogger = function (a, b) {\n    if (goog.log.ENABLED) {\n      var c = goog.debug.LogManager.getLogger(a);\n      b && c && c.setLevel(b);\n      return c;\n    }\n\n    return null;\n  };\n\n  goog.log.addHandler = function (a, b) {\n    goog.log.ENABLED && a && a.addHandler(b);\n  };\n\n  goog.log.removeHandler = function (a, b) {\n    return goog.log.ENABLED && a ? a.removeHandler(b) : !1;\n  };\n\n  goog.log.log = function (a, b, c, d) {\n    goog.log.ENABLED && a && a.log(b, c, d);\n  };\n\n  goog.log.error = function (a, b, c) {\n    goog.log.ENABLED && a && a.severe(b, c);\n  };\n\n  goog.log.warning = function (a, b, c) {\n    goog.log.ENABLED && a && a.warning(b, c);\n  };\n\n  goog.log.info = function (a, b, c) {\n    goog.log.ENABLED && a && a.info(b, c);\n  };\n\n  goog.log.fine = function (a, b, c) {\n    goog.log.ENABLED && a && a.fine(b, c);\n  };\n\n  goog.ui.tree.TreeNode = function (a, b, c) {\n    goog.ui.tree.BaseNode.call(this, a, b, c);\n  };\n\n  goog.inherits(goog.ui.tree.TreeNode, goog.ui.tree.BaseNode);\n\n  goog.ui.tree.TreeNode.prototype.getTree = function () {\n    if (this.tree) return this.tree;\n    var a = this.getParent();\n    return a && (a = a.getTree()) ? (this.setTreeInternal(a), a) : null;\n  };\n\n  goog.ui.tree.TreeNode.prototype.getCalculatedIconClass = function () {\n    var a = this.getExpanded(),\n        b = this.getExpandedIconClass();\n    if (a && b) return b;\n    b = this.getIconClass();\n    if (!a && b) return b;\n    b = this.getConfig();\n\n    if (this.hasChildren()) {\n      if (a && b.cssExpandedFolderIcon) return b.cssTreeIcon + \" \" + b.cssExpandedFolderIcon;\n      if (!a && b.cssCollapsedFolderIcon) return b.cssTreeIcon + \" \" + b.cssCollapsedFolderIcon;\n    } else if (b.cssFileIcon) return b.cssTreeIcon + \" \" + b.cssFileIcon;\n\n    return \"\";\n  };\n\n  goog.structs = {};\n\n  goog.structs.getCount = function (a) {\n    return a.getCount && \"function\" == typeof a.getCount ? a.getCount() : goog.isArrayLike(a) || goog.isString(a) ? a.length : goog.object.getCount(a);\n  };\n\n  goog.structs.getValues = function (a) {\n    if (a.getValues && \"function\" == typeof a.getValues) return a.getValues();\n    if (goog.isString(a)) return a.split(\"\");\n\n    if (goog.isArrayLike(a)) {\n      for (var b = [], c = a.length, d = 0; d < c; d++) b.push(a[d]);\n\n      return b;\n    }\n\n    return goog.object.getValues(a);\n  };\n\n  goog.structs.getKeys = function (a) {\n    if (a.getKeys && \"function\" == typeof a.getKeys) return a.getKeys();\n\n    if (!a.getValues || \"function\" != typeof a.getValues) {\n      if (goog.isArrayLike(a) || goog.isString(a)) {\n        var b = [];\n        a = a.length;\n\n        for (var c = 0; c < a; c++) b.push(c);\n\n        return b;\n      }\n\n      return goog.object.getKeys(a);\n    }\n  };\n\n  goog.structs.contains = function (a, b) {\n    return a.contains && \"function\" == typeof a.contains ? a.contains(b) : a.containsValue && \"function\" == typeof a.containsValue ? a.containsValue(b) : goog.isArrayLike(a) || goog.isString(a) ? goog.array.contains(a, b) : goog.object.containsValue(a, b);\n  };\n\n  goog.structs.isEmpty = function (a) {\n    return a.isEmpty && \"function\" == typeof a.isEmpty ? a.isEmpty() : goog.isArrayLike(a) || goog.isString(a) ? goog.array.isEmpty(a) : goog.object.isEmpty(a);\n  };\n\n  goog.structs.clear = function (a) {\n    a.clear && \"function\" == typeof a.clear ? a.clear() : goog.isArrayLike(a) ? goog.array.clear(a) : goog.object.clear(a);\n  };\n\n  goog.structs.forEach = function (a, b, c) {\n    if (a.forEach && \"function\" == typeof a.forEach) a.forEach(b, c);else if (goog.isArrayLike(a) || goog.isString(a)) goog.array.forEach(a, b, c);else for (var d = goog.structs.getKeys(a), e = goog.structs.getValues(a), f = e.length, g = 0; g < f; g++) b.call(c, e[g], d && d[g], a);\n  };\n\n  goog.structs.filter = function (a, b, c) {\n    if (\"function\" == typeof a.filter) return a.filter(b, c);\n    if (goog.isArrayLike(a) || goog.isString(a)) return goog.array.filter(a, b, c);\n    var d = goog.structs.getKeys(a),\n        e = goog.structs.getValues(a),\n        f = e.length;\n\n    if (d) {\n      var g = {};\n\n      for (var h = 0; h < f; h++) b.call(c, e[h], d[h], a) && (g[d[h]] = e[h]);\n    } else for (g = [], h = 0; h < f; h++) b.call(c, e[h], void 0, a) && g.push(e[h]);\n\n    return g;\n  };\n\n  goog.structs.map = function (a, b, c) {\n    if (\"function\" == typeof a.map) return a.map(b, c);\n    if (goog.isArrayLike(a) || goog.isString(a)) return goog.array.map(a, b, c);\n    var d = goog.structs.getKeys(a),\n        e = goog.structs.getValues(a),\n        f = e.length;\n\n    if (d) {\n      var g = {};\n\n      for (var h = 0; h < f; h++) g[d[h]] = b.call(c, e[h], d[h], a);\n    } else for (g = [], h = 0; h < f; h++) g[h] = b.call(c, e[h], void 0, a);\n\n    return g;\n  };\n\n  goog.structs.some = function (a, b, c) {\n    if (\"function\" == typeof a.some) return a.some(b, c);\n    if (goog.isArrayLike(a) || goog.isString(a)) return goog.array.some(a, b, c);\n\n    for (var d = goog.structs.getKeys(a), e = goog.structs.getValues(a), f = e.length, g = 0; g < f; g++) if (b.call(c, e[g], d && d[g], a)) return !0;\n\n    return !1;\n  };\n\n  goog.structs.every = function (a, b, c) {\n    if (\"function\" == typeof a.every) return a.every(b, c);\n    if (goog.isArrayLike(a) || goog.isString(a)) return goog.array.every(a, b, c);\n\n    for (var d = goog.structs.getKeys(a), e = goog.structs.getValues(a), f = e.length, g = 0; g < f; g++) if (!b.call(c, e[g], d && d[g], a)) return !1;\n\n    return !0;\n  };\n\n  goog.structs.Trie = function (a) {\n    this.value_ = void 0;\n    this.childNodes_ = {};\n    a && this.setAll(a);\n  };\n\n  goog.structs.Trie.prototype.set = function (a, b) {\n    this.setOrAdd_(a, b, !1);\n  };\n\n  goog.structs.Trie.prototype.add = function (a, b) {\n    this.setOrAdd_(a, b, !0);\n  };\n\n  goog.structs.Trie.prototype.setOrAdd_ = function (a, b, c) {\n    for (var d = this, e = 0; e < a.length; e++) {\n      var f = a.charAt(e);\n      d.childNodes_[f] || (d.childNodes_[f] = new goog.structs.Trie());\n      d = d.childNodes_[f];\n    }\n\n    if (c && void 0 !== d.value_) throw Error('The collection already contains the key \"' + a + '\"');\n    d.value_ = b;\n  };\n\n  goog.structs.Trie.prototype.setAll = function (a) {\n    var b = goog.structs.getKeys(a);\n    a = goog.structs.getValues(a);\n\n    for (var c = 0; c < b.length; c++) this.set(b[c], a[c]);\n  };\n\n  goog.structs.Trie.prototype.getChildNode_ = function (a) {\n    for (var b = this, c = 0; c < a.length; c++) {\n      var d = a.charAt(c);\n      b = b.childNodes_[d];\n      if (!b) return;\n    }\n\n    return b;\n  };\n\n  goog.structs.Trie.prototype.get = function (a) {\n    return (a = this.getChildNode_(a)) ? a.value_ : void 0;\n  };\n\n  goog.structs.Trie.prototype.getKeyAndPrefixes = function (a, b) {\n    var c = this,\n        d = {},\n        e = b || 0;\n    void 0 !== c.value_ && (d[e] = c.value_);\n\n    for (; e < a.length; e++) {\n      var f = a.charAt(e);\n      if (!(f in c.childNodes_)) break;\n      c = c.childNodes_[f];\n      void 0 !== c.value_ && (d[e] = c.value_);\n    }\n\n    return d;\n  };\n\n  goog.structs.Trie.prototype.getValues = function () {\n    var a = [];\n    this.getValuesInternal_(a);\n    return a;\n  };\n\n  goog.structs.Trie.prototype.getValuesInternal_ = function (a) {\n    void 0 !== this.value_ && a.push(this.value_);\n\n    for (var b in this.childNodes_) this.childNodes_[b].getValuesInternal_(a);\n  };\n\n  goog.structs.Trie.prototype.getKeys = function (a) {\n    var b = [];\n\n    if (a) {\n      for (var c = this, d = 0; d < a.length; d++) {\n        var e = a.charAt(d);\n        if (!c.childNodes_[e]) return [];\n        c = c.childNodes_[e];\n      }\n\n      c.getKeysInternal_(a, b);\n    } else this.getKeysInternal_(\"\", b);\n\n    return b;\n  };\n\n  goog.structs.Trie.prototype.getKeysInternal_ = function (a, b) {\n    void 0 !== this.value_ && b.push(a);\n\n    for (var c in this.childNodes_) this.childNodes_[c].getKeysInternal_(a + c, b);\n  };\n\n  goog.structs.Trie.prototype.containsKey = function (a) {\n    return void 0 !== this.get(a);\n  };\n\n  goog.structs.Trie.prototype.containsPrefix = function (a) {\n    return 0 == a.length ? !this.isEmpty() : !!this.getChildNode_(a);\n  };\n\n  goog.structs.Trie.prototype.containsValue = function (a) {\n    if (this.value_ === a) return !0;\n\n    for (var b in this.childNodes_) if (this.childNodes_[b].containsValue(a)) return !0;\n\n    return !1;\n  };\n\n  goog.structs.Trie.prototype.clear = function () {\n    this.childNodes_ = {};\n    this.value_ = void 0;\n  };\n\n  goog.structs.Trie.prototype.remove = function (a) {\n    for (var b = this, c = [], d = 0; d < a.length; d++) {\n      var e = a.charAt(d);\n      if (!b.childNodes_[e]) throw Error('The collection does not have the key \"' + a + '\"');\n      c.push([b, e]);\n      b = b.childNodes_[e];\n    }\n\n    a = b.value_;\n\n    for (delete b.value_; 0 < c.length;) if (e = c.pop(), b = e[0], e = e[1], b.childNodes_[e].isEmpty()) delete b.childNodes_[e];else break;\n\n    return a;\n  };\n\n  goog.structs.Trie.prototype.clone = function () {\n    return new goog.structs.Trie(this);\n  };\n\n  goog.structs.Trie.prototype.getCount = function () {\n    return goog.structs.getCount(this.getValues());\n  };\n\n  goog.structs.Trie.prototype.isEmpty = function () {\n    return void 0 === this.value_ && goog.object.isEmpty(this.childNodes_);\n  };\n\n  goog.ui.tree.TypeAhead = function () {\n    this.nodeMap_ = new goog.structs.Trie();\n    this.buffer_ = \"\";\n    this.matchingNodes_ = this.matchingLabels_ = null;\n    this.matchingNodeIndex_ = this.matchingLabelIndex_ = 0;\n  };\n\n  goog.ui.tree.TypeAhead.Offset = {\n    DOWN: 1,\n    UP: -1\n  };\n\n  goog.ui.tree.TypeAhead.prototype.handleNavigation = function (a) {\n    var b = !1;\n\n    switch (a.keyCode) {\n      case goog.events.KeyCodes.DOWN:\n      case goog.events.KeyCodes.UP:\n        a.ctrlKey && (this.jumpTo_(a.keyCode == goog.events.KeyCodes.DOWN ? goog.ui.tree.TypeAhead.Offset.DOWN : goog.ui.tree.TypeAhead.Offset.UP), b = !0);\n        break;\n\n      case goog.events.KeyCodes.BACKSPACE:\n        a = this.buffer_.length - 1;\n        b = !0;\n        0 < a ? (this.buffer_ = this.buffer_.substring(0, a), this.jumpToLabel_(this.buffer_)) : 0 == a ? this.buffer_ = \"\" : b = !1;\n        break;\n\n      case goog.events.KeyCodes.ESC:\n        this.buffer_ = \"\", b = !0;\n    }\n\n    return b;\n  };\n\n  goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar = function (a) {\n    var b = !1;\n    a.ctrlKey || a.altKey || (a = String.fromCharCode(a.charCode || a.keyCode).toLowerCase(), goog.string.isUnicodeChar(a) && (\" \" != a || this.buffer_) && (this.buffer_ += a, b = this.jumpToLabel_(this.buffer_)));\n    return b;\n  };\n\n  goog.ui.tree.TypeAhead.prototype.setNodeInMap = function (a) {\n    var b = a.getText();\n\n    if (b && !goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))) {\n      b = b.toLowerCase();\n      var c = this.nodeMap_.get(b);\n      c ? c.push(a) : this.nodeMap_.set(b, [a]);\n    }\n  };\n\n  goog.ui.tree.TypeAhead.prototype.removeNodeFromMap = function (a) {\n    var b = a.getText();\n\n    if (b && !goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))) {\n      b = b.toLowerCase();\n      var c = this.nodeMap_.get(b);\n\n      if (c) {\n        for (var d = a.getChildCount(), e = 0; e < d; e++) this.removeNodeFromMap(a.getChildAt(e));\n\n        goog.array.remove(c, a);\n        c.length || this.nodeMap_.remove(b);\n      }\n    }\n  };\n\n  goog.ui.tree.TypeAhead.prototype.jumpToLabel_ = function (a) {\n    var b = !1;\n    (a = this.nodeMap_.getKeys(a)) && a.length && (this.matchingLabelIndex_ = this.matchingNodeIndex_ = 0, b = this.nodeMap_.get(a[0]), b = this.selectMatchingNode_(b)) && (this.matchingLabels_ = a);\n    return b;\n  };\n\n  goog.ui.tree.TypeAhead.prototype.jumpTo_ = function (a) {\n    var b = !1,\n        c = this.matchingLabels_;\n\n    if (c) {\n      b = null;\n      var d = !1;\n\n      if (this.matchingNodes_) {\n        var e = this.matchingNodeIndex_ + a;\n        0 <= e && e < this.matchingNodes_.length ? (this.matchingNodeIndex_ = e, b = this.matchingNodes_) : d = !0;\n      }\n\n      b || (e = this.matchingLabelIndex_ + a, 0 <= e && e < c.length && (this.matchingLabelIndex_ = e), c.length > this.matchingLabelIndex_ && (b = this.nodeMap_.get(c[this.matchingLabelIndex_])), b && b.length && d && (this.matchingNodeIndex_ = a == goog.ui.tree.TypeAhead.Offset.UP ? b.length - 1 : 0));\n      if (b = this.selectMatchingNode_(b)) this.matchingLabels_ = c;\n    }\n\n    return b;\n  };\n\n  goog.ui.tree.TypeAhead.prototype.selectMatchingNode_ = function (a) {\n    if (a) {\n      if (this.matchingNodeIndex_ < a.length) {\n        var b = a[this.matchingNodeIndex_];\n        this.matchingNodes_ = a;\n      }\n\n      b && (b.reveal(), b.select());\n    }\n\n    return !!b;\n  };\n\n  goog.ui.tree.TypeAhead.prototype.clear = function () {\n    this.buffer_ = \"\";\n  };\n\n  goog.ui.tree.TreeControl = function (a, b, c) {\n    goog.ui.tree.BaseNode.call(this, a, b, c);\n    this.setExpandedInternal(!0);\n    this.setSelectedInternal(!0);\n    this.selectedItem_ = this;\n    this.typeAhead_ = new goog.ui.tree.TypeAhead();\n    this.focusHandler_ = this.keyHandler_ = null;\n    this.logger_ = goog.log.getLogger(\"this\");\n    this.focused_ = !1;\n    this.focusedNode_ = null;\n    this.showRootLines_ = this.showRootNode_ = this.showExpandIcons_ = this.showLines_ = !0;\n    if (goog.userAgent.IE) try {\n      document.execCommand(\"BackgroundImageCache\", !1, !0);\n    } catch (d) {\n      goog.log.warning(this.logger_, \"Failed to enable background image cache\");\n    }\n  };\n\n  goog.inherits(goog.ui.tree.TreeControl, goog.ui.tree.BaseNode);\n\n  goog.ui.tree.TreeControl.prototype.getTree = function () {\n    return this;\n  };\n\n  goog.ui.tree.TreeControl.prototype.getDepth = function () {\n    return 0;\n  };\n\n  goog.ui.tree.TreeControl.prototype.reveal = function () {};\n\n  goog.ui.tree.TreeControl.prototype.handleFocus_ = function (a) {\n    this.focused_ = !0;\n    goog.dom.classlist.add(goog.asserts.assert(this.getElement()), \"focused\");\n    this.selectedItem_ && this.selectedItem_.select();\n  };\n\n  goog.ui.tree.TreeControl.prototype.handleBlur_ = function (a) {\n    this.focused_ = !1;\n    goog.dom.classlist.remove(goog.asserts.assert(this.getElement()), \"focused\");\n  };\n\n  goog.ui.tree.TreeControl.prototype.hasFocus = function () {\n    return this.focused_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.getExpanded = function () {\n    return !this.showRootNode_ || goog.ui.tree.TreeControl.superClass_.getExpanded.call(this);\n  };\n\n  goog.ui.tree.TreeControl.prototype.setExpanded = function (a) {\n    this.showRootNode_ ? goog.ui.tree.TreeControl.superClass_.setExpanded.call(this, a) : this.setExpandedInternal(a);\n  };\n\n  goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml = function () {\n    return goog.html.SafeHtml.EMPTY;\n  };\n\n  goog.ui.tree.TreeControl.prototype.getIconElement = function () {\n    var a = this.getRowElement();\n    return a ? a.firstChild : null;\n  };\n\n  goog.ui.tree.TreeControl.prototype.getExpandIconElement = function () {\n    return null;\n  };\n\n  goog.ui.tree.TreeControl.prototype.updateExpandIcon = function () {};\n\n  goog.ui.tree.TreeControl.prototype.getRowClassName = function () {\n    return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this) + (this.showRootNode_ ? \"\" : \" \" + this.getConfig().cssHideRoot);\n  };\n\n  goog.ui.tree.TreeControl.prototype.getCalculatedIconClass = function () {\n    var a = this.getExpanded(),\n        b = this.getExpandedIconClass();\n    if (a && b) return b;\n    b = this.getIconClass();\n    if (!a && b) return b;\n    b = this.getConfig();\n    return a && b.cssExpandedRootIcon ? b.cssTreeIcon + \" \" + b.cssExpandedRootIcon : !a && b.cssCollapsedRootIcon ? b.cssTreeIcon + \" \" + b.cssCollapsedRootIcon : \"\";\n  };\n\n  goog.ui.tree.TreeControl.prototype.setSelectedItem = function (a) {\n    if (this.selectedItem_ != a) {\n      var b = !1;\n      this.selectedItem_ && (b = this.selectedItem_ == this.focusedNode_, this.selectedItem_.setSelectedInternal(!1));\n      if (this.selectedItem_ = a) a.setSelectedInternal(!0), b && a.select();\n      this.dispatchEvent(goog.events.EventType.CHANGE);\n    }\n  };\n\n  goog.ui.tree.TreeControl.prototype.getSelectedItem = function () {\n    return this.selectedItem_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.setShowLines = function (a) {\n    this.showLines_ != a && (this.showLines_ = a, this.isInDocument() && this.updateLinesAndExpandIcons_());\n  };\n\n  goog.ui.tree.TreeControl.prototype.getShowLines = function () {\n    return this.showLines_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_ = function () {\n    function a(e) {\n      var f = e.getChildrenElement();\n\n      if (f) {\n        var g = !c || b == e.getParent() && !d ? e.getConfig().cssChildrenNoLines : e.getConfig().cssChildren;\n        f.className = g;\n        if (f = e.getExpandIconElement()) f.className = e.getExpandIconClass();\n      }\n\n      e.forEachChild(a);\n    }\n\n    var b = this,\n        c = b.getShowLines(),\n        d = b.getShowRootLines();\n    a(this);\n  };\n\n  goog.ui.tree.TreeControl.prototype.setShowRootLines = function (a) {\n    this.showRootLines_ != a && (this.showRootLines_ = a, this.isInDocument() && this.updateLinesAndExpandIcons_());\n  };\n\n  goog.ui.tree.TreeControl.prototype.getShowRootLines = function () {\n    return this.showRootLines_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.setShowExpandIcons = function (a) {\n    this.showExpandIcons_ != a && (this.showExpandIcons_ = a, this.isInDocument() && this.updateLinesAndExpandIcons_());\n  };\n\n  goog.ui.tree.TreeControl.prototype.getShowExpandIcons = function () {\n    return this.showExpandIcons_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.setShowRootNode = function (a) {\n    if (this.showRootNode_ != a) {\n      this.showRootNode_ = a;\n\n      if (this.isInDocument()) {\n        var b = this.getRowElement();\n        b && (b.className = this.getRowClassName());\n      }\n\n      !a && this.getSelectedItem() == this && this.getFirstChild() && this.setSelectedItem(this.getFirstChild());\n    }\n  };\n\n  goog.ui.tree.TreeControl.prototype.getShowRootNode = function () {\n    return this.showRootNode_;\n  };\n\n  goog.ui.tree.TreeControl.prototype.initAccessibility = function () {\n    goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);\n    var a = this.getElement();\n    goog.asserts.assert(a, \"The DOM element for the tree cannot be null.\");\n    goog.a11y.aria.setRole(a, \"tree\");\n    goog.a11y.aria.setState(a, \"labelledby\", this.getLabelElement().id);\n  };\n\n  goog.ui.tree.TreeControl.prototype.enterDocument = function () {\n    goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);\n    var a = this.getElement();\n    a.className = this.getConfig().cssRoot;\n    a.setAttribute(\"hideFocus\", \"true\");\n    this.attachEvents_();\n    this.initAccessibility();\n  };\n\n  goog.ui.tree.TreeControl.prototype.exitDocument = function () {\n    goog.ui.tree.TreeControl.superClass_.exitDocument.call(this);\n    this.detachEvents_();\n  };\n\n  goog.ui.tree.TreeControl.prototype.attachEvents_ = function () {\n    var a = this.getElement();\n    a.tabIndex = 0;\n    var b = this.keyHandler_ = new goog.events.KeyHandler(a),\n        c = this.focusHandler_ = new goog.events.FocusHandler(a);\n    this.getHandler().listen(c, goog.events.FocusHandler.EventType.FOCUSOUT, this.handleBlur_).listen(c, goog.events.FocusHandler.EventType.FOCUSIN, this.handleFocus_).listen(b, goog.events.KeyHandler.EventType.KEY, this.handleKeyEvent).listen(a, goog.events.EventType.MOUSEDOWN, this.handleMouseEvent_).listen(a, goog.events.EventType.CLICK, this.handleMouseEvent_).listen(a, goog.events.EventType.DBLCLICK, this.handleMouseEvent_);\n  };\n\n  goog.ui.tree.TreeControl.prototype.detachEvents_ = function () {\n    this.keyHandler_.dispose();\n    this.keyHandler_ = null;\n    this.focusHandler_.dispose();\n    this.focusHandler_ = null;\n  };\n\n  goog.ui.tree.TreeControl.prototype.handleMouseEvent_ = function (a) {\n    goog.log.fine(this.logger_, \"Received event \" + a.type);\n    var b = this.getNodeFromEvent_(a);\n    if (b) switch (a.type) {\n      case goog.events.EventType.MOUSEDOWN:\n        b.onMouseDown(a);\n        break;\n\n      case goog.events.EventType.CLICK:\n        b.onClick_(a);\n        break;\n\n      case goog.events.EventType.DBLCLICK:\n        b.onDoubleClick_(a);\n    }\n  };\n\n  goog.ui.tree.TreeControl.prototype.handleKeyEvent = function (a) {\n    var b;\n    (b = this.typeAhead_.handleNavigation(a) || this.selectedItem_ && this.selectedItem_.onKeyDown(a) || this.typeAhead_.handleTypeAheadChar(a)) && a.preventDefault();\n    return b;\n  };\n\n  goog.ui.tree.TreeControl.prototype.getNodeFromEvent_ = function (a) {\n    for (var b = a.target; null != b;) {\n      if (a = goog.ui.tree.BaseNode.allNodes[b.id]) return a;\n      if (b == this.getElement()) break;\n      b = b.parentNode;\n    }\n\n    return null;\n  };\n\n  goog.ui.tree.TreeControl.prototype.createNode = function (a) {\n    return new goog.ui.tree.TreeNode(a || goog.html.SafeHtml.EMPTY, this.getConfig(), this.getDomHelper());\n  };\n\n  goog.ui.tree.TreeControl.prototype.setNode = function (a) {\n    this.typeAhead_.setNodeInMap(a);\n  };\n\n  goog.ui.tree.TreeControl.prototype.removeNode = function (a) {\n    this.typeAhead_.removeNodeFromMap(a);\n  };\n\n  goog.ui.tree.TreeControl.prototype.clearTypeAhead = function () {\n    this.typeAhead_.clear();\n  };\n\n  goog.ui.tree.TreeControl.defaultConfig = goog.ui.tree.BaseNode.defaultConfig;\n  var Blockly = {};\n  Blockly.Blocks = Object.create(null);\n  Blockly.Msg = {};\n  goog.getMsgOrig = goog.getMsg;\n\n  goog.getMsg = function (a, b) {\n    var c = goog.getMsg.blocklyMsgMap[a];\n    c && (a = Blockly.Msg[c]);\n    return goog.getMsgOrig(a, b);\n  };\n\n  goog.getMsg.blocklyMsgMap = {\n    Today: \"TODAY\"\n  };\n  Blockly.utils = {};\n\n  Blockly.utils.Coordinate = function (a, b) {\n    this.x = a;\n    this.y = b;\n  };\n\n  Blockly.utils.Coordinate.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n  };\n\n  Blockly.utils.Coordinate.distance = function (a, b) {\n    var c = a.x - b.x,\n        d = a.y - b.y;\n    return Math.sqrt(c * c + d * d);\n  };\n\n  Blockly.utils.Coordinate.magnitude = function (a) {\n    return Math.sqrt(a.x * a.x + a.y * a.y);\n  };\n\n  Blockly.utils.Coordinate.difference = function (a, b) {\n    return new Blockly.utils.Coordinate(a.x - b.x, a.y - b.y);\n  };\n\n  Blockly.utils.Coordinate.sum = function (a, b) {\n    return new Blockly.utils.Coordinate(a.x + b.x, a.y + b.y);\n  };\n\n  Blockly.utils.Coordinate.prototype.scale = function (a) {\n    this.x *= a;\n    this.y *= a;\n    return this;\n  };\n\n  Blockly.utils.Coordinate.prototype.translate = function (a, b) {\n    this.x += a;\n    this.y += b;\n    return this;\n  };\n\n  Blockly.utils.string = {};\n\n  Blockly.utils.string.startsWith = function (a, b) {\n    return 0 == a.lastIndexOf(b, 0);\n  };\n\n  Blockly.utils.string.shortestStringLength = function (a) {\n    return a.length ? a.reduce(function (a, c) {\n      return a.length < c.length ? a : c;\n    }).length : 0;\n  };\n\n  Blockly.utils.string.commonWordPrefix = function (a, b) {\n    if (!a.length) return 0;\n    if (1 == a.length) return a[0].length;\n\n    for (var c = 0, d = b || Blockly.utils.string.shortestStringLength(a), e = 0; e < d; e++) {\n      for (var f = a[0][e], g = 1; g < a.length; g++) if (f != a[g][e]) return c;\n\n      \" \" == f && (c = e + 1);\n    }\n\n    for (g = 1; g < a.length; g++) if ((f = a[g][e]) && \" \" != f) return c;\n\n    return d;\n  };\n\n  Blockly.utils.string.commonWordSuffix = function (a, b) {\n    if (!a.length) return 0;\n    if (1 == a.length) return a[0].length;\n\n    for (var c = 0, d = b || Blockly.utils.string.shortestStringLength(a), e = 0; e < d; e++) {\n      for (var f = a[0].substr(-e - 1, 1), g = 1; g < a.length; g++) if (f != a[g].substr(-e - 1, 1)) return c;\n\n      \" \" == f && (c = e + 1);\n    }\n\n    for (g = 1; g < a.length; g++) if ((f = a[g].charAt(a[g].length - e - 1)) && \" \" != f) return c;\n\n    return d;\n  };\n\n  Blockly.utils.string.wrap = function (a, b) {\n    for (var c = a.split(\"\\n\"), d = 0; d < c.length; d++) c[d] = Blockly.utils.string.wrapLine_(c[d], b);\n\n    return c.join(\"\\n\");\n  };\n\n  Blockly.utils.string.wrapLine_ = function (a, b) {\n    if (a.length <= b) return a;\n\n    for (var c = a.trim().split(/\\s+/), d = 0; d < c.length; d++) c[d].length > b && (b = c[d].length);\n\n    d = -Infinity;\n    var e = 1;\n\n    do {\n      var f = d;\n      var g = a;\n      var h = [],\n          k = c.length / e,\n          l = 1;\n\n      for (d = 0; d < c.length - 1; d++) l < (d + 1.5) / k ? (l++, h[d] = !0) : h[d] = !1;\n\n      h = Blockly.utils.string.wrapMutate_(c, h, b);\n      d = Blockly.utils.string.wrapScore_(c, h, b);\n      a = Blockly.utils.string.wrapToText_(c, h);\n      e++;\n    } while (d > f);\n\n    return g;\n  };\n\n  Blockly.utils.string.wrapScore_ = function (a, b, c) {\n    for (var d = [0], e = [], f = 0; f < a.length; f++) d[d.length - 1] += a[f].length, !0 === b[f] ? (d.push(0), e.push(a[f].charAt(a[f].length - 1))) : !1 === b[f] && d[d.length - 1]++;\n\n    a = Math.max.apply(Math, d);\n\n    for (f = b = 0; f < d.length; f++) b -= 2 * Math.pow(Math.abs(c - d[f]), 1.5), b -= Math.pow(a - d[f], 1.5), -1 != \".?!\".indexOf(e[f]) ? b += c / 3 : -1 != \",;)]}\".indexOf(e[f]) && (b += c / 4);\n\n    1 < d.length && d[d.length - 1] <= d[d.length - 2] && (b += .5);\n    return b;\n  };\n\n  Blockly.utils.string.wrapMutate_ = function (a, b, c) {\n    for (var d = Blockly.utils.string.wrapScore_(a, b, c), e, f = 0; f < b.length - 1; f++) if (b[f] != b[f + 1]) {\n      var g = [].concat(b);\n      g[f] = !g[f];\n      g[f + 1] = !g[f + 1];\n      var h = Blockly.utils.string.wrapScore_(a, g, c);\n      h > d && (d = h, e = g);\n    }\n\n    return e ? Blockly.utils.string.wrapMutate_(a, e, c) : b;\n  };\n\n  Blockly.utils.string.wrapToText_ = function (a, b) {\n    for (var c = [], d = 0; d < a.length; d++) c.push(a[d]), void 0 !== b[d] && c.push(b[d] ? \"\\n\" : \" \");\n\n    return c.join(\"\");\n  };\n\n  Blockly.utils.userAgent = {};\n\n  (function (a) {\n    function b(a) {\n      return -1 != c.indexOf(a.toUpperCase());\n    }\n\n    Blockly.utils.userAgent.raw = a;\n    var c = Blockly.utils.userAgent.raw.toUpperCase();\n    Blockly.utils.userAgent.IE = b(\"Trident\") || b(\"MSIE\");\n    Blockly.utils.userAgent.EDGE = b(\"Edge\");\n    Blockly.utils.userAgent.JAVA_FX = b(\"JavaFX\");\n    Blockly.utils.userAgent.WEBKIT = b(\"WebKit\") && !Blockly.utils.userAgent.EDGE;\n    Blockly.utils.userAgent.GECKO = b(\"Gecko\") && !Blockly.utils.userAgent.WEBKIT && !Blockly.utils.userAgent.IE && !Blockly.utils.userAgent.EDGE;\n    Blockly.utils.userAgent.ANDROID = b(\"Android\");\n    Blockly.utils.userAgent.IPAD = b(\"iPad\");\n    Blockly.utils.userAgent.IPOD = b(\"iPod\");\n    Blockly.utils.userAgent.IPHONE = b(\"iPhone\") && !Blockly.utils.userAgent.IPAD && !Blockly.utils.userAgent.IPOD;\n    Blockly.utils.userAgent.MAC = b(\"Macintosh\");\n    Blockly.utils.userAgent.TABLET = Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.ANDROID && !b(\"Mobile\") || b(\"Silk\");\n    Blockly.utils.userAgent.MOBILE = !Blockly.utils.userAgent.TABLET && (Blockly.utils.userAgent.IPOD || Blockly.utils.userAgent.IPHONE || Blockly.utils.userAgent.ANDROID || b(\"IEMobile\"));\n  })(window.navigator && window.navigator.userAgent || \"\");\n\n  Blockly.utils.noEvent = function (a) {\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.utils.isTargetInput = function (a) {\n    return \"textarea\" == a.target.type || \"text\" == a.target.type || \"number\" == a.target.type || \"email\" == a.target.type || \"password\" == a.target.type || \"search\" == a.target.type || \"tel\" == a.target.type || \"url\" == a.target.type || a.target.isContentEditable;\n  };\n\n  Blockly.utils.getRelativeXY = function (a) {\n    var b = new Blockly.utils.Coordinate(0, 0),\n        c = a.getAttribute(\"x\");\n    c && (b.x = parseInt(c, 10));\n    if (c = a.getAttribute(\"y\")) b.y = parseInt(c, 10);\n    if (c = (c = a.getAttribute(\"transform\")) && c.match(Blockly.utils.getRelativeXY.XY_REGEX_)) b.x += parseFloat(c[1]), c[3] && (b.y += parseFloat(c[3]));\n    (a = a.getAttribute(\"style\")) && -1 < a.indexOf(\"translate\") && (a = a.match(Blockly.utils.getRelativeXY.XY_STYLE_REGEX_)) && (b.x += parseFloat(a[1]), a[3] && (b.y += parseFloat(a[3])));\n    return b;\n  };\n\n  Blockly.utils.getInjectionDivXY_ = function (a) {\n    for (var b = 0, c = 0; a;) {\n      var d = Blockly.utils.getRelativeXY(a);\n      b += d.x;\n      c += d.y;\n      if (-1 != (\" \" + (a.getAttribute(\"class\") || \"\") + \" \").indexOf(\" injectionDiv \")) break;\n      a = a.parentNode;\n    }\n\n    return new Blockly.utils.Coordinate(b, c);\n  };\n\n  Blockly.utils.getRelativeXY.XY_REGEX_ = /translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*)?/;\n  Blockly.utils.getRelativeXY.XY_STYLE_REGEX_ = /transform:\\s*translate(?:3d)?\\(\\s*([-+\\d.e]+)\\s*px([ ,]\\s*([-+\\d.e]+)\\s*px)?/;\n\n  Blockly.utils.isRightButton = function (a) {\n    return a.ctrlKey && Blockly.utils.userAgent.MAC ? !0 : 2 == a.button;\n  };\n\n  Blockly.utils.mouseToSvg = function (a, b, c) {\n    var d = b.createSVGPoint();\n    d.x = a.clientX;\n    d.y = a.clientY;\n    c || (c = b.getScreenCTM().inverse());\n    return d.matrixTransform(c);\n  };\n\n  Blockly.utils.getScrollDeltaPixels = function (a) {\n    switch (a.deltaMode) {\n      case 0:\n        return {\n          x: a.deltaX,\n          y: a.deltaY\n        };\n\n      case 1:\n        return {\n          x: a.deltaX * Blockly.LINE_MODE_MULTIPLIER,\n          y: a.deltaY * Blockly.LINE_MODE_MULTIPLIER\n        };\n\n      case 2:\n        return {\n          x: a.deltaX * Blockly.PAGE_MODE_MULTIPLIER,\n          y: a.deltaY * Blockly.PAGE_MODE_MULTIPLIER\n        };\n    }\n  };\n\n  Blockly.utils.tokenizeInterpolation = function (a) {\n    return Blockly.utils.tokenizeInterpolation_(a, !0);\n  };\n\n  Blockly.utils.replaceMessageReferences = function (a) {\n    if (\"string\" != typeof a) return a;\n    a = Blockly.utils.tokenizeInterpolation_(a, !1);\n    return a.length ? a[0] : \"\";\n  };\n\n  Blockly.utils.checkMessageReferences = function (a) {\n    for (var b = !0, c = Blockly.Msg, d = a.match(/%{BKY_[A-Z]\\w*}/ig), e = 0; e < d.length; e++) {\n      var f = d[e].toUpperCase();\n      void 0 == c[f.slice(6, -1)] && (console.log(\"WARNING: No message string for \" + d[e] + \" in \" + a), b = !1);\n    }\n\n    return b;\n  };\n\n  Blockly.utils.tokenizeInterpolation_ = function (a, b) {\n    var c = [],\n        d = a.split(\"\");\n    d.push(\"\");\n\n    for (var e = 0, f = [], g = null, h = 0; h < d.length; h++) {\n      var k = d[h];\n      0 == e ? \"%\" == k ? ((k = f.join(\"\")) && c.push(k), f.length = 0, e = 1) : f.push(k) : 1 == e ? \"%\" == k ? (f.push(k), e = 0) : b && \"0\" <= k && \"9\" >= k ? (e = 2, g = k, (k = f.join(\"\")) && c.push(k), f.length = 0) : \"{\" == k ? e = 3 : (f.push(\"%\", k), e = 0) : 2 == e ? \"0\" <= k && \"9\" >= k ? g += k : (c.push(parseInt(g, 10)), h--, e = 0) : 3 == e && (\"\" == k ? (f.splice(0, 0, \"%{\"), h--, e = 0) : \"}\" != k ? f.push(k) : (e = f.join(\"\"), /[A-Z]\\w*/i.test(e) ? (k = e.toUpperCase(), (k = Blockly.utils.string.startsWith(k, \"BKY_\") ? k.substring(4) : null) && k in Blockly.Msg ? (e = Blockly.Msg[k], \"string\" == typeof e ? Array.prototype.push.apply(c, Blockly.utils.tokenizeInterpolation_(e, b)) : b ? c.push(String(e)) : c.push(e)) : c.push(\"%{\" + e + \"}\")) : c.push(\"%{\" + e + \"}\"), e = f.length = 0));\n    }\n\n    (k = f.join(\"\")) && c.push(k);\n    d = [];\n\n    for (h = f.length = 0; h < c.length; ++h) \"string\" == typeof c[h] ? f.push(c[h]) : ((k = f.join(\"\")) && d.push(k), f.length = 0, d.push(c[h]));\n\n    (k = f.join(\"\")) && d.push(k);\n    f.length = 0;\n    return d;\n  };\n\n  Blockly.utils.genUid = function () {\n    for (var a = Blockly.utils.genUid.soup_.length, b = [], c = 0; 20 > c; c++) b[c] = Blockly.utils.genUid.soup_.charAt(Math.random() * a);\n\n    return b.join(\"\");\n  };\n\n  Blockly.utils.genUid.soup_ = \"!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n  Blockly.utils.is3dSupported = function () {\n    if (void 0 !== Blockly.utils.is3dSupported.cached_) return Blockly.utils.is3dSupported.cached_;\n    if (!Blockly.utils.global.getComputedStyle) return !1;\n    var a = document.createElement(\"p\"),\n        b = \"none\",\n        c = {\n      webkitTransform: \"-webkit-transform\",\n      OTransform: \"-o-transform\",\n      msTransform: \"-ms-transform\",\n      MozTransform: \"-moz-transform\",\n      transform: \"transform\"\n    };\n    document.body.insertBefore(a, null);\n\n    for (var d in c) if (void 0 !== a.style[d]) {\n      a.style[d] = \"translate3d(1px,1px,1px)\";\n      b = Blockly.utils.global.getComputedStyle(a);\n      if (!b) return document.body.removeChild(a), !1;\n      b = b.getPropertyValue(c[d]);\n    }\n\n    document.body.removeChild(a);\n    Blockly.utils.is3dSupported.cached_ = \"none\" !== b;\n    return Blockly.utils.is3dSupported.cached_;\n  };\n\n  Blockly.utils.runAfterPageLoad = function (a) {\n    if (\"object\" != typeof document) throw Error(\"Blockly.utils.runAfterPageLoad() requires browser document.\");\n    if (\"complete\" == document.readyState) a();else var b = setInterval(function () {\n      \"complete\" == document.readyState && (clearInterval(b), a());\n    }, 10);\n  };\n\n  Blockly.utils.getViewportBBox = function () {\n    var a = goog.style.getViewportPageOffset(document);\n    return {\n      right: document.documentElement.clientWidth + a.x,\n      bottom: document.documentElement.clientHeight + a.y,\n      top: a.y,\n      left: a.x\n    };\n  };\n\n  Blockly.utils.arrayRemove = function (a, b) {\n    var c = a.indexOf(b);\n    if (-1 == c) return !1;\n    a.splice(c, 1);\n    return !0;\n  };\n\n  Blockly.utils.getDocumentScroll = function () {\n    var a = document.documentElement,\n        b = window;\n    return Blockly.utils.userAgent.IE && b.pageYOffset != a.scrollTop ? new Blockly.utils.Coordinate(a.scrollLeft, a.scrollTop) : new Blockly.utils.Coordinate(b.pageXOffset || a.scrollLeft, b.pageYOffset || a.scrollTop);\n  };\n\n  Blockly.utils.getBlockTypeCounts = function (a, b) {\n    var c = Object.create(null),\n        d = a.getDescendants(!0);\n\n    if (b) {\n      var e = a.getNextBlock();\n      e && (e = d.indexOf(e), d.splice(e, d.length - e));\n    }\n\n    e = 0;\n\n    for (var f; f = d[e]; e++) c[f.type] ? c[f.type]++ : c[f.type] = 1;\n\n    return c;\n  };\n\n  Blockly.utils.global = this || self;\n  Blockly.Touch = {};\n  Blockly.Touch.TOUCH_ENABLED = \"ontouchstart\" in Blockly.utils.global || !!(Blockly.utils.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!Blockly.utils.global.navigator || !Blockly.utils.global.navigator.maxTouchPoints && !Blockly.utils.global.navigator.msMaxTouchPoints);\n  Blockly.Touch.touchIdentifier_ = null;\n  Blockly.Touch.TOUCH_MAP = {};\n  Blockly.utils.global.PointerEvent ? Blockly.Touch.TOUCH_MAP = {\n    mousedown: [\"pointerdown\"],\n    mouseenter: [\"pointerenter\"],\n    mouseleave: [\"pointerleave\"],\n    mousemove: [\"pointermove\"],\n    mouseout: [\"pointerout\"],\n    mouseover: [\"pointerover\"],\n    mouseup: [\"pointerup\", \"pointercancel\"],\n    touchend: [\"pointerup\"],\n    touchcancel: [\"pointercancel\"]\n  } : Blockly.Touch.TOUCH_ENABLED && (Blockly.Touch.TOUCH_MAP = {\n    mousedown: [\"touchstart\"],\n    mousemove: [\"touchmove\"],\n    mouseup: [\"touchend\", \"touchcancel\"]\n  });\n  Blockly.longPid_ = 0;\n\n  Blockly.longStart_ = function (a, b) {\n    Blockly.longStop_();\n    a.changedTouches && 1 != a.changedTouches.length || (Blockly.longPid_ = setTimeout(function () {\n      a.changedTouches && (a.button = 2, a.clientX = a.changedTouches[0].clientX, a.clientY = a.changedTouches[0].clientY);\n      b && b.handleRightClick(a);\n    }, Blockly.LONGPRESS));\n  };\n\n  Blockly.longStop_ = function () {\n    Blockly.longPid_ && (clearTimeout(Blockly.longPid_), Blockly.longPid_ = 0);\n  };\n\n  Blockly.Touch.clearTouchIdentifier = function () {\n    Blockly.Touch.touchIdentifier_ = null;\n  };\n\n  Blockly.Touch.shouldHandleEvent = function (a) {\n    return !Blockly.Touch.isMouseOrTouchEvent(a) || Blockly.Touch.checkTouchIdentifier(a);\n  };\n\n  Blockly.Touch.getTouchIdentifierFromEvent = function (a) {\n    return void 0 != a.pointerId ? a.pointerId : a.changedTouches && a.changedTouches[0] && void 0 !== a.changedTouches[0].identifier && null !== a.changedTouches[0].identifier ? a.changedTouches[0].identifier : \"mouse\";\n  };\n\n  Blockly.Touch.checkTouchIdentifier = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    return void 0 !== Blockly.Touch.touchIdentifier_ && null !== Blockly.Touch.touchIdentifier_ ? Blockly.Touch.touchIdentifier_ == b : \"mousedown\" == a.type || \"touchstart\" == a.type || \"pointerdown\" == a.type ? (Blockly.Touch.touchIdentifier_ = b, !0) : !1;\n  };\n\n  Blockly.Touch.setClientFromTouch = function (a) {\n    if (Blockly.utils.string.startsWith(a.type, \"touch\")) {\n      var b = a.changedTouches[0];\n      a.clientX = b.clientX;\n      a.clientY = b.clientY;\n    }\n  };\n\n  Blockly.Touch.isMouseOrTouchEvent = function (a) {\n    return Blockly.utils.string.startsWith(a.type, \"touch\") || Blockly.utils.string.startsWith(a.type, \"mouse\") || Blockly.utils.string.startsWith(a.type, \"pointer\");\n  };\n\n  Blockly.Touch.isTouchEvent = function (a) {\n    return Blockly.utils.string.startsWith(a.type, \"touch\") || Blockly.utils.string.startsWith(a.type, \"pointer\");\n  };\n\n  Blockly.Touch.splitEventByTouches = function (a) {\n    var b = [];\n    if (a.changedTouches) for (var c = 0; c < a.changedTouches.length; c++) b[c] = {\n      type: a.type,\n      changedTouches: [a.changedTouches[c]],\n      target: a.target,\n      stopPropagation: function () {\n        a.stopPropagation();\n      },\n      preventDefault: function () {\n        a.preventDefault();\n      }\n    };else b.push(a);\n    return b;\n  };\n\n  Blockly.utils.dom = {};\n  Blockly.utils.dom.SVG_NS = \"http://www.w3.org/2000/svg\";\n  Blockly.utils.dom.HTML_NS = \"http://www.w3.org/1999/xhtml\";\n  Blockly.utils.dom.XLINK_NS = \"http://www.w3.org/1999/xlink\";\n\n  Blockly.utils.dom.createSvgElement = function (a, b, c) {\n    a = document.createElementNS(Blockly.utils.dom.SVG_NS, a);\n\n    for (var d in b) a.setAttribute(d, b[d]);\n\n    document.body.runtimeStyle && (a.runtimeStyle = a.currentStyle = a.style);\n    c && c.appendChild(a);\n    return a;\n  };\n\n  Blockly.utils.dom.addClass = function (a, b) {\n    var c = a.getAttribute(\"class\") || \"\";\n    if (-1 != (\" \" + c + \" \").indexOf(\" \" + b + \" \")) return !1;\n    c && (c += \" \");\n    a.setAttribute(\"class\", c + b);\n    return !0;\n  };\n\n  Blockly.utils.dom.removeClass = function (a, b) {\n    var c = a.getAttribute(\"class\");\n    if (-1 == (\" \" + c + \" \").indexOf(\" \" + b + \" \")) return !1;\n    c = c.split(/\\s+/);\n\n    for (var d = 0; d < c.length; d++) c[d] && c[d] != b || (c.splice(d, 1), d--);\n\n    c.length ? a.setAttribute(\"class\", c.join(\" \")) : a.removeAttribute(\"class\");\n    return !0;\n  };\n\n  Blockly.utils.dom.hasClass = function (a, b) {\n    return -1 != (\" \" + a.getAttribute(\"class\") + \" \").indexOf(\" \" + b + \" \");\n  };\n\n  Blockly.utils.dom.removeNode = function (a) {\n    return a && a.parentNode ? a.parentNode.removeChild(a) : null;\n  };\n\n  Blockly.utils.dom.insertAfter = function (a, b) {\n    var c = b.nextSibling,\n        d = b.parentNode;\n    if (!d) throw Error(\"Reference node has no parent.\");\n    c ? d.insertBefore(a, c) : d.appendChild(a);\n  };\n\n  Blockly.utils.dom.containsNode = function (a, b) {\n    return !!(a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_CONTAINED_BY);\n  };\n\n  Blockly.utils.dom.setCssTransform = function (a, b) {\n    a.style.transform = b;\n    a.style[\"-webkit-transform\"] = b;\n  };\n\n  Blockly.utils.math = {};\n\n  Blockly.utils.math.toRadians = function (a) {\n    return a * Math.PI / 180;\n  };\n\n  Blockly.utils.math.toDegrees = function (a) {\n    return 180 * a / Math.PI;\n  };\n\n  Blockly.utils.math.clamp = function (a, b, c) {\n    if (c < a) {\n      var d = c;\n      c = a;\n      a = d;\n    }\n\n    return Math.max(a, Math.min(b, c));\n  };\n\n  Blockly.Events = {};\n  Blockly.Events.group_ = \"\";\n  Blockly.Events.recordUndo = !0;\n  Blockly.Events.disabled_ = 0;\n  Blockly.Events.CREATE = \"create\";\n  Blockly.Events.BLOCK_CREATE = Blockly.Events.CREATE;\n  Blockly.Events.DELETE = \"delete\";\n  Blockly.Events.BLOCK_DELETE = Blockly.Events.DELETE;\n  Blockly.Events.CHANGE = \"change\";\n  Blockly.Events.BLOCK_CHANGE = Blockly.Events.CHANGE;\n  Blockly.Events.MOVE = \"move\";\n  Blockly.Events.BLOCK_MOVE = Blockly.Events.MOVE;\n  Blockly.Events.VAR_CREATE = \"var_create\";\n  Blockly.Events.VAR_DELETE = \"var_delete\";\n  Blockly.Events.VAR_RENAME = \"var_rename\";\n  Blockly.Events.UI = \"ui\";\n  Blockly.Events.COMMENT_CREATE = \"comment_create\";\n  Blockly.Events.COMMENT_DELETE = \"comment_delete\";\n  Blockly.Events.COMMENT_CHANGE = \"comment_change\";\n  Blockly.Events.COMMENT_MOVE = \"comment_move\";\n  Blockly.Events.FINISHED_LOADING = \"finished_loading\";\n  Blockly.Events.BUMP_EVENTS = [Blockly.Events.BLOCK_CREATE, Blockly.Events.BLOCK_MOVE, Blockly.Events.COMMENT_CREATE, Blockly.Events.COMMENT_MOVE];\n  Blockly.Events.FIRE_QUEUE_ = [];\n\n  Blockly.Events.fire = function (a) {\n    Blockly.Events.isEnabled() && (Blockly.Events.FIRE_QUEUE_.length || setTimeout(Blockly.Events.fireNow_, 0), Blockly.Events.FIRE_QUEUE_.push(a));\n  };\n\n  Blockly.Events.fireNow_ = function () {\n    for (var a = Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_, !0), b = Blockly.Events.FIRE_QUEUE_.length = 0, c; c = a[b]; b++) {\n      var d = Blockly.Workspace.getById(c.workspaceId);\n      d && d.fireChangeListener(c);\n    }\n  };\n\n  Blockly.Events.filter = function (a, b) {\n    var c = a.slice();\n    b || c.reverse();\n\n    for (var d = [], e = Object.create(null), f = 0, g; g = c[f]; f++) if (!g.isNull()) {\n      var h = [g.type, g.blockId, g.workspaceId].join(\" \"),\n          k = e[h],\n          l = k ? k.event : null;\n      if (!k) e[h] = {\n        event: g,\n        index: f\n      }, d.push(g);else if (g.type == Blockly.Events.MOVE && k.index == f - 1) l.newParentId = g.newParentId, l.newInputName = g.newInputName, l.newCoordinate = g.newCoordinate, k.index = f;else if (g.type == Blockly.Events.CHANGE && g.element == l.element && g.name == l.name) l.newValue = g.newValue;else if (g.type != Blockly.Events.UI || \"click\" != g.element || \"commentOpen\" != l.element && \"mutatorOpen\" != l.element && \"warningOpen\" != l.element) e[h] = {\n        event: g,\n        index: 1\n      }, d.push(g);\n    }\n\n    c = d.filter(function (a) {\n      return !a.isNull();\n    });\n    b || c.reverse();\n\n    for (f = 1; g = c[f]; f++) g.type == Blockly.Events.CHANGE && \"mutation\" == g.element && c.unshift(c.splice(f, 1)[0]);\n\n    return c;\n  };\n\n  Blockly.Events.clearPendingUndo = function () {\n    for (var a = 0, b; b = Blockly.Events.FIRE_QUEUE_[a]; a++) b.recordUndo = !1;\n  };\n\n  Blockly.Events.disable = function () {\n    Blockly.Events.disabled_++;\n  };\n\n  Blockly.Events.enable = function () {\n    Blockly.Events.disabled_--;\n  };\n\n  Blockly.Events.isEnabled = function () {\n    return 0 == Blockly.Events.disabled_;\n  };\n\n  Blockly.Events.getGroup = function () {\n    return Blockly.Events.group_;\n  };\n\n  Blockly.Events.setGroup = function (a) {\n    Blockly.Events.group_ = \"boolean\" == typeof a ? a ? Blockly.utils.genUid() : \"\" : a;\n  };\n\n  Blockly.Events.getDescendantIds_ = function (a) {\n    var b = [];\n    a = a.getDescendants(!1);\n\n    for (var c = 0, d; d = a[c]; c++) b[c] = d.id;\n\n    return b;\n  };\n\n  Blockly.Events.fromJson = function (a, b) {\n    switch (a.type) {\n      case Blockly.Events.CREATE:\n        var c = new Blockly.Events.Create(null);\n        break;\n\n      case Blockly.Events.DELETE:\n        c = new Blockly.Events.Delete(null);\n        break;\n\n      case Blockly.Events.CHANGE:\n        c = new Blockly.Events.Change(null, \"\", \"\", \"\", \"\");\n        break;\n\n      case Blockly.Events.MOVE:\n        c = new Blockly.Events.Move(null);\n        break;\n\n      case Blockly.Events.VAR_CREATE:\n        c = new Blockly.Events.VarCreate(null);\n        break;\n\n      case Blockly.Events.VAR_DELETE:\n        c = new Blockly.Events.VarDelete(null);\n        break;\n\n      case Blockly.Events.VAR_RENAME:\n        c = new Blockly.Events.VarRename(null, \"\");\n        break;\n\n      case Blockly.Events.UI:\n        c = new Blockly.Events.Ui(null);\n        break;\n\n      case Blockly.Events.COMMENT_CREATE:\n        c = new Blockly.Events.CommentCreate(null);\n        break;\n\n      case Blockly.Events.COMMENT_CHANGE:\n        c = new Blockly.Events.CommentChange(null);\n        break;\n\n      case Blockly.Events.COMMENT_MOVE:\n        c = new Blockly.Events.CommentMove(null);\n        break;\n\n      case Blockly.Events.COMMENT_DELETE:\n        c = new Blockly.Events.CommentDelete(null);\n        break;\n\n      default:\n        throw Error(\"Unknown event type.\");\n    }\n\n    c.fromJson(a);\n    c.workspaceId = b.id;\n    return c;\n  };\n\n  Blockly.Events.disableOrphans = function (a) {\n    if (a.type == Blockly.Events.MOVE || a.type == Blockly.Events.CREATE) {\n      var b = Blockly.Workspace.getById(a.workspaceId);\n\n      if (a = b.getBlockById(a.blockId)) {\n        var c = a.getParent();\n        if (c && c.isEnabled()) for (b = a.getDescendants(!1), a = 0; c = b[a]; a++) c.setEnabled(!0);else if ((a.outputConnection || a.previousConnection) && !b.isDragging()) {\n          do a.setEnabled(!1), a = a.getNextBlock(); while (a);\n        }\n      }\n    }\n  };\n\n  Blockly.Events.Abstract = function () {\n    this.workspaceId = void 0;\n    this.group = Blockly.Events.group_;\n    this.recordUndo = Blockly.Events.recordUndo;\n  };\n\n  Blockly.Events.Abstract.prototype.toJson = function () {\n    var a = {\n      type: this.type\n    };\n    this.group && (a.group = this.group);\n    return a;\n  };\n\n  Blockly.Events.Abstract.prototype.fromJson = function (a) {\n    this.group = a.group;\n  };\n\n  Blockly.Events.Abstract.prototype.isNull = function () {\n    return !1;\n  };\n\n  Blockly.Events.Abstract.prototype.run = function (a) {};\n\n  Blockly.Events.Abstract.prototype.getEventWorkspace_ = function () {\n    var a = Blockly.Workspace.getById(this.workspaceId);\n    if (!a) throw Error(\"Workspace is null. Event must have been generated from real Blockly events.\");\n    return a;\n  };\n\n  Blockly.Events.VarBase = function (a) {\n    Blockly.Events.VarBase.superClass_.constructor.call(this);\n    this.varId = a.getId();\n    this.workspaceId = a.workspace.id;\n  };\n\n  goog.inherits(Blockly.Events.VarBase, Blockly.Events.Abstract);\n\n  Blockly.Events.VarBase.prototype.toJson = function () {\n    var a = Blockly.Events.VarBase.superClass_.toJson.call(this);\n    a.varId = this.varId;\n    return a;\n  };\n\n  Blockly.Events.VarBase.prototype.fromJson = function (a) {\n    Blockly.Events.VarBase.superClass_.toJson.call(this);\n    this.varId = a.varId;\n  };\n\n  Blockly.Events.VarCreate = function (a) {\n    a && (Blockly.Events.VarCreate.superClass_.constructor.call(this, a), this.varType = a.type, this.varName = a.name);\n  };\n\n  goog.inherits(Blockly.Events.VarCreate, Blockly.Events.VarBase);\n  Blockly.Events.VarCreate.prototype.type = Blockly.Events.VAR_CREATE;\n\n  Blockly.Events.VarCreate.prototype.toJson = function () {\n    var a = Blockly.Events.VarCreate.superClass_.toJson.call(this);\n    a.varType = this.varType;\n    a.varName = this.varName;\n    return a;\n  };\n\n  Blockly.Events.VarCreate.prototype.fromJson = function (a) {\n    Blockly.Events.VarCreate.superClass_.fromJson.call(this, a);\n    this.varType = a.varType;\n    this.varName = a.varName;\n  };\n\n  Blockly.Events.VarCreate.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.createVariable(this.varName, this.varType, this.varId) : b.deleteVariableById(this.varId);\n  };\n\n  Blockly.Events.VarDelete = function (a) {\n    a && (Blockly.Events.VarDelete.superClass_.constructor.call(this, a), this.varType = a.type, this.varName = a.name);\n  };\n\n  goog.inherits(Blockly.Events.VarDelete, Blockly.Events.VarBase);\n  Blockly.Events.VarDelete.prototype.type = Blockly.Events.VAR_DELETE;\n\n  Blockly.Events.VarDelete.prototype.toJson = function () {\n    var a = Blockly.Events.VarDelete.superClass_.toJson.call(this);\n    a.varType = this.varType;\n    a.varName = this.varName;\n    return a;\n  };\n\n  Blockly.Events.VarDelete.prototype.fromJson = function (a) {\n    Blockly.Events.VarDelete.superClass_.fromJson.call(this, a);\n    this.varType = a.varType;\n    this.varName = a.varName;\n  };\n\n  Blockly.Events.VarDelete.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.deleteVariableById(this.varId) : b.createVariable(this.varName, this.varType, this.varId);\n  };\n\n  Blockly.Events.VarRename = function (a, b) {\n    a && (Blockly.Events.VarRename.superClass_.constructor.call(this, a), this.oldName = a.name, this.newName = b);\n  };\n\n  goog.inherits(Blockly.Events.VarRename, Blockly.Events.VarBase);\n  Blockly.Events.VarRename.prototype.type = Blockly.Events.VAR_RENAME;\n\n  Blockly.Events.VarRename.prototype.toJson = function () {\n    var a = Blockly.Events.VarRename.superClass_.toJson.call(this);\n    a.oldName = this.oldName;\n    a.newName = this.newName;\n    return a;\n  };\n\n  Blockly.Events.VarRename.prototype.fromJson = function (a) {\n    Blockly.Events.VarRename.superClass_.fromJson.call(this, a);\n    this.oldName = a.oldName;\n    this.newName = a.newName;\n  };\n\n  Blockly.Events.VarRename.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.renameVariableById(this.varId, this.newName) : b.renameVariableById(this.varId, this.oldName);\n  };\n\n  Blockly.VariableMap = function (a) {\n    this.variableMap_ = Object.create(null);\n    this.workspace = a;\n  };\n\n  Blockly.VariableMap.prototype.clear = function () {\n    this.variableMap_ = Object.create(null);\n  };\n\n  Blockly.VariableMap.prototype.renameVariable = function (a, b) {\n    var c = this.getVariable(b, a.type),\n        d = this.workspace.getAllBlocks(!1);\n    Blockly.Events.setGroup(!0);\n\n    try {\n      c && c.getId() != a.getId() ? this.renameVariableWithConflict_(a, b, c, d) : this.renameVariableAndUses_(a, b, d);\n    } finally {\n      Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.VariableMap.prototype.renameVariableById = function (a, b) {\n    var c = this.getVariableById(a);\n    if (!c) throw Error(\"Tried to rename a variable that didn't exist. ID: \" + a);\n    this.renameVariable(c, b);\n  };\n\n  Blockly.VariableMap.prototype.renameVariableAndUses_ = function (a, b, c) {\n    Blockly.Events.fire(new Blockly.Events.VarRename(a, b));\n    a.name = b;\n\n    for (b = 0; b < c.length; b++) c[b].updateVarName(a);\n  };\n\n  Blockly.VariableMap.prototype.renameVariableWithConflict_ = function (a, b, c, d) {\n    var e = a.type;\n    b != c.name && this.renameVariableAndUses_(c, b, d);\n\n    for (b = 0; b < d.length; b++) d[b].renameVarById(a.getId(), c.getId());\n\n    Blockly.Events.fire(new Blockly.Events.VarDelete(a));\n    a = this.getVariablesOfType(e).indexOf(a);\n    this.variableMap_[e].splice(a, 1);\n  };\n\n  Blockly.VariableMap.prototype.createVariable = function (a, b, c) {\n    var d = this.getVariable(a, b);\n\n    if (d) {\n      if (c && d.getId() != c) throw Error('Variable \"' + a + '\" is already in use and its id is \"' + d.getId() + '\" which conflicts with the passed in id, \"' + c + '\".');\n      return d;\n    }\n\n    if (c && this.getVariableById(c)) throw Error('Variable id, \"' + c + '\", is already in use.');\n    d = c || Blockly.utils.genUid();\n    b = b || \"\";\n    d = new Blockly.VariableModel(this.workspace, a, b, d);\n    a = this.variableMap_[b] || [];\n    a.push(d);\n    delete this.variableMap_[b];\n    this.variableMap_[b] = a;\n    return d;\n  };\n\n  Blockly.VariableMap.prototype.deleteVariable = function (a) {\n    for (var b = this.variableMap_[a.type], c = 0, d; d = b[c]; c++) if (d.getId() == a.getId()) {\n      b.splice(c, 1);\n      Blockly.Events.fire(new Blockly.Events.VarDelete(a));\n      break;\n    }\n  };\n\n  Blockly.VariableMap.prototype.deleteVariableById = function (a) {\n    var b = this.getVariableById(a);\n\n    if (b) {\n      var c = b.name,\n          d = this.getVariableUsesById(a);\n      a = 0;\n\n      for (var e; e = d[a]; a++) if (\"procedures_defnoreturn\" == e.type || \"procedures_defreturn\" == e.type) {\n        a = e.getFieldValue(\"NAME\");\n        c = Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(\"%1\", c).replace(\"%2\", a);\n        Blockly.alert(c);\n        return;\n      }\n\n      var f = this;\n      1 < d.length ? (c = Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace(\"%1\", String(d.length)).replace(\"%2\", c), Blockly.confirm(c, function (a) {\n        a && f.deleteVariableInternal_(b, d);\n      })) : f.deleteVariableInternal_(b, d);\n    } else console.warn(\"Can't delete non-existent variable: \" + a);\n  };\n\n  Blockly.VariableMap.prototype.deleteVariableInternal_ = function (a, b) {\n    var c = Blockly.Events.getGroup();\n    c || Blockly.Events.setGroup(!0);\n\n    try {\n      for (var d = 0; d < b.length; d++) b[d].dispose(!0, !1);\n\n      this.deleteVariable(a);\n    } finally {\n      c || Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.VariableMap.prototype.getVariable = function (a, b) {\n    var c = this.variableMap_[b || \"\"];\n    if (c) for (var d = 0, e; e = c[d]; d++) if (Blockly.Names.equals(e.name, a)) return e;\n    return null;\n  };\n\n  Blockly.VariableMap.prototype.getVariableById = function (a) {\n    for (var b = Object.keys(this.variableMap_), c = 0; c < b.length; c++) for (var d = b[c], e = 0, f; f = this.variableMap_[d][e]; e++) if (f.getId() == a) return f;\n\n    return null;\n  };\n\n  Blockly.VariableMap.prototype.getVariablesOfType = function (a) {\n    return (a = this.variableMap_[a || \"\"]) ? a.slice() : [];\n  };\n\n  Blockly.VariableMap.prototype.getVariableTypes = function (a) {\n    var b = [];\n    a && a.getPotentialVariableMap() && (b = Object.keys(a.getPotentialVariableMap().variableMap_));\n    a = Object.keys(this.variableMap_).concat(b);\n    b = !1;\n\n    for (var c = 0; c < a.length; c++) \"\" == a[c] && (b = !0);\n\n    b || a.push(\"\");\n    return a;\n  };\n\n  Blockly.VariableMap.prototype.getAllVariables = function () {\n    var a = [],\n        b;\n\n    for (b in this.variableMap_) a = a.concat(this.variableMap_[b]);\n\n    return a;\n  };\n\n  Blockly.VariableMap.prototype.getVariableUsesById = function (a) {\n    for (var b = [], c = this.workspace.getAllBlocks(!1), d = 0; d < c.length; d++) {\n      var e = c[d].getVarModels();\n      if (e) for (var f = 0; f < e.length; f++) e[f].getId() == a && b.push(c[d]);\n    }\n\n    return b;\n  };\n\n  Blockly.utils.xml = {};\n  Blockly.utils.xml.NAME_SPACE = \"https://developers.google.com/blockly/xml\";\n\n  Blockly.utils.xml.createElement = function (a) {\n    return document.createElementNS(Blockly.utils.xml.NAME_SPACE, a);\n  };\n\n  Blockly.utils.xml.createTextNode = function (a) {\n    return document.createTextNode(a);\n  };\n\n  Blockly.utils.xml.textToDomDocument = function (a) {\n    return new DOMParser().parseFromString(a, \"text/xml\");\n  };\n\n  Blockly.utils.xml.domToText = function (a) {\n    return new XMLSerializer().serializeToString(a);\n  };\n\n  Blockly.Events.BlockBase = function (a) {\n    Blockly.Events.BlockBase.superClass_.constructor.call(this);\n    this.blockId = a.id;\n    this.workspaceId = a.workspace.id;\n  };\n\n  goog.inherits(Blockly.Events.BlockBase, Blockly.Events.Abstract);\n\n  Blockly.Events.BlockBase.prototype.toJson = function () {\n    var a = Blockly.Events.BlockBase.superClass_.toJson.call(this);\n    a.blockId = this.blockId;\n    return a;\n  };\n\n  Blockly.Events.BlockBase.prototype.fromJson = function (a) {\n    Blockly.Events.BlockBase.superClass_.toJson.call(this);\n    this.blockId = a.blockId;\n  };\n\n  Blockly.Events.Change = function (a, b, c, d, e) {\n    a && (Blockly.Events.Change.superClass_.constructor.call(this, a), this.element = b, this.name = c, this.oldValue = d, this.newValue = e);\n  };\n\n  goog.inherits(Blockly.Events.Change, Blockly.Events.BlockBase);\n  Blockly.Events.BlockChange = Blockly.Events.Change;\n  Blockly.Events.Change.prototype.type = Blockly.Events.CHANGE;\n\n  Blockly.Events.Change.prototype.toJson = function () {\n    var a = Blockly.Events.Change.superClass_.toJson.call(this);\n    a.element = this.element;\n    this.name && (a.name = this.name);\n    a.newValue = this.newValue;\n    return a;\n  };\n\n  Blockly.Events.Change.prototype.fromJson = function (a) {\n    Blockly.Events.Change.superClass_.fromJson.call(this, a);\n    this.element = a.element;\n    this.name = a.name;\n    this.newValue = a.newValue;\n  };\n\n  Blockly.Events.Change.prototype.isNull = function () {\n    return this.oldValue == this.newValue;\n  };\n\n  Blockly.Events.Change.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getBlockById(this.blockId);\n    if (b) switch (b.mutator && b.mutator.setVisible(!1), a = a ? this.newValue : this.oldValue, this.element) {\n      case \"field\":\n        (b = b.getField(this.name)) ? (b.callValidator(a), b.setValue(a)) : console.warn(\"Can't set non-existent field: \" + this.name);\n        break;\n\n      case \"comment\":\n        b.setCommentText(a || null);\n        break;\n\n      case \"collapsed\":\n        b.setCollapsed(a);\n        break;\n\n      case \"disabled\":\n        b.setEnabled(!a);\n        break;\n\n      case \"inline\":\n        b.setInputsInline(a);\n        break;\n\n      case \"mutation\":\n        var c = \"\";\n        b.mutationToDom && (c = (c = b.mutationToDom()) && Blockly.Xml.domToText(c));\n\n        if (b.domToMutation) {\n          var d = Blockly.Xml.textToDom(a || \"<mutation/>\");\n          b.domToMutation(d);\n        }\n\n        Blockly.Events.fire(new Blockly.Events.Change(b, \"mutation\", null, c, a));\n        break;\n\n      default:\n        console.warn(\"Unknown change type: \" + this.element);\n    } else console.warn(\"Can't change non-existent block: \" + this.blockId);\n  };\n\n  Blockly.Events.Create = function (a) {\n    a && (Blockly.Events.Create.superClass_.constructor.call(this, a), this.xml = a.workspace.rendered ? Blockly.Xml.blockToDomWithXY(a) : Blockly.Xml.blockToDom(a), this.ids = Blockly.Events.getDescendantIds_(a));\n  };\n\n  goog.inherits(Blockly.Events.Create, Blockly.Events.BlockBase);\n  Blockly.Events.BlockCreate = Blockly.Events.Create;\n  Blockly.Events.Create.prototype.type = Blockly.Events.CREATE;\n\n  Blockly.Events.Create.prototype.toJson = function () {\n    var a = Blockly.Events.Create.superClass_.toJson.call(this);\n    a.xml = Blockly.Xml.domToText(this.xml);\n    a.ids = this.ids;\n    return a;\n  };\n\n  Blockly.Events.Create.prototype.fromJson = function (a) {\n    Blockly.Events.Create.superClass_.fromJson.call(this, a);\n    this.xml = Blockly.Xml.textToDom(a.xml);\n    this.ids = a.ids;\n  };\n\n  Blockly.Events.Create.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    if (a) a = Blockly.utils.xml.createElement(\"xml\"), a.appendChild(this.xml), Blockly.Xml.domToWorkspace(a, b);else {\n      a = 0;\n\n      for (var c; c = this.ids[a]; a++) {\n        var d = b.getBlockById(c);\n        d ? d.dispose(!1, !1) : c == this.blockId && console.warn(\"Can't uncreate non-existent block: \" + c);\n      }\n    }\n  };\n\n  Blockly.Events.Delete = function (a) {\n    if (a) {\n      if (a.getParent()) throw Error(\"Connected blocks cannot be deleted.\");\n      Blockly.Events.Delete.superClass_.constructor.call(this, a);\n      this.oldXml = a.workspace.rendered ? Blockly.Xml.blockToDomWithXY(a) : Blockly.Xml.blockToDom(a);\n      this.ids = Blockly.Events.getDescendantIds_(a);\n    }\n  };\n\n  goog.inherits(Blockly.Events.Delete, Blockly.Events.BlockBase);\n  Blockly.Events.BlockDelete = Blockly.Events.Delete;\n  Blockly.Events.Delete.prototype.type = Blockly.Events.DELETE;\n\n  Blockly.Events.Delete.prototype.toJson = function () {\n    var a = Blockly.Events.Delete.superClass_.toJson.call(this);\n    a.ids = this.ids;\n    return a;\n  };\n\n  Blockly.Events.Delete.prototype.fromJson = function (a) {\n    Blockly.Events.Delete.superClass_.fromJson.call(this, a);\n    this.ids = a.ids;\n  };\n\n  Blockly.Events.Delete.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n\n    if (a) {\n      a = 0;\n\n      for (var c; c = this.ids[a]; a++) {\n        var d = b.getBlockById(c);\n        d ? d.dispose(!1, !1) : c == this.blockId && console.warn(\"Can't delete non-existent block: \" + c);\n      }\n    } else a = Blockly.utils.xml.createElement(\"xml\"), a.appendChild(this.oldXml), Blockly.Xml.domToWorkspace(a, b);\n  };\n\n  Blockly.Events.Move = function (a) {\n    a && (Blockly.Events.Move.superClass_.constructor.call(this, a), a = this.currentLocation_(), this.oldParentId = a.parentId, this.oldInputName = a.inputName, this.oldCoordinate = a.coordinate);\n  };\n\n  goog.inherits(Blockly.Events.Move, Blockly.Events.BlockBase);\n  Blockly.Events.BlockMove = Blockly.Events.Move;\n  Blockly.Events.Move.prototype.type = Blockly.Events.MOVE;\n\n  Blockly.Events.Move.prototype.toJson = function () {\n    var a = Blockly.Events.Move.superClass_.toJson.call(this);\n    this.newParentId && (a.newParentId = this.newParentId);\n    this.newInputName && (a.newInputName = this.newInputName);\n    this.newCoordinate && (a.newCoordinate = Math.round(this.newCoordinate.x) + \",\" + Math.round(this.newCoordinate.y));\n    return a;\n  };\n\n  Blockly.Events.Move.prototype.fromJson = function (a) {\n    Blockly.Events.Move.superClass_.fromJson.call(this, a);\n    this.newParentId = a.newParentId;\n    this.newInputName = a.newInputName;\n    a.newCoordinate && (a = a.newCoordinate.split(\",\"), this.newCoordinate = new Blockly.utils.Coordinate(parseFloat(a[0]), parseFloat(a[1])));\n  };\n\n  Blockly.Events.Move.prototype.recordNew = function () {\n    var a = this.currentLocation_();\n    this.newParentId = a.parentId;\n    this.newInputName = a.inputName;\n    this.newCoordinate = a.coordinate;\n  };\n\n  Blockly.Events.Move.prototype.currentLocation_ = function () {\n    var a = Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),\n        b = {},\n        c = a.getParent();\n\n    if (c) {\n      if (b.parentId = c.id, a = c.getInputWithBlock(a)) b.inputName = a.name;\n    } else b.coordinate = a.getRelativeToSurfaceXY();\n\n    return b;\n  };\n\n  Blockly.Events.Move.prototype.isNull = function () {\n    return this.oldParentId == this.newParentId && this.oldInputName == this.newInputName && Blockly.utils.Coordinate.equals(this.oldCoordinate, this.newCoordinate);\n  };\n\n  Blockly.Events.Move.prototype.run = function (a) {\n    var b = this.getEventWorkspace_(),\n        c = b.getBlockById(this.blockId);\n\n    if (c) {\n      var d = a ? this.newParentId : this.oldParentId,\n          e = a ? this.newInputName : this.oldInputName;\n      a = a ? this.newCoordinate : this.oldCoordinate;\n      var f = null;\n\n      if (d && (f = b.getBlockById(d), !f)) {\n        console.warn(\"Can't connect to non-existent block: \" + d);\n        return;\n      }\n\n      c.getParent() && c.unplug();\n      if (a) e = c.getRelativeToSurfaceXY(), c.moveBy(a.x - e.x, a.y - e.y);else {\n        c = c.outputConnection || c.previousConnection;\n\n        if (e) {\n          if (b = f.getInput(e)) var g = b.connection;\n        } else c.type == Blockly.PREVIOUS_STATEMENT && (g = f.nextConnection);\n\n        g ? c.connect(g) : console.warn(\"Can't connect to non-existent input: \" + e);\n      }\n    } else console.warn(\"Can't move non-existent block: \" + this.blockId);\n  };\n\n  Blockly.Events.FinishedLoading = function (a) {\n    this.workspaceId = a.id;\n    this.group = Blockly.Events.group_;\n    this.recordUndo = !1;\n  };\n\n  goog.inherits(Blockly.Events.FinishedLoading, Blockly.Events.Abstract);\n  Blockly.Events.FinishedLoading.prototype.type = Blockly.Events.FINISHED_LOADING;\n\n  Blockly.Events.FinishedLoading.prototype.toJson = function () {\n    var a = {\n      type: this.type\n    };\n    this.group && (a.group = this.group);\n    this.workspaceId && (a.workspaceId = this.workspaceId);\n    return a;\n  };\n\n  Blockly.Events.FinishedLoading.prototype.fromJson = function (a) {\n    this.workspaceId = a.workspaceId;\n    this.group = a.group;\n  };\n\n  Blockly.Xml = {};\n\n  Blockly.Xml.workspaceToDom = function (a, b) {\n    var c = Blockly.utils.xml.createElement(\"xml\"),\n        d = Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(a));\n    d.hasChildNodes() && c.appendChild(d);\n    var e = a.getTopComments(!0);\n    d = 0;\n\n    for (var f; f = e[d]; d++) c.appendChild(f.toXmlWithXY(b));\n\n    e = a.getTopBlocks(!0);\n\n    for (d = 0; f = e[d]; d++) c.appendChild(Blockly.Xml.blockToDomWithXY(f, b));\n\n    return c;\n  };\n\n  Blockly.Xml.variablesToDom = function (a) {\n    for (var b = Blockly.utils.xml.createElement(\"variables\"), c = 0, d; d = a[c]; c++) {\n      var e = Blockly.utils.xml.createElement(\"variable\");\n      e.appendChild(Blockly.utils.xml.createTextNode(d.name));\n      d.type && e.setAttribute(\"type\", d.type);\n      e.id = d.getId();\n      b.appendChild(e);\n    }\n\n    return b;\n  };\n\n  Blockly.Xml.blockToDomWithXY = function (a, b) {\n    var c;\n    a.workspace.RTL && (c = a.workspace.getWidth());\n    var d = Blockly.Xml.blockToDom(a, b),\n        e = a.getRelativeToSurfaceXY();\n    d.setAttribute(\"x\", Math.round(a.workspace.RTL ? c - e.x : e.x));\n    d.setAttribute(\"y\", Math.round(e.y));\n    return d;\n  };\n\n  Blockly.Xml.fieldToDom_ = function (a) {\n    if (a.isSerializable()) {\n      var b = Blockly.utils.xml.createElement(\"field\");\n      b.setAttribute(\"name\", a.name);\n      return a.toXml(b);\n    }\n\n    return null;\n  };\n\n  Blockly.Xml.allFieldsToDom_ = function (a, b) {\n    for (var c = 0, d; d = a.inputList[c]; c++) for (var e = 0, f; f = d.fieldRow[e]; e++) (f = Blockly.Xml.fieldToDom_(f)) && b.appendChild(f);\n  };\n\n  Blockly.Xml.blockToDom = function (a, b) {\n    var c = Blockly.utils.xml.createElement(a.isShadow() ? \"shadow\" : \"block\");\n    c.setAttribute(\"type\", a.type);\n    b || (c.id = a.id);\n\n    if (a.mutationToDom) {\n      var d = a.mutationToDom();\n      d && (d.hasChildNodes() || d.hasAttributes()) && c.appendChild(d);\n    }\n\n    Blockly.Xml.allFieldsToDom_(a, c);\n    var e = a.getCommentText();\n    e && (d = Blockly.utils.xml.createElement(\"comment\"), d.appendChild(Blockly.utils.xml.createTextNode(e)), \"object\" == typeof a.comment && (d.setAttribute(\"pinned\", a.comment.isVisible()), e = a.comment.getBubbleSize(), d.setAttribute(\"h\", e.height), d.setAttribute(\"w\", e.width)), c.appendChild(d));\n    a.data && (d = Blockly.utils.xml.createElement(\"data\"), d.appendChild(Blockly.utils.xml.createTextNode(a.data)), c.appendChild(d));\n    e = 0;\n\n    for (var f; f = a.inputList[e]; e++) {\n      var g,\n          h = !0;\n\n      if (f.type != Blockly.DUMMY_INPUT) {\n        var k = f.connection.targetBlock();\n        f.type == Blockly.INPUT_VALUE ? g = Blockly.utils.xml.createElement(\"value\") : f.type == Blockly.NEXT_STATEMENT && (g = Blockly.utils.xml.createElement(\"statement\"));\n        d = f.connection.getShadowDom();\n        !d || k && k.isShadow() || g.appendChild(Blockly.Xml.cloneShadow_(d, b));\n        k && (g.appendChild(Blockly.Xml.blockToDom(k, b)), h = !1);\n        g.setAttribute(\"name\", f.name);\n        h || c.appendChild(g);\n      }\n    }\n\n    void 0 != a.inputsInline && a.inputsInline != a.inputsInlineDefault && c.setAttribute(\"inline\", a.inputsInline);\n    a.isCollapsed() && c.setAttribute(\"collapsed\", !0);\n    a.isEnabled() || c.setAttribute(\"disabled\", !0);\n    a.isDeletable() || a.isShadow() || c.setAttribute(\"deletable\", !1);\n    a.isMovable() || a.isShadow() || c.setAttribute(\"movable\", !1);\n    a.isEditable() || c.setAttribute(\"editable\", !1);\n    if (e = a.getNextBlock()) g = Blockly.utils.xml.createElement(\"next\"), g.appendChild(Blockly.Xml.blockToDom(e, b)), c.appendChild(g);\n    d = a.nextConnection && a.nextConnection.getShadowDom();\n    !d || e && e.isShadow() || g.appendChild(Blockly.Xml.cloneShadow_(d, b));\n    return c;\n  };\n\n  Blockly.Xml.cloneShadow_ = function (a, b) {\n    for (var c = a = a.cloneNode(!0), d; c;) if (b && \"shadow\" == c.nodeName && c.removeAttribute(\"id\"), c.firstChild) c = c.firstChild;else {\n      for (; c && !c.nextSibling;) d = c, c = c.parentNode, d.nodeType == Node.TEXT_NODE && \"\" == d.data.trim() && c.firstChild != d && Blockly.utils.dom.removeNode(d);\n\n      c && (d = c, c = c.nextSibling, d.nodeType == Node.TEXT_NODE && \"\" == d.data.trim() && Blockly.utils.dom.removeNode(d));\n    }\n\n    return a;\n  };\n\n  Blockly.Xml.domToText = function (a) {\n    return Blockly.utils.xml.domToText(a);\n  };\n\n  Blockly.Xml.domToPrettyText = function (a) {\n    a = Blockly.Xml.domToText(a).split(\"<\");\n\n    for (var b = \"\", c = 1; c < a.length; c++) {\n      var d = a[c];\n      \"/\" == d[0] && (b = b.substring(2));\n      a[c] = b + \"<\" + d;\n      \"/\" != d[0] && \"/>\" != d.slice(-2) && (b += \"  \");\n    }\n\n    a = a.join(\"\\n\");\n    a = a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g, \"$1</$2>\");\n    return a.replace(/^\\n/, \"\");\n  };\n\n  Blockly.Xml.textToDom = function (a) {\n    var b = Blockly.utils.xml.textToDomDocument(a);\n    if (!b || !b.documentElement || b.getElementsByTagName(\"parsererror\").length) throw Error(\"textToDom was unable to parse: \" + a);\n    return b.documentElement;\n  };\n\n  Blockly.Xml.clearWorkspaceAndLoadFromXml = function (a, b) {\n    b.setResizesEnabled(!1);\n    b.clear();\n    var c = Blockly.Xml.domToWorkspace(a, b);\n    b.setResizesEnabled(!0);\n    return c;\n  };\n\n  Blockly.Xml.domToWorkspace = function (a, b) {\n    if (a instanceof Blockly.Workspace) {\n      var c = a;\n      a = b;\n      b = c;\n      console.warn(\"Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.\");\n    }\n\n    var d;\n    b.RTL && (d = b.getWidth());\n    c = [];\n    Blockly.Field.startCache();\n    var e = a.childNodes.length,\n        f = Blockly.Events.getGroup();\n    f || Blockly.Events.setGroup(!0);\n    b.setResizesEnabled && b.setResizesEnabled(!1);\n    var g = !0;\n\n    try {\n      for (var h = 0; h < e; h++) {\n        var k = a.childNodes[h],\n            l = k.nodeName.toLowerCase();\n\n        if (\"block\" == l || \"shadow\" == l && !Blockly.Events.recordUndo) {\n          var n = Blockly.Xml.domToBlock(k, b);\n          c.push(n.id);\n          var m = k.hasAttribute(\"x\") ? parseInt(k.getAttribute(\"x\"), 10) : 10,\n              p = k.hasAttribute(\"y\") ? parseInt(k.getAttribute(\"y\"), 10) : 10;\n          isNaN(m) || isNaN(p) || n.moveBy(b.RTL ? d - m : m, p);\n          g = !1;\n        } else {\n          if (\"shadow\" == l) throw TypeError(\"Shadow block cannot be a top-level block.\");\n          if (\"comment\" == l) b.rendered ? Blockly.WorkspaceCommentSvg.fromXml(k, b, d) : Blockly.WorkspaceComment.fromXml(k, b);else if (\"variables\" == l) {\n            if (g) Blockly.Xml.domToVariables(k, b);else throw Error(\"'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.\");\n            g = !1;\n          }\n        }\n      }\n    } finally {\n      f || Blockly.Events.setGroup(!1), Blockly.Field.stopCache();\n    }\n\n    b.setResizesEnabled && b.setResizesEnabled(!0);\n    Blockly.Events.fire(new Blockly.Events.FinishedLoading(b));\n    return c;\n  };\n\n  Blockly.Xml.appendDomToWorkspace = function (a, b) {\n    if (b.hasOwnProperty(\"scale\")) {\n      var c = Blockly.BlockSvg.TAB_WIDTH;\n\n      try {\n        Blockly.BlockSvg.TAB_WIDTH = 0;\n        var d = b.getBlocksBoundingBox();\n      } finally {\n        Blockly.BlockSvg.TAB_WIDTH = c;\n      }\n    }\n\n    c = Blockly.Xml.domToWorkspace(a, b);\n\n    if (d && d.top != d.bottom) {\n      var e = d.bottom;\n      var f = d.left;\n      var g = Infinity,\n          h = Infinity;\n\n      for (d = 0; d < c.length; d++) {\n        var k = b.getBlockById(c[d]).getRelativeToSurfaceXY();\n        k.y < h && (h = k.y);\n        k.x < g && (g = k.x);\n      }\n\n      e = e - h + Blockly.BlockSvg.SEP_SPACE_Y;\n      f -= g;\n      var l;\n      b.RTL && (l = b.getWidth());\n\n      for (d = 0; d < c.length; d++) b.getBlockById(c[d]).moveBy(b.RTL ? l - f : f, e);\n    }\n\n    return c;\n  };\n\n  Blockly.Xml.domToBlock = function (a, b) {\n    if (a instanceof Blockly.Workspace) {\n      var c = a;\n      a = b;\n      b = c;\n      console.warn(\"Deprecated call to Blockly.Xml.domToBlock, swap the arguments.\");\n    }\n\n    Blockly.Events.disable();\n    c = b.getAllVariables();\n\n    try {\n      var d = Blockly.Xml.domToBlockHeadless_(a, b),\n          e = d.getDescendants(!1);\n\n      if (b.rendered) {\n        d.setConnectionsHidden(!0);\n\n        for (var f = e.length - 1; 0 <= f; f--) e[f].initSvg();\n\n        for (f = e.length - 1; 0 <= f; f--) e[f].render(!1);\n\n        setTimeout(function () {\n          d.workspace && d.setConnectionsHidden(!1);\n        }, 1);\n        d.updateDisabled();\n        b.resizeContents();\n      } else for (f = e.length - 1; 0 <= f; f--) e[f].initModel();\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    if (Blockly.Events.isEnabled()) {\n      e = Blockly.Variables.getAddedVariables(b, c);\n\n      for (f = 0; f < e.length; f++) Blockly.Events.fire(new Blockly.Events.VarCreate(e[f]));\n\n      Blockly.Events.fire(new Blockly.Events.BlockCreate(d));\n    }\n\n    return d;\n  };\n\n  Blockly.Xml.domToVariables = function (a, b) {\n    for (var c = 0, d; d = a.childNodes[c]; c++) if (d.nodeType == Node.ELEMENT_NODE) {\n      var e = d.getAttribute(\"type\"),\n          f = d.getAttribute(\"id\");\n      b.createVariable(d.textContent, e, f);\n    }\n  };\n\n  Blockly.Xml.domToBlockHeadless_ = function (a, b) {\n    var c = null,\n        d = a.getAttribute(\"type\");\n    if (!d) throw TypeError(\"Block type unspecified: \" + a.outerHTML);\n    var e = a.getAttribute(\"id\");\n    c = b.newBlock(d, e);\n    var f = null;\n    e = 0;\n\n    for (var g; g = a.childNodes[e]; e++) if (g.nodeType != Node.TEXT_NODE) {\n      for (var h = f = null, k = 0, l; l = g.childNodes[k]; k++) l.nodeType == Node.ELEMENT_NODE && (\"block\" == l.nodeName.toLowerCase() ? f = l : \"shadow\" == l.nodeName.toLowerCase() && (h = l));\n\n      !f && h && (f = h);\n      k = g.getAttribute(\"name\");\n\n      switch (g.nodeName.toLowerCase()) {\n        case \"mutation\":\n          c.domToMutation && (c.domToMutation(g), c.initSvg && c.initSvg());\n          break;\n\n        case \"comment\":\n          c.setCommentText(g.textContent);\n          var n = g.getAttribute(\"pinned\");\n          n && !c.isInFlyout && setTimeout(function () {\n            c.comment && c.comment.setVisible && c.comment.setVisible(\"true\" == n);\n          }, 1);\n          f = parseInt(g.getAttribute(\"w\"), 10);\n          g = parseInt(g.getAttribute(\"h\"), 10);\n          !isNaN(f) && !isNaN(g) && c.comment && c.comment.setVisible && c.comment.setBubbleSize(f, g);\n          break;\n\n        case \"data\":\n          c.data = g.textContent;\n          break;\n\n        case \"title\":\n        case \"field\":\n          Blockly.Xml.domToField_(c, k, g);\n          break;\n\n        case \"value\":\n        case \"statement\":\n          g = c.getInput(k);\n\n          if (!g) {\n            console.warn(\"Ignoring non-existent input \" + k + \" in block \" + d);\n            break;\n          }\n\n          h && g.connection.setShadowDom(h);\n          if (f) if (f = Blockly.Xml.domToBlockHeadless_(f, b), f.outputConnection) g.connection.connect(f.outputConnection);else if (f.previousConnection) g.connection.connect(f.previousConnection);else throw TypeError(\"Child block does not have output or previous statement.\");\n          break;\n\n        case \"next\":\n          h && c.nextConnection && c.nextConnection.setShadowDom(h);\n\n          if (f) {\n            if (!c.nextConnection) throw TypeError(\"Next statement does not exist.\");\n            if (c.nextConnection.isConnected()) throw TypeError(\"Next statement is already connected.\");\n            f = Blockly.Xml.domToBlockHeadless_(f, b);\n            if (!f.previousConnection) throw TypeError(\"Next block does not have previous statement.\");\n            c.nextConnection.connect(f.previousConnection);\n          }\n\n          break;\n\n        default:\n          console.warn(\"Ignoring unknown tag: \" + g.nodeName);\n      }\n    }\n\n    (e = a.getAttribute(\"inline\")) && c.setInputsInline(\"true\" == e);\n    (e = a.getAttribute(\"disabled\")) && c.setEnabled(\"true\" != e && \"disabled\" != e);\n    (e = a.getAttribute(\"deletable\")) && c.setDeletable(\"true\" == e);\n    (e = a.getAttribute(\"movable\")) && c.setMovable(\"true\" == e);\n    (e = a.getAttribute(\"editable\")) && c.setEditable(\"true\" == e);\n    (e = a.getAttribute(\"collapsed\")) && c.setCollapsed(\"true\" == e);\n\n    if (\"shadow\" == a.nodeName.toLowerCase()) {\n      d = c.getChildren(!1);\n\n      for (e = 0; g = d[e]; e++) if (!g.isShadow()) throw TypeError(\"Shadow block not allowed non-shadow child.\");\n\n      if (c.getVarModels().length) throw TypeError(\"Shadow blocks cannot have variable references.\");\n      c.setShadow(!0);\n    }\n\n    return c;\n  };\n\n  Blockly.Xml.domToField_ = function (a, b, c) {\n    var d = a.getField(b);\n    d ? d.fromXml(c) : console.warn(\"Ignoring non-existent field \" + b + \" in block \" + a.type);\n  };\n\n  Blockly.Xml.deleteNext = function (a) {\n    for (var b = 0, c; c = a.childNodes[b]; b++) if (\"next\" == c.nodeName.toLowerCase()) {\n      a.removeChild(c);\n      break;\n    }\n  };\n\n  Blockly.utils.global.Blockly || (Blockly.utils.global.Blockly = {});\n  Blockly.utils.global.Blockly.Xml || (Blockly.utils.global.Blockly.Xml = {});\n  Blockly.utils.global.Blockly.Xml.domToText = Blockly.Xml.domToText;\n  Blockly.utils.global.Blockly.Xml.domToWorkspace = Blockly.Xml.domToWorkspace;\n  Blockly.utils.global.Blockly.Xml.textToDom = Blockly.Xml.textToDom;\n  Blockly.utils.global.Blockly.Xml.workspaceToDom = Blockly.Xml.workspaceToDom;\n\n  Blockly.Events.CommentBase = function (a) {\n    this.commentId = a.id;\n    this.workspaceId = a.workspace.id;\n    this.group = Blockly.Events.group_;\n    this.recordUndo = Blockly.Events.recordUndo;\n  };\n\n  goog.inherits(Blockly.Events.CommentBase, Blockly.Events.Abstract);\n\n  Blockly.Events.CommentBase.prototype.toJson = function () {\n    var a = {\n      type: this.type\n    };\n    this.group && (a.group = this.group);\n    this.commentId && (a.commentId = this.commentId);\n    return a;\n  };\n\n  Blockly.Events.CommentBase.prototype.fromJson = function (a) {\n    this.commentId = a.commentId;\n    this.group = a.group;\n  };\n\n  Blockly.Events.CommentChange = function (a, b, c) {\n    a && (Blockly.Events.CommentChange.superClass_.constructor.call(this, a), this.oldContents_ = b, this.newContents_ = c);\n  };\n\n  goog.inherits(Blockly.Events.CommentChange, Blockly.Events.CommentBase);\n  Blockly.Events.CommentChange.prototype.type = Blockly.Events.COMMENT_CHANGE;\n\n  Blockly.Events.CommentChange.prototype.toJson = function () {\n    var a = Blockly.Events.CommentChange.superClass_.toJson.call(this);\n    a.newContents = this.newContents_;\n    return a;\n  };\n\n  Blockly.Events.CommentChange.prototype.fromJson = function (a) {\n    Blockly.Events.CommentChange.superClass_.fromJson.call(this, a);\n    this.newContents_ = a.newValue;\n  };\n\n  Blockly.Events.CommentChange.prototype.isNull = function () {\n    return this.oldContents_ == this.newContents_;\n  };\n\n  Blockly.Events.CommentChange.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getCommentById(this.commentId);\n    b ? b.setContent(a ? this.newContents_ : this.oldContents_) : console.warn(\"Can't change non-existent comment: \" + this.commentId);\n  };\n\n  Blockly.Events.CommentCreate = function (a) {\n    a && (Blockly.Events.CommentCreate.superClass_.constructor.call(this, a), this.xml = a.toXmlWithXY());\n  };\n\n  goog.inherits(Blockly.Events.CommentCreate, Blockly.Events.CommentBase);\n  Blockly.Events.CommentCreate.prototype.type = Blockly.Events.COMMENT_CREATE;\n\n  Blockly.Events.CommentCreate.prototype.toJson = function () {\n    var a = Blockly.Events.CommentCreate.superClass_.toJson.call(this);\n    a.xml = Blockly.Xml.domToText(this.xml);\n    return a;\n  };\n\n  Blockly.Events.CommentCreate.prototype.fromJson = function (a) {\n    Blockly.Events.CommentCreate.superClass_.fromJson.call(this, a);\n    this.xml = Blockly.Xml.textToDom(a.xml);\n  };\n\n  Blockly.Events.CommentCreate.prototype.run = function (a) {\n    Blockly.Events.CommentCreateDeleteHelper(this, a);\n  };\n\n  Blockly.Events.CommentCreateDeleteHelper = function (a, b) {\n    var c = a.getEventWorkspace_();\n\n    if (b) {\n      var d = Blockly.utils.xml.createElement(\"xml\");\n      d.appendChild(a.xml);\n      Blockly.Xml.domToWorkspace(d, c);\n    } else (c = c.getCommentById(a.commentId)) ? c.dispose(!1, !1) : console.warn(\"Can't uncreate non-existent comment: \" + a.commentId);\n  };\n\n  Blockly.Events.CommentDelete = function (a) {\n    a && (Blockly.Events.CommentDelete.superClass_.constructor.call(this, a), this.xml = a.toXmlWithXY());\n  };\n\n  goog.inherits(Blockly.Events.CommentDelete, Blockly.Events.CommentBase);\n  Blockly.Events.CommentDelete.prototype.type = Blockly.Events.COMMENT_DELETE;\n\n  Blockly.Events.CommentDelete.prototype.toJson = function () {\n    return Blockly.Events.CommentDelete.superClass_.toJson.call(this);\n  };\n\n  Blockly.Events.CommentDelete.prototype.fromJson = function (a) {\n    Blockly.Events.CommentDelete.superClass_.fromJson.call(this, a);\n  };\n\n  Blockly.Events.CommentDelete.prototype.run = function (a) {\n    Blockly.Events.CommentCreateDeleteHelper(this, !a);\n  };\n\n  Blockly.Events.CommentMove = function (a) {\n    a && (Blockly.Events.CommentMove.superClass_.constructor.call(this, a), this.comment_ = a, this.oldCoordinate_ = a.getXY(), this.newCoordinate_ = null);\n  };\n\n  goog.inherits(Blockly.Events.CommentMove, Blockly.Events.CommentBase);\n\n  Blockly.Events.CommentMove.prototype.recordNew = function () {\n    if (!this.comment_) throw Error(\"Tried to record the new position of a comment on the same event twice.\");\n    this.newCoordinate_ = this.comment_.getXY();\n    this.comment_ = null;\n  };\n\n  Blockly.Events.CommentMove.prototype.type = Blockly.Events.COMMENT_MOVE;\n\n  Blockly.Events.CommentMove.prototype.setOldCoordinate = function (a) {\n    this.oldCoordinate_ = a;\n  };\n\n  Blockly.Events.CommentMove.prototype.toJson = function () {\n    var a = Blockly.Events.CommentMove.superClass_.toJson.call(this);\n    this.newCoordinate_ && (a.newCoordinate = Math.round(this.newCoordinate_.x) + \",\" + Math.round(this.newCoordinate_.y));\n    return a;\n  };\n\n  Blockly.Events.CommentMove.prototype.fromJson = function (a) {\n    Blockly.Events.CommentMove.superClass_.fromJson.call(this, a);\n    a.newCoordinate && (a = a.newCoordinate.split(\",\"), this.newCoordinate_ = new Blockly.utils.Coordinate(parseFloat(a[0]), parseFloat(a[1])));\n  };\n\n  Blockly.Events.CommentMove.prototype.isNull = function () {\n    return Blockly.utils.Coordinate.equals(this.oldCoordinate_, this.newCoordinate_);\n  };\n\n  Blockly.Events.CommentMove.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getCommentById(this.commentId);\n\n    if (b) {\n      a = a ? this.newCoordinate_ : this.oldCoordinate_;\n      var c = b.getXY();\n      b.moveBy(a.x - c.x, a.y - c.y);\n    } else console.warn(\"Can't move non-existent comment: \" + this.commentId);\n  };\n\n  Blockly.WorkspaceComment = function (a, b, c, d, e) {\n    this.id = e && !a.getCommentById(e) ? e : Blockly.utils.genUid();\n    a.addTopComment(this);\n    this.xy_ = new Blockly.utils.Coordinate(0, 0);\n    this.height_ = c;\n    this.width_ = d;\n    this.workspace = a;\n    this.RTL = a.RTL;\n    this.movable_ = this.deletable_ = !0;\n    this.content_ = b;\n    this.isComment = !0;\n    Blockly.WorkspaceComment.fireCreateEvent(this);\n  };\n\n  Blockly.WorkspaceComment.prototype.dispose = function () {\n    this.workspace && (Blockly.Events.isEnabled() && Blockly.Events.fire(new Blockly.Events.CommentDelete(this)), this.workspace.removeTopComment(this), this.workspace = null);\n  };\n\n  Blockly.WorkspaceComment.prototype.getHeight = function () {\n    return this.height_;\n  };\n\n  Blockly.WorkspaceComment.prototype.setHeight = function (a) {\n    this.height_ = a;\n  };\n\n  Blockly.WorkspaceComment.prototype.getWidth = function () {\n    return this.width_;\n  };\n\n  Blockly.WorkspaceComment.prototype.setWidth = function (a) {\n    this.width_ = a;\n  };\n\n  Blockly.WorkspaceComment.prototype.getXY = function () {\n    return new Blockly.utils.Coordinate(this.xy_.x, this.xy_.y);\n  };\n\n  Blockly.WorkspaceComment.prototype.moveBy = function (a, b) {\n    var c = new Blockly.Events.CommentMove(this);\n    this.xy_.translate(a, b);\n    c.recordNew();\n    Blockly.Events.fire(c);\n  };\n\n  Blockly.WorkspaceComment.prototype.isDeletable = function () {\n    return this.deletable_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.WorkspaceComment.prototype.setDeletable = function (a) {\n    this.deletable_ = a;\n  };\n\n  Blockly.WorkspaceComment.prototype.isMovable = function () {\n    return this.movable_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.WorkspaceComment.prototype.setMovable = function (a) {\n    this.movable_ = a;\n  };\n\n  Blockly.WorkspaceComment.prototype.getContent = function () {\n    return this.content_;\n  };\n\n  Blockly.WorkspaceComment.prototype.setContent = function (a) {\n    this.content_ != a && (Blockly.Events.fire(new Blockly.Events.CommentChange(this, this.content_, a)), this.content_ = a);\n  };\n\n  Blockly.WorkspaceComment.prototype.toXmlWithXY = function (a) {\n    a = this.toXml(a);\n    a.setAttribute(\"x\", Math.round(this.xy_.x));\n    a.setAttribute(\"y\", Math.round(this.xy_.y));\n    a.setAttribute(\"h\", this.height_);\n    a.setAttribute(\"w\", this.width_);\n    return a;\n  };\n\n  Blockly.WorkspaceComment.prototype.toXml = function (a) {\n    var b = Blockly.utils.xml.createElement(\"comment\");\n    a || (b.id = this.id);\n    b.textContent = this.getContent();\n    return b;\n  };\n\n  Blockly.WorkspaceComment.fireCreateEvent = function (a) {\n    if (Blockly.Events.isEnabled()) {\n      var b = Blockly.Events.getGroup();\n      b || Blockly.Events.setGroup(!0);\n\n      try {\n        Blockly.Events.fire(new Blockly.Events.CommentCreate(a));\n      } finally {\n        b || Blockly.Events.setGroup(!1);\n      }\n    }\n  };\n\n  Blockly.WorkspaceComment.fromXml = function (a, b) {\n    var c = Blockly.WorkspaceComment.parseAttributes(a);\n    c = new Blockly.WorkspaceComment(b, c.content, c.h, c.w, c.id);\n    var d = parseInt(a.getAttribute(\"x\"), 10),\n        e = parseInt(a.getAttribute(\"y\"), 10);\n    isNaN(d) || isNaN(e) || c.moveBy(d, e);\n    Blockly.WorkspaceComment.fireCreateEvent(c);\n    return c;\n  };\n\n  Blockly.WorkspaceComment.parseAttributes = function (a) {\n    var b = a.getAttribute(\"h\"),\n        c = a.getAttribute(\"w\");\n    return {\n      id: a.getAttribute(\"id\"),\n      h: b ? parseInt(b, 10) : 100,\n      w: c ? parseInt(c, 10) : 100,\n      x: parseInt(a.getAttribute(\"x\"), 10),\n      y: parseInt(a.getAttribute(\"y\"), 10),\n      content: a.textContent\n    };\n  };\n\n  Blockly.Theme = function (a, b) {\n    this.blockStyles_ = a;\n    this.categoryStyles_ = b;\n  };\n\n  Blockly.Theme.prototype.setAllBlockStyles = function (a) {\n    for (var b in a) this.setBlockStyle(b, a[b]);\n  };\n\n  Blockly.Theme.prototype.getAllBlockStyles = function () {\n    return this.blockStyles_;\n  };\n\n  Blockly.Theme.prototype.getBlockStyle = function (a) {\n    return this.blockStyles_[a];\n  };\n\n  Blockly.Theme.prototype.setBlockStyle = function (a, b) {\n    this.blockStyles_[a] = b;\n  };\n\n  Blockly.Theme.prototype.getCategoryStyle = function (a) {\n    return this.categoryStyles_[a];\n  };\n\n  Blockly.Theme.prototype.setCategoryStyle = function (a, b) {\n    this.categoryStyles_[a] = b;\n  };\n\n  Blockly.Themes = {};\n  Blockly.Themes.Classic = {};\n  Blockly.Themes.Classic.defaultBlockStyles = {\n    colour_blocks: {\n      colourPrimary: \"20\"\n    },\n    list_blocks: {\n      colourPrimary: \"260\"\n    },\n    logic_blocks: {\n      colourPrimary: \"210\"\n    },\n    loop_blocks: {\n      colourPrimary: \"120\"\n    },\n    math_blocks: {\n      colourPrimary: \"230\"\n    },\n    procedure_blocks: {\n      colourPrimary: \"290\"\n    },\n    text_blocks: {\n      colourPrimary: \"160\"\n    },\n    variable_blocks: {\n      colourPrimary: \"330\"\n    },\n    variable_dynamic_blocks: {\n      colourPrimary: \"310\"\n    },\n    hat_blocks: {\n      colourPrimary: \"330\",\n      hat: \"cap\"\n    }\n  };\n  Blockly.Themes.Classic.categoryStyles = {\n    colour_category: {\n      colour: \"20\"\n    },\n    list_category: {\n      colour: \"260\"\n    },\n    logic_category: {\n      colour: \"210\"\n    },\n    loop_category: {\n      colour: \"120\"\n    },\n    math_category: {\n      colour: \"230\"\n    },\n    procedure_category: {\n      colour: \"290\"\n    },\n    text_category: {\n      colour: \"160\"\n    },\n    variable_category: {\n      colour: \"330\"\n    },\n    variable_dynamic_category: {\n      colour: \"310\"\n    }\n  };\n  Blockly.Themes.Classic = new Blockly.Theme(Blockly.Themes.Classic.defaultBlockStyles, Blockly.Themes.Classic.categoryStyles);\n\n  Blockly.Workspace = function (a) {\n    this.id = Blockly.utils.genUid();\n    Blockly.Workspace.WorkspaceDB_[this.id] = this;\n    this.options = a || {};\n    this.RTL = !!this.options.RTL;\n    this.horizontalLayout = !!this.options.horizontalLayout;\n    this.toolboxPosition = this.options.toolboxPosition;\n    this.topBlocks_ = [];\n    this.topComments_ = [];\n    this.commentDB_ = Object.create(null);\n    this.listeners_ = [];\n    this.undoStack_ = [];\n    this.redoStack_ = [];\n    this.blockDB_ = Object.create(null);\n    this.typedBlocksDB_ = Object.create(null);\n    this.variableMap_ = new Blockly.VariableMap(this);\n    this.potentialVariableMap_ = null;\n    Blockly.getTheme() || Blockly.setTheme(Blockly.Themes.Classic);\n  };\n\n  Blockly.Workspace.prototype.rendered = !1;\n  Blockly.Workspace.prototype.isClearing = !1;\n  Blockly.Workspace.prototype.MAX_UNDO = 1024;\n  Blockly.Workspace.prototype.connectionDBList = null;\n\n  Blockly.Workspace.prototype.dispose = function () {\n    this.listeners_.length = 0;\n    this.clear();\n    delete Blockly.Workspace.WorkspaceDB_[this.id];\n  };\n\n  Blockly.Workspace.SCAN_ANGLE = 3;\n\n  Blockly.Workspace.prototype.sortObjects_ = function (a, b) {\n    var c = a.getRelativeToSurfaceXY(),\n        d = b.getRelativeToSurfaceXY();\n    return c.y + Blockly.Workspace.prototype.sortObjects_.offset * c.x - (d.y + Blockly.Workspace.prototype.sortObjects_.offset * d.x);\n  };\n\n  Blockly.Workspace.prototype.addTopBlock = function (a) {\n    this.topBlocks_.push(a);\n  };\n\n  Blockly.Workspace.prototype.removeTopBlock = function (a) {\n    if (!Blockly.utils.arrayRemove(this.topBlocks_, a)) throw Error(\"Block not present in workspace's list of top-most blocks.\");\n  };\n\n  Blockly.Workspace.prototype.getTopBlocks = function (a) {\n    var b = [].concat(this.topBlocks_);\n    a && 1 < b.length && (this.sortObjects_.offset = Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), b.sort(this.sortObjects_));\n    return b;\n  };\n\n  Blockly.Workspace.prototype.addTypedBlock = function (a) {\n    this.typedBlocksDB_[a.type] || (this.typedBlocksDB_[a.type] = []);\n    this.typedBlocksDB_[a.type].push(a);\n  };\n\n  Blockly.Workspace.prototype.removeTypedBlock = function (a) {\n    this.typedBlocksDB_[a.type].splice(this.typedBlocksDB_[a.type].indexOf(a), 1);\n    this.typedBlocksDB_[a.type].length || delete this.typedBlocksDB_[a.type];\n  };\n\n  Blockly.Workspace.prototype.getBlocksByType = function (a, b) {\n    if (!this.typedBlocksDB_[a]) return [];\n    var c = this.typedBlocksDB_[a].slice(0);\n    b && 1 < c.length && (this.sortObjects_.offset = Math.sign(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), c.sort(this.sortObjects_));\n    return c;\n  };\n\n  Blockly.Workspace.prototype.addTopComment = function (a) {\n    this.topComments_.push(a);\n    this.commentDB_[a.id] && console.warn('Overriding an existing comment on this workspace, with id \"' + a.id + '\"');\n    this.commentDB_[a.id] = a;\n  };\n\n  Blockly.Workspace.prototype.removeTopComment = function (a) {\n    if (!Blockly.utils.arrayRemove(this.topComments_, a)) throw Error(\"Comment not present in workspace's list of top-most comments.\");\n    delete this.commentDB_[a.id];\n  };\n\n  Blockly.Workspace.prototype.getTopComments = function (a) {\n    var b = [].concat(this.topComments_);\n    a && 1 < b.length && (this.sortObjects_.offset = Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), b.sort(this.sortObjects_));\n    return b;\n  };\n\n  Blockly.Workspace.prototype.getAllBlocks = function (a) {\n    if (a) {\n      a = this.getTopBlocks(!0);\n\n      for (var b = [], c = 0; c < a.length; c++) b.push.apply(b, a[c].getDescendants(!0));\n    } else for (b = this.getTopBlocks(!1), c = 0; c < b.length; c++) b.push.apply(b, b[c].getChildren(!1));\n\n    return b.filter(function (a) {\n      return !a.isInsertionMarker();\n    });\n  };\n\n  Blockly.Workspace.prototype.clear = function () {\n    this.isClearing = !0;\n\n    try {\n      var a = Blockly.Events.getGroup();\n\n      for (a || Blockly.Events.setGroup(!0); this.topBlocks_.length;) this.topBlocks_[0].dispose();\n\n      for (; this.topComments_.length;) this.topComments_[this.topComments_.length - 1].dispose();\n\n      a || Blockly.Events.setGroup(!1);\n      this.variableMap_.clear();\n      this.potentialVariableMap_ && this.potentialVariableMap_.clear();\n    } finally {\n      this.isClearing = !1;\n    }\n  };\n\n  Blockly.Workspace.prototype.renameVariableById = function (a, b) {\n    this.variableMap_.renameVariableById(a, b);\n  };\n\n  Blockly.Workspace.prototype.createVariable = function (a, b, c) {\n    return this.variableMap_.createVariable(a, b, c);\n  };\n\n  Blockly.Workspace.prototype.getVariableUsesById = function (a) {\n    return this.variableMap_.getVariableUsesById(a);\n  };\n\n  Blockly.Workspace.prototype.deleteVariableById = function (a) {\n    this.variableMap_.deleteVariableById(a);\n  };\n\n  Blockly.Workspace.prototype.deleteVariableInternal_ = function (a, b) {\n    this.variableMap_.deleteVariableInternal_(a, b);\n  };\n\n  Blockly.Workspace.prototype.variableIndexOf = function (a) {\n    console.warn(\"Deprecated call to Blockly.Workspace.prototype.variableIndexOf\");\n    return -1;\n  };\n\n  Blockly.Workspace.prototype.getVariable = function (a, b) {\n    return this.variableMap_.getVariable(a, b);\n  };\n\n  Blockly.Workspace.prototype.getVariableById = function (a) {\n    return this.variableMap_.getVariableById(a);\n  };\n\n  Blockly.Workspace.prototype.getVariablesOfType = function (a) {\n    return this.variableMap_.getVariablesOfType(a);\n  };\n\n  Blockly.Workspace.prototype.getVariableTypes = function () {\n    return this.variableMap_.getVariableTypes(this);\n  };\n\n  Blockly.Workspace.prototype.getAllVariables = function () {\n    return this.variableMap_.getAllVariables();\n  };\n\n  Blockly.Workspace.prototype.getWidth = function () {\n    return 0;\n  };\n\n  Blockly.Workspace.prototype.newBlock = function (a, b) {\n    return new Blockly.Block(this, a, b);\n  };\n\n  Blockly.Workspace.prototype.remainingCapacity = function () {\n    return isNaN(this.options.maxBlocks) ? Infinity : this.options.maxBlocks - this.getAllBlocks().length;\n  };\n\n  Blockly.Workspace.prototype.remainingCapacityOfType = function (a) {\n    return this.options.maxInstances ? (this.options.maxInstances[a] || Infinity) - this.getBlocksByType(a).length : Infinity;\n  };\n\n  Blockly.Workspace.prototype.isCapacityAvailable = function (a) {\n    if (!this.hasBlockLimits()) return !0;\n    var b = 0,\n        c;\n\n    for (c in a) {\n      if (a[c] > this.remainingCapacityOfType(c)) return !1;\n      b += a[c];\n    }\n\n    return b > this.remainingCapacity() ? !1 : !0;\n  };\n\n  Blockly.Workspace.prototype.hasBlockLimits = function () {\n    return Infinity != this.options.maxBlocks || !!this.options.maxInstances;\n  };\n\n  Blockly.Workspace.prototype.undo = function (a) {\n    var b = a ? this.redoStack_ : this.undoStack_,\n        c = a ? this.undoStack_ : this.redoStack_,\n        d = b.pop();\n\n    if (d) {\n      for (var e = [d]; b.length && d.group && d.group == b[b.length - 1].group;) e.push(b.pop());\n\n      for (b = 0; d = e[b]; b++) c.push(d);\n\n      e = Blockly.Events.filter(e, a);\n      Blockly.Events.recordUndo = !1;\n\n      try {\n        for (b = 0; d = e[b]; b++) d.run(a);\n      } finally {\n        Blockly.Events.recordUndo = !0;\n      }\n    }\n  };\n\n  Blockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n    Blockly.Events.clearPendingUndo();\n  };\n\n  Blockly.Workspace.prototype.addChangeListener = function (a) {\n    this.listeners_.push(a);\n    return a;\n  };\n\n  Blockly.Workspace.prototype.removeChangeListener = function (a) {\n    Blockly.utils.arrayRemove(this.listeners_, a);\n  };\n\n  Blockly.Workspace.prototype.fireChangeListener = function (a) {\n    if (a.recordUndo) for (this.undoStack_.push(a), this.redoStack_.length = 0; this.undoStack_.length > this.MAX_UNDO && 0 <= this.MAX_UNDO;) this.undoStack_.shift();\n\n    for (var b = 0, c; c = this.listeners_[b]; b++) c(a);\n  };\n\n  Blockly.Workspace.prototype.getBlockById = function (a) {\n    return this.blockDB_[a] || null;\n  };\n\n  Blockly.Workspace.prototype.getCommentById = function (a) {\n    return this.commentDB_[a] || null;\n  };\n\n  Blockly.Workspace.prototype.allInputsFilled = function (a) {\n    for (var b = this.getTopBlocks(!1), c = 0, d; d = b[c]; c++) if (!d.allInputsFilled(a)) return !1;\n\n    return !0;\n  };\n\n  Blockly.Workspace.prototype.getPotentialVariableMap = function () {\n    return this.potentialVariableMap_;\n  };\n\n  Blockly.Workspace.prototype.createPotentialVariableMap = function () {\n    this.potentialVariableMap_ = new Blockly.VariableMap(this);\n  };\n\n  Blockly.Workspace.prototype.getVariableMap = function () {\n    return this.variableMap_;\n  };\n\n  Blockly.Workspace.WorkspaceDB_ = Object.create(null);\n\n  Blockly.Workspace.getById = function (a) {\n    return Blockly.Workspace.WorkspaceDB_[a] || null;\n  };\n\n  Blockly.Workspace.getAll = function () {\n    var a = [],\n        b;\n\n    for (b in Blockly.Workspace.WorkspaceDB_) a.push(Blockly.Workspace.WorkspaceDB_[b]);\n\n    return a;\n  };\n\n  Blockly.Workspace.prototype.clear = Blockly.Workspace.prototype.clear;\n  Blockly.Workspace.prototype.clearUndo = Blockly.Workspace.prototype.clearUndo;\n  Blockly.Workspace.prototype.addChangeListener = Blockly.Workspace.prototype.addChangeListener;\n  Blockly.Workspace.prototype.removeChangeListener = Blockly.Workspace.prototype.removeChangeListener;\n\n  Blockly.Bubble = function (a, b, c, d, e, f) {\n    this.workspace_ = a;\n    this.content_ = b;\n    this.shape_ = c;\n    c = Blockly.Bubble.ARROW_ANGLE;\n    this.workspace_.RTL && (c = -c);\n    this.arrow_radians_ = Blockly.utils.math.toRadians(c);\n    a.getBubbleCanvas().appendChild(this.createDom_(b, !(!e || !f)));\n    this.setAnchorLocation(d);\n    e && f || (b = this.content_.getBBox(), e = b.width + 2 * Blockly.Bubble.BORDER_WIDTH, f = b.height + 2 * Blockly.Bubble.BORDER_WIDTH);\n    this.setBubbleSize(e, f);\n    this.positionBubble_();\n    this.renderArrow_();\n    this.rendered_ = !0;\n    a.options.readOnly || (Blockly.bindEventWithChecks_(this.bubbleBack_, \"mousedown\", this, this.bubbleMouseDown_), this.resizeGroup_ && Blockly.bindEventWithChecks_(this.resizeGroup_, \"mousedown\", this, this.resizeMouseDown_));\n  };\n\n  Blockly.Bubble.BORDER_WIDTH = 6;\n  Blockly.Bubble.ARROW_THICKNESS = 5;\n  Blockly.Bubble.ARROW_ANGLE = 20;\n  Blockly.Bubble.ARROW_BEND = 4;\n  Blockly.Bubble.ANCHOR_RADIUS = 8;\n  Blockly.Bubble.onMouseUpWrapper_ = null;\n  Blockly.Bubble.onMouseMoveWrapper_ = null;\n  Blockly.Bubble.prototype.resizeCallback_ = null;\n\n  Blockly.Bubble.unbindDragEvents_ = function () {\n    Blockly.Bubble.onMouseUpWrapper_ && (Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_), Blockly.Bubble.onMouseUpWrapper_ = null);\n    Blockly.Bubble.onMouseMoveWrapper_ && (Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_), Blockly.Bubble.onMouseMoveWrapper_ = null);\n  };\n\n  Blockly.Bubble.bubbleMouseUp_ = function () {\n    Blockly.Touch.clearTouchIdentifier();\n    Blockly.Bubble.unbindDragEvents_();\n  };\n\n  Blockly.Bubble.prototype.rendered_ = !1;\n  Blockly.Bubble.prototype.anchorXY_ = null;\n  Blockly.Bubble.prototype.relativeLeft_ = 0;\n  Blockly.Bubble.prototype.relativeTop_ = 0;\n  Blockly.Bubble.prototype.width_ = 0;\n  Blockly.Bubble.prototype.height_ = 0;\n  Blockly.Bubble.prototype.autoLayout_ = !0;\n\n  Blockly.Bubble.prototype.createDom_ = function (a, b) {\n    this.bubbleGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, null);\n    var c = {\n      filter: \"url(#\" + this.workspace_.options.embossFilterId + \")\"\n    };\n    Blockly.utils.userAgent.JAVA_FX && (c = {});\n    c = Blockly.utils.dom.createSvgElement(\"g\", c, this.bubbleGroup_);\n    this.bubbleArrow_ = Blockly.utils.dom.createSvgElement(\"path\", {}, c);\n    this.bubbleBack_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyDraggable\",\n      x: 0,\n      y: 0,\n      rx: Blockly.Bubble.BORDER_WIDTH,\n      ry: Blockly.Bubble.BORDER_WIDTH\n    }, c);\n    b ? (this.resizeGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": this.workspace_.RTL ? \"blocklyResizeSW\" : \"blocklyResizeSE\"\n    }, this.bubbleGroup_), c = 2 * Blockly.Bubble.BORDER_WIDTH, Blockly.utils.dom.createSvgElement(\"polygon\", {\n      points: \"0,x x,x x,0\".replace(/x/g, c.toString())\n    }, this.resizeGroup_), Blockly.utils.dom.createSvgElement(\"line\", {\n      \"class\": \"blocklyResizeLine\",\n      x1: c / 3,\n      y1: c - 1,\n      x2: c - 1,\n      y2: c / 3\n    }, this.resizeGroup_), Blockly.utils.dom.createSvgElement(\"line\", {\n      \"class\": \"blocklyResizeLine\",\n      x1: 2 * c / 3,\n      y1: c - 1,\n      x2: c - 1,\n      y2: 2 * c / 3\n    }, this.resizeGroup_)) : this.resizeGroup_ = null;\n    this.bubbleGroup_.appendChild(a);\n    return this.bubbleGroup_;\n  };\n\n  Blockly.Bubble.prototype.getSvgRoot = function () {\n    return this.bubbleGroup_;\n  };\n\n  Blockly.Bubble.prototype.setSvgId = function (a) {\n    this.bubbleGroup_.dataset && (this.bubbleGroup_.dataset.blockId = a);\n  };\n\n  Blockly.Bubble.prototype.bubbleMouseDown_ = function (a) {\n    var b = this.workspace_.getGesture(a);\n    b && b.handleBubbleStart(a, this);\n  };\n\n  Blockly.Bubble.prototype.showContextMenu_ = function (a) {};\n\n  Blockly.Bubble.prototype.isDeletable = function () {\n    return !1;\n  };\n\n  Blockly.Bubble.prototype.resizeMouseDown_ = function (a) {\n    this.promote_();\n    Blockly.Bubble.unbindDragEvents_();\n    Blockly.utils.isRightButton(a) || (this.workspace_.startDrag(a, new Blockly.utils.Coordinate(this.workspace_.RTL ? -this.width_ : this.width_, this.height_)), Blockly.Bubble.onMouseUpWrapper_ = Blockly.bindEventWithChecks_(document, \"mouseup\", this, Blockly.Bubble.bubbleMouseUp_), Blockly.Bubble.onMouseMoveWrapper_ = Blockly.bindEventWithChecks_(document, \"mousemove\", this, this.resizeMouseMove_), Blockly.hideChaff());\n    a.stopPropagation();\n  };\n\n  Blockly.Bubble.prototype.resizeMouseMove_ = function (a) {\n    this.autoLayout_ = !1;\n    a = this.workspace_.moveDrag(a);\n    this.setBubbleSize(this.workspace_.RTL ? -a.x : a.x, a.y);\n    this.workspace_.RTL && this.positionBubble_();\n  };\n\n  Blockly.Bubble.prototype.registerResizeEvent = function (a) {\n    this.resizeCallback_ = a;\n  };\n\n  Blockly.Bubble.prototype.promote_ = function () {\n    var a = this.bubbleGroup_.parentNode;\n    return a.lastChild !== this.bubbleGroup_ ? (a.appendChild(this.bubbleGroup_), !0) : !1;\n  };\n\n  Blockly.Bubble.prototype.setAnchorLocation = function (a) {\n    this.anchorXY_ = a;\n    this.rendered_ && this.positionBubble_();\n  };\n\n  Blockly.Bubble.prototype.layoutBubble_ = function () {\n    var a = this.workspace_.getMetrics();\n    a.viewLeft /= this.workspace_.scale;\n    a.viewWidth /= this.workspace_.scale;\n    a.viewTop /= this.workspace_.scale;\n    a.viewHeight /= this.workspace_.scale;\n    var b = this.getOptimalRelativeLeft_(a),\n        c = this.getOptimalRelativeTop_(a),\n        d = this.shape_.getBBox(),\n        e = {\n      x: b,\n      y: -this.height_ - Blockly.BlockSvg.MIN_BLOCK_Y\n    },\n        f = {\n      x: -this.width_ - 30,\n      y: c\n    };\n    c = {\n      x: d.width,\n      y: c\n    };\n    var g = {\n      x: b,\n      y: d.height\n    };\n    b = d.width < d.height ? c : g;\n    d = d.width < d.height ? g : c;\n    c = this.getOverlap_(e, a);\n    g = this.getOverlap_(f, a);\n    var h = this.getOverlap_(b, a);\n    a = this.getOverlap_(d, a);\n    a = Math.max(c, g, h, a);\n    c == a ? (this.relativeLeft_ = e.x, this.relativeTop_ = e.y) : g == a ? (this.relativeLeft_ = f.x, this.relativeTop_ = f.y) : h == a ? (this.relativeLeft_ = b.x, this.relativeTop_ = b.y) : (this.relativeLeft_ = d.x, this.relativeTop_ = d.y);\n  };\n\n  Blockly.Bubble.prototype.getOverlap_ = function (a, b) {\n    var c = this.workspace_.RTL ? this.anchorXY_.x - a.x - this.width_ : a.x + this.anchorXY_.x,\n        d = a.y + this.anchorXY_.y;\n    return Math.max(0, Math.min(1, (Math.min(c + this.width_, b.viewLeft + b.viewWidth) - Math.max(c, b.viewLeft)) * (Math.min(d + this.height_, b.viewTop + b.viewHeight) - Math.max(d, b.viewTop)) / (this.width_ * this.height_)));\n  };\n\n  Blockly.Bubble.prototype.getOptimalRelativeLeft_ = function (a) {\n    var b = -this.width_ / 4;\n    if (this.width_ > a.viewWidth) return b;\n    if (this.workspace_.RTL) var c = this.anchorXY_.x - b,\n        d = c - this.width_,\n        e = a.viewLeft + a.viewWidth,\n        f = a.viewLeft + Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;else d = b + this.anchorXY_.x, c = d + this.width_, f = a.viewLeft, e = a.viewLeft + a.viewWidth - Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;\n    this.workspace_.RTL ? d < f ? b = -(f - this.anchorXY_.x + this.width_) : c > e && (b = -(e - this.anchorXY_.x)) : d < f ? b = f - this.anchorXY_.x : c > e && (b = e - this.anchorXY_.x - this.width_);\n    return b;\n  };\n\n  Blockly.Bubble.prototype.getOptimalRelativeTop_ = function (a) {\n    var b = -this.height_ / 4;\n    if (this.height_ > a.viewHeight) return b;\n    var c = this.anchorXY_.y + b,\n        d = c + this.height_,\n        e = a.viewTop;\n    a = a.viewTop + a.viewHeight - Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;\n    var f = this.anchorXY_.y;\n    c < e ? b = e - f : d > a && (b = a - f - this.height_);\n    return b;\n  };\n\n  Blockly.Bubble.prototype.positionBubble_ = function () {\n    var a = this.anchorXY_.x;\n    a = this.workspace_.RTL ? a - (this.relativeLeft_ + this.width_) : a + this.relativeLeft_;\n    this.moveTo(a, this.relativeTop_ + this.anchorXY_.y);\n  };\n\n  Blockly.Bubble.prototype.moveTo = function (a, b) {\n    this.bubbleGroup_.setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \")\");\n  };\n\n  Blockly.Bubble.prototype.getBubbleSize = function () {\n    return {\n      width: this.width_,\n      height: this.height_\n    };\n  };\n\n  Blockly.Bubble.prototype.setBubbleSize = function (a, b) {\n    var c = 2 * Blockly.Bubble.BORDER_WIDTH;\n    a = Math.max(a, c + 45);\n    b = Math.max(b, c + 20);\n    this.width_ = a;\n    this.height_ = b;\n    this.bubbleBack_.setAttribute(\"width\", a);\n    this.bubbleBack_.setAttribute(\"height\", b);\n    this.resizeGroup_ && (this.workspace_.RTL ? this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + 2 * Blockly.Bubble.BORDER_WIDTH + \",\" + (b - c) + \") scale(-1 1)\") : this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + (a - c) + \",\" + (b - c) + \")\"));\n    this.rendered_ && (this.autoLayout_ && this.layoutBubble_(), this.positionBubble_(), this.renderArrow_());\n    this.resizeCallback_ && this.resizeCallback_();\n  };\n\n  Blockly.Bubble.prototype.renderArrow_ = function () {\n    var a = [],\n        b = this.width_ / 2,\n        c = this.height_ / 2,\n        d = -this.relativeLeft_,\n        e = -this.relativeTop_;\n    if (b == d && c == e) a.push(\"M \" + b + \",\" + c);else {\n      e -= c;\n      d -= b;\n      this.workspace_.RTL && (d *= -1);\n      var f = Math.sqrt(e * e + d * d),\n          g = Math.acos(d / f);\n      0 > e && (g = 2 * Math.PI - g);\n      var h = g + Math.PI / 2;\n      h > 2 * Math.PI && (h -= 2 * Math.PI);\n      var k = Math.sin(h),\n          l = Math.cos(h),\n          n = this.getBubbleSize();\n      h = (n.width + n.height) / Blockly.Bubble.ARROW_THICKNESS;\n      h = Math.min(h, n.width, n.height) / 4;\n      n = 1 - Blockly.Bubble.ANCHOR_RADIUS / f;\n      d = b + n * d;\n      e = c + n * e;\n      n = b + h * l;\n      var m = c + h * k;\n      b -= h * l;\n      c -= h * k;\n      k = g + this.arrow_radians_;\n      k > 2 * Math.PI && (k -= 2 * Math.PI);\n      g = Math.sin(k) * f / Blockly.Bubble.ARROW_BEND;\n      f = Math.cos(k) * f / Blockly.Bubble.ARROW_BEND;\n      a.push(\"M\" + n + \",\" + m);\n      a.push(\"C\" + (n + f) + \",\" + (m + g) + \" \" + d + \",\" + e + \" \" + d + \",\" + e);\n      a.push(\"C\" + d + \",\" + e + \" \" + (b + f) + \",\" + (c + g) + \" \" + b + \",\" + c);\n    }\n    a.push(\"z\");\n    this.bubbleArrow_.setAttribute(\"d\", a.join(\" \"));\n  };\n\n  Blockly.Bubble.prototype.setColour = function (a) {\n    this.bubbleBack_.setAttribute(\"fill\", a);\n    this.bubbleArrow_.setAttribute(\"fill\", a);\n  };\n\n  Blockly.Bubble.prototype.dispose = function () {\n    Blockly.Bubble.unbindDragEvents_();\n    Blockly.utils.dom.removeNode(this.bubbleGroup_);\n    this.shape_ = this.content_ = this.workspace_ = this.resizeGroup_ = this.bubbleBack_ = this.bubbleArrow_ = this.bubbleGroup_ = null;\n  };\n\n  Blockly.Bubble.prototype.moveDuringDrag = function (a, b) {\n    a ? a.translateSurface(b.x, b.y) : this.moveTo(b.x, b.y);\n    this.relativeLeft_ = this.workspace_.RTL ? this.anchorXY_.x - b.x - this.width_ : b.x - this.anchorXY_.x;\n    this.relativeTop_ = b.y - this.anchorXY_.y;\n    this.renderArrow_();\n  };\n\n  Blockly.Bubble.prototype.getRelativeToSurfaceXY = function () {\n    return new Blockly.utils.Coordinate(this.anchorXY_.x + this.relativeLeft_, this.anchorXY_.y + this.relativeTop_);\n  };\n\n  Blockly.Bubble.prototype.setAutoLayout = function (a) {\n    this.autoLayout_ = a;\n  };\n\n  Blockly.Events.Ui = function (a, b, c, d) {\n    Blockly.Events.Ui.superClass_.constructor.call(this);\n    this.blockId = a ? a.id : null;\n    this.workspaceId = a ? a.workspace.id : null;\n    this.element = b;\n    this.oldValue = c;\n    this.newValue = d;\n    this.recordUndo = !1;\n  };\n\n  goog.inherits(Blockly.Events.Ui, Blockly.Events.Abstract);\n  Blockly.Events.Ui.prototype.type = Blockly.Events.UI;\n\n  Blockly.Events.Ui.prototype.toJson = function () {\n    var a = Blockly.Events.Ui.superClass_.toJson.call(this);\n    a.element = this.element;\n    void 0 !== this.newValue && (a.newValue = this.newValue);\n    this.blockId && (a.blockId = this.blockId);\n    return a;\n  };\n\n  Blockly.Events.Ui.prototype.fromJson = function (a) {\n    Blockly.Events.Ui.superClass_.fromJson.call(this, a);\n    this.element = a.element;\n    this.newValue = a.newValue;\n    this.blockId = a.blockId;\n  };\n\n  Blockly.Icon = function (a) {\n    this.block_ = a;\n  };\n\n  Blockly.Icon.prototype.collapseHidden = !0;\n  Blockly.Icon.prototype.SIZE = 17;\n  Blockly.Icon.prototype.bubble_ = null;\n  Blockly.Icon.prototype.iconXY_ = null;\n\n  Blockly.Icon.prototype.createIcon = function () {\n    this.iconGroup_ || (this.iconGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyIconGroup\"\n    }, null), this.block_.isInFlyout && Blockly.utils.dom.addClass(this.iconGroup_, \"blocklyIconGroupReadonly\"), this.drawIcon_(this.iconGroup_), this.block_.getSvgRoot().appendChild(this.iconGroup_), Blockly.bindEventWithChecks_(this.iconGroup_, \"mouseup\", this, this.iconClick_), this.updateEditable());\n  };\n\n  Blockly.Icon.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.iconGroup_);\n    this.iconGroup_ = null;\n    this.setVisible(!1);\n    this.block_ = null;\n  };\n\n  Blockly.Icon.prototype.updateEditable = function () {};\n\n  Blockly.Icon.prototype.isVisible = function () {\n    return !!this.bubble_;\n  };\n\n  Blockly.Icon.prototype.iconClick_ = function (a) {\n    this.block_.workspace.isDragging() || this.block_.isInFlyout || Blockly.utils.isRightButton(a) || this.setVisible(!this.isVisible());\n  };\n\n  Blockly.Icon.prototype.updateColour = function () {\n    this.isVisible() && this.bubble_.setColour(this.block_.getColour());\n  };\n\n  Blockly.Icon.prototype.renderIcon = function (a) {\n    if (this.collapseHidden && this.block_.isCollapsed() || this.block_.isInsertionMarker()) return this.iconGroup_.setAttribute(\"display\", \"none\"), a;\n    this.iconGroup_.setAttribute(\"display\", \"block\");\n    var b = this.SIZE;\n    this.block_.RTL && (a -= b);\n    this.iconGroup_.setAttribute(\"transform\", \"translate(\" + a + \",5)\");\n    this.computeIconLocation();\n    return a = this.block_.RTL ? a - Blockly.BlockSvg.SEP_SPACE_X : a + (b + Blockly.BlockSvg.SEP_SPACE_X);\n  };\n\n  Blockly.Icon.prototype.setIconLocation = function (a) {\n    this.iconXY_ = a;\n    this.isVisible() && this.bubble_.setAnchorLocation(a);\n  };\n\n  Blockly.Icon.prototype.computeIconLocation = function () {\n    var a = this.block_.getRelativeToSurfaceXY(),\n        b = Blockly.utils.getRelativeXY(this.iconGroup_);\n    a = new Blockly.utils.Coordinate(a.x + b.x + this.SIZE / 2, a.y + b.y + this.SIZE / 2);\n    Blockly.utils.Coordinate.equals(this.getIconLocation(), a) || this.setIconLocation(a);\n  };\n\n  Blockly.Icon.prototype.getIconLocation = function () {\n    return this.iconXY_;\n  };\n\n  Blockly.Comment = function (a) {\n    Blockly.Comment.superClass_.constructor.call(this, a);\n    this.createIcon();\n  };\n\n  goog.inherits(Blockly.Comment, Blockly.Icon);\n  Blockly.Comment.prototype.text_ = \"\";\n  Blockly.Comment.prototype.width_ = 160;\n  Blockly.Comment.prototype.height_ = 80;\n\n  Blockly.Comment.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(\"circle\", {\n      \"class\": \"blocklyIconShape\",\n      r: \"8\",\n      cx: \"8\",\n      cy: \"8\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyIconSymbol\",\n      x: \"6.8\",\n      y: \"10.78\",\n      height: \"2\",\n      width: \"2\"\n    }, a);\n  };\n\n  Blockly.Comment.prototype.createEditor_ = function () {\n    this.foreignObject_ = Blockly.utils.dom.createSvgElement(\"foreignObject\", {\n      x: Blockly.Bubble.BORDER_WIDTH,\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    var a = document.createElementNS(Blockly.utils.dom.HTML_NS, \"body\");\n    a.setAttribute(\"xmlns\", Blockly.utils.dom.HTML_NS);\n    a.className = \"blocklyMinimalBody\";\n    var b = document.createElementNS(Blockly.utils.dom.HTML_NS, \"textarea\");\n    b.className = \"blocklyCommentTextarea\";\n    b.setAttribute(\"dir\", this.block_.RTL ? \"RTL\" : \"LTR\");\n    a.appendChild(b);\n    this.textarea_ = b;\n    this.foreignObject_.appendChild(a);\n    Blockly.bindEventWithChecks_(b, \"mouseup\", this, this.textareaFocus_, !0, !0);\n    Blockly.bindEventWithChecks_(b, \"wheel\", this, function (a) {\n      a.stopPropagation();\n    });\n    Blockly.bindEventWithChecks_(b, \"change\", this, function (a) {\n      this.text_ != b.value && (Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_, \"comment\", null, this.text_, b.value)), this.text_ = b.value);\n    });\n    setTimeout(function () {\n      b.focus();\n    }, 0);\n    return this.foreignObject_;\n  };\n\n  Blockly.Comment.prototype.updateEditable = function () {\n    this.isVisible() && (this.setVisible(!1), this.setVisible(!0));\n    Blockly.Icon.prototype.updateEditable.call(this);\n  };\n\n  Blockly.Comment.prototype.resizeBubble_ = function () {\n    if (this.isVisible()) {\n      var a = this.bubble_.getBubbleSize(),\n          b = 2 * Blockly.Bubble.BORDER_WIDTH;\n      this.foreignObject_.setAttribute(\"width\", a.width - b);\n      this.foreignObject_.setAttribute(\"height\", a.height - b);\n      this.textarea_.style.width = a.width - b - 4 + \"px\";\n      this.textarea_.style.height = a.height - b - 4 + \"px\";\n    }\n  };\n\n  Blockly.Comment.prototype.setVisible = function (a) {\n    if (a != this.isVisible()) if (Blockly.Events.fire(new Blockly.Events.Ui(this.block_, \"commentOpen\", !a, a)), !this.block_.isEditable() && !this.textarea_ || Blockly.utils.userAgent.IE) Blockly.Warning.prototype.setVisible.call(this, a);else {\n      var b = this.getText(),\n          c = this.getBubbleSize();\n      a ? (this.bubble_ = new Blockly.Bubble(this.block_.workspace, this.createEditor_(), this.block_.svgPath_, this.iconXY_, this.width_, this.height_), this.bubble_.setSvgId(this.block_.id), this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)), this.updateColour()) : (this.bubble_.dispose(), this.foreignObject_ = this.textarea_ = this.bubble_ = null);\n      this.setText(b);\n      this.setBubbleSize(c.width, c.height);\n    }\n  };\n\n  Blockly.Comment.prototype.textareaFocus_ = function (a) {\n    this.bubble_.promote_() && this.textarea_.focus();\n  };\n\n  Blockly.Comment.prototype.getBubbleSize = function () {\n    return this.isVisible() ? this.bubble_.getBubbleSize() : {\n      width: this.width_,\n      height: this.height_\n    };\n  };\n\n  Blockly.Comment.prototype.setBubbleSize = function (a, b) {\n    this.textarea_ ? this.bubble_.setBubbleSize(a, b) : (this.width_ = a, this.height_ = b);\n  };\n\n  Blockly.Comment.prototype.getText = function () {\n    return this.textarea_ ? this.textarea_.value : this.text_;\n  };\n\n  Blockly.Comment.prototype.setText = function (a) {\n    this.text_ != a && (Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_, \"comment\", null, this.text_, a)), this.text_ = a);\n    this.textarea_ && (this.textarea_.value = a);\n  };\n\n  Blockly.Comment.prototype.dispose = function () {\n    Blockly.Events.isEnabled() && this.setText(\"\");\n    this.block_.comment = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Connection = function (a, b) {\n    this.sourceBlock_ = a;\n    this.type = b;\n    a.workspace.connectionDBList && (this.db_ = a.workspace.connectionDBList[b], this.dbOpposite_ = a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]], this.hidden_ = !this.db_);\n  };\n\n  Blockly.Connection.CAN_CONNECT = 0;\n  Blockly.Connection.REASON_SELF_CONNECTION = 1;\n  Blockly.Connection.REASON_WRONG_TYPE = 2;\n  Blockly.Connection.REASON_TARGET_NULL = 3;\n  Blockly.Connection.REASON_CHECKS_FAILED = 4;\n  Blockly.Connection.REASON_DIFFERENT_WORKSPACES = 5;\n  Blockly.Connection.REASON_SHADOW_PARENT = 6;\n  Blockly.Connection.prototype.targetConnection = null;\n  Blockly.Connection.prototype.check_ = null;\n  Blockly.Connection.prototype.shadowDom_ = null;\n  Blockly.Connection.prototype.x_ = 0;\n  Blockly.Connection.prototype.y_ = 0;\n  Blockly.Connection.prototype.inDB_ = !1;\n  Blockly.Connection.prototype.db_ = null;\n  Blockly.Connection.prototype.dbOpposite_ = null;\n  Blockly.Connection.prototype.hidden_ = null;\n\n  Blockly.Connection.prototype.connect_ = function (a) {\n    var b = this,\n        c = b.getSourceBlock(),\n        d = a.getSourceBlock();\n    a.isConnected() && a.disconnect();\n\n    if (b.isConnected()) {\n      var e = b.targetBlock(),\n          f = b.getShadowDom();\n      b.setShadowDom(null);\n      if (e.isShadow()) f = Blockly.Xml.blockToDom(e), e.dispose(), e = null;else if (b.type == Blockly.INPUT_VALUE) {\n        if (!e.outputConnection) throw Error(\"Orphan block does not have an output connection.\");\n        var g = Blockly.Connection.lastConnectionInRow_(d, e);\n        g && (e.outputConnection.connect(g), e = null);\n      } else if (b.type == Blockly.NEXT_STATEMENT) {\n        if (!e.previousConnection) throw Error(\"Orphan block does not have a previous connection.\");\n\n        for (g = d; g.nextConnection;) {\n          var h = g.getNextBlock();\n          if (h && !h.isShadow()) g = h;else {\n            e.previousConnection.checkType_(g.nextConnection) && (g.nextConnection.connect(e.previousConnection), e = null);\n            break;\n          }\n        }\n      }\n\n      if (e && (b.disconnect(), Blockly.Events.recordUndo)) {\n        var k = Blockly.Events.getGroup();\n        setTimeout(function () {\n          e.workspace && !e.getParent() && (Blockly.Events.setGroup(k), e.outputConnection ? e.outputConnection.bumpAwayFrom_(b) : e.previousConnection && e.previousConnection.bumpAwayFrom_(b), Blockly.Events.setGroup(!1));\n        }, Blockly.BUMP_DELAY);\n      }\n\n      b.setShadowDom(f);\n    }\n\n    var l;\n    Blockly.Events.isEnabled() && (l = new Blockly.Events.BlockMove(d));\n    Blockly.Connection.connectReciprocally_(b, a);\n    d.setParent(c);\n    l && (l.recordNew(), Blockly.Events.fire(l));\n  };\n\n  Blockly.Connection.prototype.dispose = function () {\n    if (this.isConnected()) throw Error(\"Disconnect connection before disposing of it.\");\n    this.inDB_ && this.db_.removeConnection_(this);\n  };\n\n  Blockly.Connection.prototype.getSourceBlock = function () {\n    return this.sourceBlock_;\n  };\n\n  Blockly.Connection.prototype.isSuperior = function () {\n    return this.type == Blockly.INPUT_VALUE || this.type == Blockly.NEXT_STATEMENT;\n  };\n\n  Blockly.Connection.prototype.isConnected = function () {\n    return !!this.targetConnection;\n  };\n\n  Blockly.Connection.prototype.canConnectWithReason_ = function (a) {\n    if (!a) return Blockly.Connection.REASON_TARGET_NULL;\n    if (this.isSuperior()) var b = this.sourceBlock_,\n        c = a.getSourceBlock();else c = this.sourceBlock_, b = a.getSourceBlock();\n    return b && b == c ? Blockly.Connection.REASON_SELF_CONNECTION : a.type != Blockly.OPPOSITE_TYPE[this.type] ? Blockly.Connection.REASON_WRONG_TYPE : b && c && b.workspace !== c.workspace ? Blockly.Connection.REASON_DIFFERENT_WORKSPACES : this.checkType_(a) ? b.isShadow() && !c.isShadow() ? Blockly.Connection.REASON_SHADOW_PARENT : Blockly.Connection.CAN_CONNECT : Blockly.Connection.REASON_CHECKS_FAILED;\n  };\n\n  Blockly.Connection.prototype.checkConnection_ = function (a) {\n    switch (this.canConnectWithReason_(a)) {\n      case Blockly.Connection.CAN_CONNECT:\n        break;\n\n      case Blockly.Connection.REASON_SELF_CONNECTION:\n        throw Error(\"Attempted to connect a block to itself.\");\n\n      case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:\n        throw Error(\"Blocks not on same workspace.\");\n\n      case Blockly.Connection.REASON_WRONG_TYPE:\n        throw Error(\"Attempt to connect incompatible types.\");\n\n      case Blockly.Connection.REASON_TARGET_NULL:\n        throw Error(\"Target connection is null.\");\n\n      case Blockly.Connection.REASON_CHECKS_FAILED:\n        throw Error(\"Connection checks failed. \" + (this + \" expected \" + this.check_ + \", found \" + a.check_));\n\n      case Blockly.Connection.REASON_SHADOW_PARENT:\n        throw Error(\"Connecting non-shadow to shadow block.\");\n\n      default:\n        throw Error(\"Unknown connection failure: this should never happen!\");\n    }\n  };\n\n  Blockly.Connection.prototype.canConnectToPrevious_ = function (a) {\n    if (this.targetConnection || -1 != Blockly.draggingConnections_.indexOf(a)) return !1;\n    if (!a.targetConnection) return !0;\n    a = a.targetBlock();\n    return a.isInsertionMarker() ? !a.getPreviousBlock() : !1;\n  };\n\n  Blockly.Connection.prototype.isConnectionAllowed = function (a) {\n    if (a.sourceBlock_.isInsertionMarker() || this.canConnectWithReason_(a) != Blockly.Connection.CAN_CONNECT) return !1;\n\n    switch (a.type) {\n      case Blockly.PREVIOUS_STATEMENT:\n        return this.canConnectToPrevious_(a);\n\n      case Blockly.OUTPUT_VALUE:\n        if (a.isConnected() && !a.targetBlock().isInsertionMarker() || this.isConnected()) return !1;\n        break;\n\n      case Blockly.INPUT_VALUE:\n        if (a.isConnected() && !a.targetBlock().isMovable() && !a.targetBlock().isShadow()) return !1;\n        break;\n\n      case Blockly.NEXT_STATEMENT:\n        if (a.isConnected() && !this.sourceBlock_.nextConnection && !a.targetBlock().isShadow() && a.targetBlock().nextConnection) return !1;\n        break;\n\n      default:\n        throw Error(\"Unknown connection type in isConnectionAllowed\");\n    }\n\n    return -1 != Blockly.draggingConnections_.indexOf(a) ? !1 : !0;\n  };\n\n  Blockly.Connection.prototype.connect = function (a) {\n    if (this.targetConnection != a) {\n      this.checkConnection_(a);\n      var b = Blockly.Events.getGroup();\n      b || Blockly.Events.setGroup(!0);\n      this.isSuperior() ? this.connect_(a) : a.connect_(this);\n      b || Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.Connection.connectReciprocally_ = function (a, b) {\n    if (!a || !b) throw Error(\"Cannot connect null connections.\");\n    a.targetConnection = b;\n    b.targetConnection = a;\n  };\n\n  Blockly.Connection.singleConnection_ = function (a, b) {\n    for (var c = !1, d = 0; d < a.inputList.length; d++) {\n      var e = a.inputList[d].connection;\n\n      if (e && e.type == Blockly.INPUT_VALUE && b.outputConnection.checkType_(e)) {\n        if (c) return null;\n        c = e;\n      }\n    }\n\n    return c;\n  };\n\n  Blockly.Connection.lastConnectionInRow_ = function (a, b) {\n    for (var c = a, d; d = Blockly.Connection.singleConnection_(c, b);) if (c = d.targetBlock(), !c || c.isShadow()) return d;\n\n    return null;\n  };\n\n  Blockly.Connection.prototype.disconnect = function () {\n    var a = this.targetConnection;\n    if (!a) throw Error(\"Source connection not connected.\");\n    if (a.targetConnection != this) throw Error(\"Target connection not connected to source connection.\");\n\n    if (this.isSuperior()) {\n      var b = this.sourceBlock_;\n      var c = a.getSourceBlock();\n      a = this;\n    } else b = a.getSourceBlock(), c = this.sourceBlock_;\n\n    var d = Blockly.Events.getGroup();\n    d || Blockly.Events.setGroup(!0);\n    this.disconnectInternal_(b, c);\n    a.respawnShadow_();\n    d || Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.Connection.prototype.disconnectInternal_ = function (a, b) {\n    var c;\n    Blockly.Events.isEnabled() && (c = new Blockly.Events.BlockMove(b));\n    this.targetConnection = this.targetConnection.targetConnection = null;\n    b.setParent(null);\n    c && (c.recordNew(), Blockly.Events.fire(c));\n  };\n\n  Blockly.Connection.prototype.respawnShadow_ = function () {\n    var a = this.getSourceBlock(),\n        b = this.getShadowDom();\n    if (a.workspace && b && Blockly.Events.recordUndo) if (a = Blockly.Xml.domToBlock(b, a.workspace), a.outputConnection) this.connect(a.outputConnection);else if (a.previousConnection) this.connect(a.previousConnection);else throw Error(\"Child block does not have output or previous statement.\");\n  };\n\n  Blockly.Connection.prototype.targetBlock = function () {\n    return this.isConnected() ? this.targetConnection.getSourceBlock() : null;\n  };\n\n  Blockly.Connection.prototype.checkType_ = function (a) {\n    if (!this.check_ || !a.check_) return !0;\n\n    for (var b = 0; b < this.check_.length; b++) if (-1 != a.check_.indexOf(this.check_[b])) return !0;\n\n    return !1;\n  };\n\n  Blockly.Connection.prototype.onCheckChanged_ = function () {\n    this.isConnected() && !this.checkType_(this.targetConnection) && (this.isSuperior() ? this.targetBlock() : this.sourceBlock_).unplug();\n  };\n\n  Blockly.Connection.prototype.setCheck = function (a) {\n    a ? (Array.isArray(a) || (a = [a]), this.check_ = a, this.onCheckChanged_()) : this.check_ = null;\n    return this;\n  };\n\n  Blockly.Connection.prototype.getCheck = function () {\n    return this.check_;\n  };\n\n  Blockly.Connection.prototype.setShadowDom = function (a) {\n    this.shadowDom_ = a;\n  };\n\n  Blockly.Connection.prototype.getShadowDom = function () {\n    return this.shadowDom_;\n  };\n\n  Blockly.Connection.prototype.neighbours_ = function (a) {\n    return [];\n  };\n\n  Blockly.Connection.prototype.toString = function () {\n    var a = this.sourceBlock_;\n    if (a) {\n      if (a.outputConnection == this) var b = \"Output Connection of \";else if (a.previousConnection == this) b = \"Previous Connection of \";else if (a.nextConnection == this) b = \"Next Connection of \";else {\n        b = null;\n\n        for (var c = 0, d; d = a.inputList[c]; c++) if (d.connection == this) {\n          b = d;\n          break;\n        }\n\n        if (b) b = 'Input \"' + b.name + '\" connection on ';else return console.warn(\"Connection not actually connected to sourceBlock_\"), \"Orphan Connection\";\n      }\n    } else return \"Orphan Connection\";\n    return b + a.toDevString();\n  };\n\n  Blockly.ConnectionDB = function () {\n    this.connections_ = [];\n  };\n\n  Blockly.ConnectionDB.prototype.addConnection = function (a) {\n    if (a.inDB_) throw Error(\"Connection already in database.\");\n\n    if (!a.getSourceBlock().isInFlyout) {\n      var b = this.findPositionForConnection_(a);\n      this.connections_.splice(b, 0, a);\n      a.inDB_ = !0;\n    }\n  };\n\n  Blockly.ConnectionDB.prototype.findConnection = function (a) {\n    if (!this.connections_.length) return -1;\n    var b = this.findPositionForConnection_(a);\n    if (b >= this.connections_.length) return -1;\n\n    for (var c = a.y_, d = b; 0 <= d && this.connections_[d].y_ == c;) {\n      if (this.connections_[d] == a) return d;\n      d--;\n    }\n\n    for (; b < this.connections_.length && this.connections_[b].y_ == c;) {\n      if (this.connections_[b] == a) return b;\n      b++;\n    }\n\n    return -1;\n  };\n\n  Blockly.ConnectionDB.prototype.findPositionForConnection_ = function (a) {\n    if (!this.connections_.length) return 0;\n\n    for (var b = 0, c = this.connections_.length; b < c;) {\n      var d = Math.floor((b + c) / 2);\n      if (this.connections_[d].y_ < a.y_) b = d + 1;else if (this.connections_[d].y_ > a.y_) c = d;else {\n        b = d;\n        break;\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.ConnectionDB.prototype.removeConnection_ = function (a) {\n    if (!a.inDB_) throw Error(\"Connection not in database.\");\n    var b = this.findConnection(a);\n    if (-1 == b) throw Error(\"Unable to find connection in connectionDB.\");\n    a.inDB_ = !1;\n    this.connections_.splice(b, 1);\n  };\n\n  Blockly.ConnectionDB.prototype.getNeighbours = function (a, b) {\n    function c(a) {\n      var c = e - d[a].x_,\n          g = f - d[a].y_;\n      Math.sqrt(c * c + g * g) <= b && l.push(d[a]);\n      return g < b;\n    }\n\n    for (var d = this.connections_, e = a.x_, f = a.y_, g = 0, h = d.length - 2, k = h; g < k;) d[k].y_ < f ? g = k : h = k, k = Math.floor((g + h) / 2);\n\n    var l = [];\n    h = g = k;\n\n    if (d.length) {\n      for (; 0 <= g && c(g);) g--;\n\n      do h++; while (h < d.length && c(h));\n    }\n\n    return l;\n  };\n\n  Blockly.ConnectionDB.prototype.isInYRange_ = function (a, b, c) {\n    return Math.abs(this.connections_[a].y_ - b) <= c;\n  };\n\n  Blockly.ConnectionDB.prototype.searchForClosest = function (a, b, c) {\n    if (!this.connections_.length) return {\n      connection: null,\n      radius: b\n    };\n    var d = a.y_,\n        e = a.x_;\n    a.x_ = e + c.x;\n    a.y_ = d + c.y;\n    var f = this.findPositionForConnection_(a);\n    c = null;\n\n    for (var g = b, h, k = f - 1; 0 <= k && this.isInYRange_(k, a.y_, b);) h = this.connections_[k], a.isConnectionAllowed(h, g) && (c = h, g = h.distanceFrom(a)), k--;\n\n    for (; f < this.connections_.length && this.isInYRange_(f, a.y_, b);) h = this.connections_[f], a.isConnectionAllowed(h, g) && (c = h, g = h.distanceFrom(a)), f++;\n\n    a.x_ = e;\n    a.y_ = d;\n    return {\n      connection: c,\n      radius: g\n    };\n  };\n\n  Blockly.ConnectionDB.init = function () {\n    var a = [];\n    a[Blockly.INPUT_VALUE] = new Blockly.ConnectionDB();\n    a[Blockly.OUTPUT_VALUE] = new Blockly.ConnectionDB();\n    a[Blockly.NEXT_STATEMENT] = new Blockly.ConnectionDB();\n    a[Blockly.PREVIOUS_STATEMENT] = new Blockly.ConnectionDB();\n    return a;\n  };\n\n  Blockly.constants = {};\n  Blockly.LINE_MODE_MULTIPLIER = 40;\n  Blockly.PAGE_MODE_MULTIPLIER = 125;\n  Blockly.DRAG_RADIUS = 5;\n  Blockly.FLYOUT_DRAG_RADIUS = 10;\n  Blockly.SNAP_RADIUS = 28;\n  Blockly.CONNECTING_SNAP_RADIUS = Blockly.SNAP_RADIUS;\n  Blockly.CURRENT_CONNECTION_PREFERENCE = 8;\n  Blockly.INSERTION_MARKER_COLOUR = \"#000000\";\n  Blockly.BUMP_DELAY = 250;\n  Blockly.BUMP_RANDOMNESS = 10;\n  Blockly.COLLAPSE_CHARS = 30;\n  Blockly.LONGPRESS = 750;\n  Blockly.SOUND_LIMIT = 100;\n  Blockly.DRAG_STACK = !0;\n  Blockly.HSV_SATURATION = .45;\n  Blockly.HSV_VALUE = .65;\n  Blockly.SPRITE = {\n    width: 96,\n    height: 124,\n    url: \"sprites.png\"\n  };\n  Blockly.INPUT_VALUE = 1;\n  Blockly.OUTPUT_VALUE = 2;\n  Blockly.NEXT_STATEMENT = 3;\n  Blockly.PREVIOUS_STATEMENT = 4;\n  Blockly.DUMMY_INPUT = 5;\n  Blockly.ALIGN_LEFT = -1;\n  Blockly.ALIGN_CENTRE = 0;\n  Blockly.ALIGN_RIGHT = 1;\n  Blockly.DRAG_NONE = 0;\n  Blockly.DRAG_STICKY = 1;\n  Blockly.DRAG_BEGIN = 1;\n  Blockly.DRAG_FREE = 2;\n  Blockly.OPPOSITE_TYPE = [];\n  Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE] = Blockly.OUTPUT_VALUE;\n  Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE] = Blockly.INPUT_VALUE;\n  Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT] = Blockly.PREVIOUS_STATEMENT;\n  Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT] = Blockly.NEXT_STATEMENT;\n  Blockly.TOOLBOX_AT_TOP = 0;\n  Blockly.TOOLBOX_AT_BOTTOM = 1;\n  Blockly.TOOLBOX_AT_LEFT = 2;\n  Blockly.TOOLBOX_AT_RIGHT = 3;\n  Blockly.DELETE_AREA_NONE = null;\n  Blockly.DELETE_AREA_TRASH = 1;\n  Blockly.DELETE_AREA_TOOLBOX = 2;\n  Blockly.VARIABLE_CATEGORY_NAME = \"VARIABLE\";\n  Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME = \"VARIABLE_DYNAMIC\";\n  Blockly.PROCEDURE_CATEGORY_NAME = \"PROCEDURE\";\n  Blockly.RENAME_VARIABLE_ID = \"RENAME_VARIABLE_ID\";\n  Blockly.DELETE_VARIABLE_ID = \"DELETE_VARIABLE_ID\";\n  Blockly.blockAnimations = {};\n  Blockly.blockAnimations.disconnectPid_ = 0;\n  Blockly.blockAnimations.disconnectGroup_ = null;\n\n  Blockly.blockAnimations.disposeUiEffect = function (a) {\n    var b = a.workspace,\n        c = a.getSvgRoot();\n    b.getAudioManager().play(\"delete\");\n    a = b.getSvgXY(c);\n    c = c.cloneNode(!0);\n    c.translateX_ = a.x;\n    c.translateY_ = a.y;\n    c.setAttribute(\"transform\", \"translate(\" + a.x + \",\" + a.y + \")\");\n    b.getParentSvg().appendChild(c);\n    c.bBox_ = c.getBBox();\n    Blockly.blockAnimations.disposeUiStep_(c, b.RTL, new Date(), b.scale);\n  };\n\n  Blockly.blockAnimations.disposeUiStep_ = function (a, b, c, d) {\n    var e = (new Date() - c) / 150;\n    1 < e ? Blockly.utils.dom.removeNode(a) : (a.setAttribute(\"transform\", \"translate(\" + (a.translateX_ + (b ? -1 : 1) * a.bBox_.width * d / 2 * e) + \",\" + (a.translateY_ + a.bBox_.height * d * e) + \") scale(\" + (1 - e) * d + \")\"), setTimeout(Blockly.blockAnimations.disposeUiStep_, 10, a, b, c, d));\n  };\n\n  Blockly.blockAnimations.connectionUiEffect = function (a) {\n    var b = a.workspace,\n        c = b.scale;\n    b.getAudioManager().play(\"click\");\n\n    if (!(1 > c)) {\n      var d = b.getSvgXY(a.getSvgRoot());\n      a.outputConnection ? (d.x += (a.RTL ? 3 : -3) * c, d.y += 13 * c) : a.previousConnection && (d.x += (a.RTL ? -23 : 23) * c, d.y += 3 * c);\n      a = Blockly.utils.dom.createSvgElement(\"circle\", {\n        cx: d.x,\n        cy: d.y,\n        r: 0,\n        fill: \"none\",\n        stroke: \"#888\",\n        \"stroke-width\": 10\n      }, b.getParentSvg());\n      Blockly.blockAnimations.connectionUiStep_(a, new Date(), c);\n    }\n  };\n\n  Blockly.blockAnimations.connectionUiStep_ = function (a, b, c) {\n    var d = (new Date() - b) / 150;\n    1 < d ? Blockly.utils.dom.removeNode(a) : (a.setAttribute(\"r\", 25 * d * c), a.style.opacity = 1 - d, Blockly.blockAnimations.disconnectPid_ = setTimeout(Blockly.blockAnimations.connectionUiStep_, 10, a, b, c));\n  };\n\n  Blockly.blockAnimations.disconnectUiEffect = function (a) {\n    a.workspace.getAudioManager().play(\"disconnect\");\n\n    if (!(1 > a.workspace.scale)) {\n      var b = a.getHeightWidth().height;\n      b = Math.atan(10 / b) / Math.PI * 180;\n      a.RTL || (b *= -1);\n      Blockly.blockAnimations.disconnectUiStep_(a.getSvgRoot(), b, new Date());\n    }\n  };\n\n  Blockly.blockAnimations.disconnectUiStep_ = function (a, b, c) {\n    var d = (new Date() - c) / 200;\n    1 < d ? a.skew_ = \"\" : (a.skew_ = \"skewX(\" + Math.round(Math.sin(d * Math.PI * 3) * (1 - d) * b) + \")\", Blockly.blockAnimations.disconnectGroup_ = a, Blockly.blockAnimations.disconnectPid_ = setTimeout(Blockly.blockAnimations.disconnectUiStep_, 10, a, b, c));\n    a.setAttribute(\"transform\", a.translate_ + a.skew_);\n  };\n\n  Blockly.blockAnimations.disconnectUiStop = function () {\n    if (Blockly.blockAnimations.disconnectGroup_) {\n      clearTimeout(Blockly.blockAnimations.disconnectPid_);\n      var a = Blockly.blockAnimations.disconnectGroup_;\n      a.skew_ = \"\";\n      a.setAttribute(\"transform\", a.translate_);\n      Blockly.blockAnimations.disconnectGroup_ = null;\n    }\n  };\n\n  Blockly.RenderedConnection = function (a, b) {\n    Blockly.RenderedConnection.superClass_.constructor.call(this, a, b);\n    this.offsetInBlock_ = new Blockly.utils.Coordinate(0, 0);\n  };\n\n  goog.inherits(Blockly.RenderedConnection, Blockly.Connection);\n\n  Blockly.RenderedConnection.prototype.distanceFrom = function (a) {\n    var b = this.x_ - a.x_;\n    a = this.y_ - a.y_;\n    return Math.sqrt(b * b + a * a);\n  };\n\n  Blockly.RenderedConnection.prototype.bumpAwayFrom_ = function (a) {\n    if (!this.sourceBlock_.workspace.isDragging()) {\n      var b = this.sourceBlock_.getRootBlock();\n\n      if (!b.isInFlyout) {\n        var c = !1;\n\n        if (!b.isMovable()) {\n          b = a.getSourceBlock().getRootBlock();\n          if (!b.isMovable()) return;\n          a = this;\n          c = !0;\n        }\n\n        var d = Blockly.selected == b;\n        d || b.addSelect();\n        var e = a.x_ + Blockly.SNAP_RADIUS + Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.x_,\n            f = a.y_ + Blockly.SNAP_RADIUS + Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.y_;\n        c && (f = -f);\n        b.RTL && (e = a.x_ - Blockly.SNAP_RADIUS - Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.x_);\n        b.moveBy(e, f);\n        d || b.removeSelect();\n      }\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.moveTo = function (a, b) {\n    this.inDB_ && this.db_.removeConnection_(this);\n    this.x_ = a;\n    this.y_ = b;\n    this.hidden_ || this.db_.addConnection(this);\n  };\n\n  Blockly.RenderedConnection.prototype.moveBy = function (a, b) {\n    this.moveTo(this.x_ + a, this.y_ + b);\n  };\n\n  Blockly.RenderedConnection.prototype.moveToOffset = function (a) {\n    this.moveTo(a.x + this.offsetInBlock_.x, a.y + this.offsetInBlock_.y);\n  };\n\n  Blockly.RenderedConnection.prototype.setOffsetInBlock = function (a, b) {\n    this.offsetInBlock_.x = a;\n    this.offsetInBlock_.y = b;\n  };\n\n  Blockly.RenderedConnection.prototype.tighten_ = function () {\n    var a = this.targetConnection.x_ - this.x_,\n        b = this.targetConnection.y_ - this.y_;\n\n    if (0 != a || 0 != b) {\n      var c = this.targetBlock(),\n          d = c.getSvgRoot();\n      if (!d) throw Error(\"block is not rendered.\");\n      d = Blockly.utils.getRelativeXY(d);\n      c.getSvgRoot().setAttribute(\"transform\", \"translate(\" + (d.x - a) + \",\" + (d.y - b) + \")\");\n      c.moveConnections_(-a, -b);\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.closest = function (a, b) {\n    return this.dbOpposite_.searchForClosest(this, a, b);\n  };\n\n  Blockly.RenderedConnection.prototype.highlight = function () {\n    var a = this.type == Blockly.INPUT_VALUE || this.type == Blockly.OUTPUT_VALUE ? \"m 0,0 \" + Blockly.BlockSvg.TAB_PATH_DOWN + \" v 5\" : \"m -20,0 h 5 \" + Blockly.BlockSvg.NOTCH_PATH_LEFT + \" h 5\";\n    var b = this.sourceBlock_.getRelativeToSurfaceXY();\n    Blockly.Connection.highlightedPath_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyHighlightedConnectionPath\",\n      d: a,\n      transform: \"translate(\" + (this.x_ - b.x) + \",\" + (this.y_ - b.y) + \")\" + (this.sourceBlock_.RTL ? \" scale(-1 1)\" : \"\")\n    }, this.sourceBlock_.getSvgRoot());\n  };\n\n  Blockly.RenderedConnection.prototype.unhideAll = function () {\n    this.setHidden(!1);\n    var a = [];\n    if (this.type != Blockly.INPUT_VALUE && this.type != Blockly.NEXT_STATEMENT) return a;\n    var b = this.targetBlock();\n\n    if (b) {\n      if (b.isCollapsed()) {\n        var c = [];\n        b.outputConnection && c.push(b.outputConnection);\n        b.nextConnection && c.push(b.nextConnection);\n        b.previousConnection && c.push(b.previousConnection);\n      } else c = b.getConnections_(!0);\n\n      for (var d = 0; d < c.length; d++) a.push.apply(a, c[d].unhideAll());\n\n      a.length || (a[0] = b);\n    }\n\n    return a;\n  };\n\n  Blockly.RenderedConnection.prototype.unhighlight = function () {\n    Blockly.utils.dom.removeNode(Blockly.Connection.highlightedPath_);\n    delete Blockly.Connection.highlightedPath_;\n  };\n\n  Blockly.RenderedConnection.prototype.setHidden = function (a) {\n    (this.hidden_ = a) && this.inDB_ ? this.db_.removeConnection_(this) : a || this.inDB_ || this.db_.addConnection(this);\n  };\n\n  Blockly.RenderedConnection.prototype.hideAll = function () {\n    this.setHidden(!0);\n    if (this.targetConnection) for (var a = this.targetBlock().getDescendants(!1), b = 0; b < a.length; b++) {\n      for (var c = a[b], d = c.getConnections_(!0), e = 0; e < d.length; e++) d[e].setHidden(!0);\n\n      c = c.getIcons();\n\n      for (e = 0; e < c.length; e++) c[e].setVisible(!1);\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.isConnectionAllowed = function (a, b) {\n    return this.distanceFrom(a) > b ? !1 : Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this, a);\n  };\n\n  Blockly.RenderedConnection.prototype.disconnectInternal_ = function (a, b) {\n    Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this, a, b);\n    a.rendered && a.render();\n    b.rendered && (b.updateDisabled(), b.render());\n  };\n\n  Blockly.RenderedConnection.prototype.respawnShadow_ = function () {\n    var a = this.getSourceBlock(),\n        b = this.getShadowDom();\n\n    if (a.workspace && b && Blockly.Events.recordUndo) {\n      Blockly.RenderedConnection.superClass_.respawnShadow_.call(this);\n      b = this.targetBlock();\n      if (!b) throw Error(\"Couldn't respawn the shadow block that should exist here.\");\n      b.initSvg();\n      b.render(!1);\n      a.rendered && a.render();\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.neighbours_ = function (a) {\n    return this.dbOpposite_.getNeighbours(this, a);\n  };\n\n  Blockly.RenderedConnection.prototype.connect_ = function (a) {\n    Blockly.RenderedConnection.superClass_.connect_.call(this, a);\n    var b = this.getSourceBlock();\n    a = a.getSourceBlock();\n    b.rendered && b.updateDisabled();\n    a.rendered && a.updateDisabled();\n    b.rendered && a.rendered && (this.type == Blockly.NEXT_STATEMENT || this.type == Blockly.PREVIOUS_STATEMENT ? a.render() : b.render());\n  };\n\n  Blockly.RenderedConnection.prototype.onCheckChanged_ = function () {\n    this.isConnected() && !this.checkType_(this.targetConnection) && ((this.isSuperior() ? this.targetBlock() : this.sourceBlock_).unplug(), this.sourceBlock_.bumpNeighbours_());\n  };\n\n  Blockly.InsertionMarkerManager = function (a) {\n    this.topBlock_ = Blockly.selected = a;\n    this.workspace_ = a.workspace;\n    this.lastMarker_ = this.lastOnStack_ = null;\n    this.firstMarker_ = this.createMarkerBlock_(this.topBlock_);\n    this.localConnection_ = this.closestConnection_ = null;\n    this.wouldDeleteBlock_ = !1;\n    this.markerConnection_ = null;\n    this.highlightingBlock_ = !1;\n    this.highlightedBlock_ = null;\n    this.availableConnections_ = this.initAvailableConnections_();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.dispose = function () {\n    this.workspace_ = this.topBlock_ = null;\n    this.availableConnections_.length = 0;\n    this.localConnection_ = this.closestConnection_ = null;\n    Blockly.Events.disable();\n\n    try {\n      this.firstMarker_ && (this.firstMarker_.dispose(), this.firstMarker_ = null), this.lastMarker_ && (this.lastMarker_.dispose(), this.lastMarker_ = null);\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    this.highlightedBlock_ = null;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.wouldDeleteBlock = function () {\n    return this.wouldDeleteBlock_;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.wouldConnectBlock = function () {\n    return !!this.closestConnection_;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.applyConnections = function () {\n    if (this.closestConnection_ && (Blockly.Events.disable(), this.hidePreview_(), Blockly.Events.enable(), this.localConnection_.connect(this.closestConnection_), this.topBlock_.rendered)) {\n      var a = this.localConnection_.isSuperior() ? this.closestConnection_ : this.localConnection_;\n      Blockly.blockAnimations.connectionUiEffect(a.getSourceBlock());\n      this.topBlock_.getRootBlock().bringToFront();\n    }\n  };\n\n  Blockly.InsertionMarkerManager.prototype.update = function (a, b) {\n    var c = this.getCandidate_(a);\n    if ((this.wouldDeleteBlock_ = this.shouldDelete_(c, b)) || this.shouldUpdatePreviews_(c, a)) Blockly.Events.disable(), this.maybeHidePreview_(c), this.maybeShowPreview_(c), Blockly.Events.enable();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.createMarkerBlock_ = function (a) {\n    var b = a.type;\n    Blockly.Events.disable();\n\n    try {\n      var c = this.workspace_.newBlock(b);\n      c.setInsertionMarker(!0, a.width);\n      c.setCollapsed(a.isCollapsed());\n\n      if (a.mutationToDom) {\n        var d = a.mutationToDom();\n        d && c.domToMutation(d);\n      }\n\n      for (b = 0; b < a.inputList.length; b++) {\n        var e = a.inputList[b];\n\n        for (d = 0; d < e.fieldRow.length; d++) {\n          var f = e.fieldRow[d];\n          c.setFieldValue(f.getValue(), f.name);\n        }\n      }\n\n      c.initSvg();\n      c.getSvgRoot().setAttribute(\"visibility\", \"hidden\");\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    return c;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.initAvailableConnections_ = function () {\n    var a = this.topBlock_.getConnections_(!1),\n        b = this.topBlock_.lastConnectionInStack();\n    b && b != this.topBlock_.nextConnection && (a.push(b), this.lastOnStack_ = b, this.lastMarker_ = this.createMarkerBlock_(b.sourceBlock_));\n    return a;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.shouldUpdatePreviews_ = function (a, b) {\n    var c = a.local,\n        d = a.closest,\n        e = a.radius;\n\n    if (c && d) {\n      if (this.localConnection_ && this.closestConnection_) {\n        if (this.closestConnection_ == d && this.localConnection_ == c) return !1;\n        c = this.localConnection_.x_ + b.x - this.closestConnection_.x_;\n        var f = this.localConnection_.y_ + b.y - this.closestConnection_.y_;\n        c = Math.sqrt(c * c + f * f);\n        return !(d && e > c - Blockly.CURRENT_CONNECTION_PREFERENCE);\n      }\n\n      if (this.localConnection_ || this.closestConnection_) console.error(\"Only one of localConnection_ and closestConnection_ was set.\");else return !0;\n    } else return !(!this.localConnection_ || !this.closestConnection_);\n\n    console.error(\"Returning true from shouldUpdatePreviews, but it's not clear why.\");\n    return !0;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getCandidate_ = function (a) {\n    for (var b = this.getStartRadius_(), c = null, d = null, e = 0; e < this.availableConnections_.length; e++) {\n      var f = this.availableConnections_[e],\n          g = f.closest(b, a);\n      g.connection && (c = g.connection, d = f, b = g.radius);\n    }\n\n    return {\n      closest: c,\n      local: d,\n      radius: b\n    };\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getStartRadius_ = function () {\n    return this.closestConnection_ && this.localConnection_ ? Blockly.CONNECTING_SNAP_RADIUS : Blockly.SNAP_RADIUS;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.shouldReplace_ = function () {\n    var a = this.closestConnection_,\n        b = this.localConnection_;\n    return b.type == Blockly.OUTPUT_VALUE ? !a.isConnected() || Blockly.Connection.lastConnectionInRow_(this.topBlock_, a.targetConnection.getSourceBlock()) ? !1 : !0 : b == b.sourceBlock_.getFirstStatementConnection() ? !1 : !this.topBlock_.nextConnection && b.type == Blockly.PREVIOUS_STATEMENT && a.isConnected() ? !0 : !1;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.shouldDelete_ = function (a, b) {\n    var c = a && !!a.closest && b != Blockly.DELETE_AREA_TOOLBOX;\n    return !!b && !this.topBlock_.getParent() && this.topBlock_.isDeletable() && !c;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.maybeShowPreview_ = function (a) {\n    if (!this.wouldDeleteBlock_) {\n      var b = a.closest;\n      a = a.local;\n      b && (b == this.closestConnection_ || b.sourceBlock_.isInsertionMarker() ? console.log(\"trying to connect to an insertion marker\") : (this.closestConnection_ = b, this.localConnection_ = a, this.showPreview_()));\n    }\n  };\n\n  Blockly.InsertionMarkerManager.prototype.showPreview_ = function () {\n    this.shouldReplace_() ? this.highlightBlock_() : this.connectMarker_();\n    this.closestConnection_ && this.closestConnection_.highlight();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.maybeHidePreview_ = function (a) {\n    if (a.closest) {\n      var b = this.closestConnection_ != a.closest;\n      a = this.localConnection_ != a.local;\n      this.closestConnection_ && this.localConnection_ && (b || a || this.wouldDeleteBlock_) && this.hidePreview_();\n    } else this.hidePreview_();\n\n    this.localConnection_ = this.closestConnection_ = this.markerConnection_ = null;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.hidePreview_ = function () {\n    this.closestConnection_ && this.closestConnection_.unhighlight();\n    this.highlightingBlock_ ? this.unhighlightBlock_() : this.markerConnection_ && this.disconnectMarker_();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.highlightBlock_ = function () {\n    var a = this.closestConnection_,\n        b = this.localConnection_;\n    a.targetBlock() ? (this.highlightedBlock_ = a.targetBlock(), a.targetBlock().highlightForReplacement(!0)) : b.type == Blockly.OUTPUT_VALUE && (this.highlightedBlock_ = a.sourceBlock_, a.sourceBlock_.highlightShapeForInput(a, !0));\n    this.highlightingBlock_ = !0;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.unhighlightBlock_ = function () {\n    var a = this.closestConnection_;\n    a.type != Blockly.INPUT_VALUE || a.isConnected() ? this.highlightedBlock_.highlightForReplacement(!1) : this.highlightedBlock_.highlightShapeForInput(a, !1);\n    this.highlightedBlock_ = null;\n    this.highlightingBlock_ = !1;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.disconnectMarker_ = function () {\n    if (this.markerConnection_) {\n      var a = this.markerConnection_,\n          b = a.sourceBlock_,\n          c = b.nextConnection,\n          d = b.previousConnection,\n          e = b.outputConnection;\n      e = a.type == Blockly.INPUT_VALUE && !(e && e.targetConnection);\n      !(a != c || d && d.targetConnection) || e ? a.targetBlock().unplug(!1) : a.type == Blockly.NEXT_STATEMENT && a != c ? (c = a.targetConnection, c.sourceBlock_.unplug(!1), d = d ? d.targetConnection : null, b.unplug(!0), d && d.connect(c)) : b.unplug(!0);\n      if (a.targetConnection) throw Error(\"markerConnection_ still connected at the end of disconnectInsertionMarker\");\n      this.markerConnection_ = null;\n      b.getSvgRoot().setAttribute(\"visibility\", \"hidden\");\n    } else console.log(\"No insertion marker connection to disconnect\");\n  };\n\n  Blockly.InsertionMarkerManager.prototype.connectMarker_ = function () {\n    var a = this.localConnection_,\n        b = this.closestConnection_,\n        c = this.lastOnStack_ && a == this.lastOnStack_ ? this.lastMarker_ : this.firstMarker_;\n    a = c.getMatchingConnection(a.sourceBlock_, a);\n    if (a == this.markerConnection_) throw Error(\"Made it to connectMarker_ even though the marker isn't changing\");\n    c.render();\n    c.rendered = !0;\n    c.getSvgRoot().setAttribute(\"visibility\", \"visible\");\n    c.positionNewBlock(c, a, b);\n    a.connect(b);\n    this.markerConnection_ = a;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getInsertionMarkers = function () {\n    var a = [];\n    this.firstMarker_ && a.push(this.firstMarker_);\n    this.lastMarker_ && a.push(this.lastMarker_);\n    return a;\n  };\n\n  Blockly.BlockDragger = function (a, b) {\n    this.draggingBlock_ = a;\n    this.workspace_ = b;\n    this.draggedConnectionManager_ = new Blockly.InsertionMarkerManager(this.draggingBlock_);\n    this.deleteArea_ = null;\n    this.wouldDeleteBlock_ = !1;\n    this.startXY_ = this.draggingBlock_.getRelativeToSurfaceXY();\n    this.dragIconData_ = Blockly.BlockDragger.initIconData_(a);\n  };\n\n  Blockly.BlockDragger.prototype.dispose = function () {\n    this.startWorkspace_ = this.workspace_ = this.draggingBlock_ = null;\n    this.dragIconData_.length = 0;\n    this.draggedConnectionManager_ && (this.draggedConnectionManager_.dispose(), this.draggedConnectionManager_ = null);\n  };\n\n  Blockly.BlockDragger.initIconData_ = function (a) {\n    var b = [];\n    a = a.getDescendants(!1);\n\n    for (var c = 0, d; d = a[c]; c++) {\n      d = d.getIcons();\n\n      for (var e = 0; e < d.length; e++) {\n        var f = {\n          location: d[e].getIconLocation(),\n          icon: d[e]\n        };\n        b.push(f);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.BlockDragger.prototype.startBlockDrag = function (a, b) {\n    Blockly.Events.getGroup() || Blockly.Events.setGroup(!0);\n    this.workspace_.isMutator && this.draggingBlock_.bringToFront();\n    Blockly.Field.startCache();\n    this.workspace_.setResizesEnabled(!1);\n    Blockly.blockAnimations.disconnectUiStop();\n\n    if (this.draggingBlock_.getParent() || b && this.draggingBlock_.nextConnection && this.draggingBlock_.nextConnection.targetBlock()) {\n      this.draggingBlock_.unplug(b);\n      var c = this.pixelsToWorkspaceUnits_(a);\n      c = Blockly.utils.Coordinate.sum(this.startXY_, c);\n      this.draggingBlock_.translate(c.x, c.y);\n      Blockly.blockAnimations.disconnectUiEffect(this.draggingBlock_);\n    }\n\n    this.draggingBlock_.setDragging(!0);\n    this.draggingBlock_.moveToDragSurface_();\n\n    if (c = this.workspace_.getToolbox()) {\n      var d = this.draggingBlock_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\";\n      c.addStyle(d);\n    }\n  };\n\n  Blockly.BlockDragger.prototype.dragBlock = function (a, b) {\n    var c = this.pixelsToWorkspaceUnits_(b),\n        d = Blockly.utils.Coordinate.sum(this.startXY_, c);\n    this.draggingBlock_.moveDuringDrag(d);\n    this.dragIcons_(c);\n    this.deleteArea_ = this.workspace_.isDeleteArea(a);\n    this.draggedConnectionManager_.update(c, this.deleteArea_);\n    this.updateCursorDuringBlockDrag_();\n  };\n\n  Blockly.BlockDragger.prototype.endBlockDrag = function (a, b) {\n    this.dragBlock(a, b);\n    this.dragIconData_ = [];\n    Blockly.Field.stopCache();\n    Blockly.blockAnimations.disconnectUiStop();\n    var c = this.pixelsToWorkspaceUnits_(b),\n        d = Blockly.utils.Coordinate.sum(this.startXY_, c);\n    this.draggingBlock_.moveOffDragSurface_(d);\n    this.maybeDeleteBlock_() || (this.draggingBlock_.moveConnections_(c.x, c.y), this.draggingBlock_.setDragging(!1), this.fireMoveEvent_(), this.draggedConnectionManager_.wouldConnectBlock() ? this.draggedConnectionManager_.applyConnections() : this.draggingBlock_.render(), this.draggingBlock_.scheduleSnapAndBump());\n    this.workspace_.setResizesEnabled(!0);\n    if (c = this.workspace_.getToolbox()) d = this.draggingBlock_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\", c.removeStyle(d);\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.BlockDragger.prototype.fireMoveEvent_ = function () {\n    var a = new Blockly.Events.BlockMove(this.draggingBlock_);\n    a.oldCoordinate = this.startXY_;\n    a.recordNew();\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.BlockDragger.prototype.maybeDeleteBlock_ = function () {\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBlock_ ? (a && setTimeout(a.close.bind(a), 100), this.fireMoveEvent_(), this.draggingBlock_.dispose(!1, !0)) : a && a.close();\n    return this.wouldDeleteBlock_;\n  };\n\n  Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_ = function () {\n    this.wouldDeleteBlock_ = this.draggedConnectionManager_.wouldDeleteBlock();\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBlock_ ? (this.draggingBlock_.setDeleteStyle(!0), this.deleteArea_ == Blockly.DELETE_AREA_TRASH && a && a.setOpen_(!0)) : (this.draggingBlock_.setDeleteStyle(!1), a && a.setOpen_(!1));\n  };\n\n  Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_ = function (a) {\n    a = new Blockly.utils.Coordinate(a.x / this.workspace_.scale, a.y / this.workspace_.scale);\n    this.workspace_.isMutator && a.scale(1 / this.workspace_.options.parentWorkspace.scale);\n    return a;\n  };\n\n  Blockly.BlockDragger.prototype.dragIcons_ = function (a) {\n    for (var b = 0; b < this.dragIconData_.length; b++) {\n      var c = this.dragIconData_[b];\n      c.icon.setIconLocation(Blockly.utils.Coordinate.sum(c.location, a));\n    }\n  };\n\n  Blockly.BlockDragger.prototype.getInsertionMarkers = function () {\n    return this.draggedConnectionManager_ && this.draggedConnectionManager_.getInsertionMarkers ? this.draggedConnectionManager_.getInsertionMarkers() : [];\n  };\n\n  Blockly.utils.Rect = function (a, b, c, d) {\n    this.top = a;\n    this.bottom = b;\n    this.left = c;\n    this.right = d;\n  };\n\n  Blockly.utils.Rect.prototype.contains = function (a, b) {\n    return a >= this.left && a <= this.right && b >= this.top && b <= this.bottom;\n  };\n\n  Blockly.WorkspaceCommentSvg = function (a, b, c, d, e) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyComment\"\n    }, null);\n    this.svgGroup_.translate_ = \"\";\n    this.svgRect_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyCommentRect\",\n      x: 0,\n      y: 0,\n      rx: Blockly.WorkspaceCommentSvg.BORDER_RADIUS,\n      ry: Blockly.WorkspaceCommentSvg.BORDER_RADIUS\n    });\n    this.svgGroup_.appendChild(this.svgRect_);\n    this.rendered_ = !1;\n    this.useDragSurface_ = Blockly.utils.is3dSupported() && !!a.blockDragSurface_;\n    Blockly.WorkspaceCommentSvg.superClass_.constructor.call(this, a, b, c, d, e);\n    this.render();\n  };\n\n  goog.inherits(Blockly.WorkspaceCommentSvg, Blockly.WorkspaceComment);\n  Blockly.WorkspaceCommentSvg.DEFAULT_SIZE = 100;\n\n  Blockly.WorkspaceCommentSvg.prototype.dispose = function () {\n    this.workspace && (Blockly.selected == this && (this.unselect(), this.workspace.cancelCurrentGesture()), Blockly.Events.isEnabled() && Blockly.Events.fire(new Blockly.Events.CommentDelete(this)), Blockly.utils.dom.removeNode(this.svgGroup_), this.svgRect_ = this.svgGroup_ = null, this.disposeInternal_(), Blockly.Events.disable(), Blockly.WorkspaceCommentSvg.superClass_.dispose.call(this), Blockly.Events.enable());\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.initSvg = function () {\n    if (!this.workspace.rendered) throw TypeError(\"Workspace is headless.\");\n    this.workspace.options.readOnly || this.eventsInit_ || (Blockly.bindEventWithChecks_(this.svgRectTarget_, \"mousedown\", this, this.pathMouseDown_), Blockly.bindEventWithChecks_(this.svgHandleTarget_, \"mousedown\", this, this.pathMouseDown_));\n    this.eventsInit_ = !0;\n    this.updateMovable();\n    this.getSvgRoot().parentNode || this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot());\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.pathMouseDown_ = function (a) {\n    var b = this.workspace.getGesture(a);\n    b && b.handleBubbleStart(a, this);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.showContextMenu_ = function (a) {\n    if (!this.workspace.options.readOnly) {\n      var b = [];\n      this.isDeletable() && this.isMovable() && (b.push(Blockly.ContextMenu.commentDuplicateOption(this)), b.push(Blockly.ContextMenu.commentDeleteOption(this)));\n      Blockly.ContextMenu.show(a, b, this.RTL);\n    }\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.select = function () {\n    if (Blockly.selected != this) {\n      var a = null;\n\n      if (Blockly.selected) {\n        a = Blockly.selected.id;\n        Blockly.Events.disable();\n\n        try {\n          Blockly.selected.unselect();\n        } finally {\n          Blockly.Events.enable();\n        }\n      }\n\n      a = new Blockly.Events.Ui(null, \"selected\", a, this.id);\n      a.workspaceId = this.workspace.id;\n      Blockly.Events.fire(a);\n      Blockly.selected = this;\n      this.addSelect();\n    }\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.unselect = function () {\n    if (Blockly.selected == this) {\n      var a = new Blockly.Events.Ui(null, \"selected\", this.id, null);\n      a.workspaceId = this.workspace.id;\n      Blockly.Events.fire(a);\n      Blockly.selected = null;\n      this.removeSelect();\n      this.blurFocus();\n    }\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.addSelect = function () {\n    Blockly.utils.dom.addClass(this.svgGroup_, \"blocklySelected\");\n    this.setFocus();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.removeSelect = function () {\n    Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklySelected\");\n    this.blurFocus();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.addFocus = function () {\n    Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyFocused\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.removeFocus = function () {\n    Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyFocused\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY = function () {\n    var a = 0,\n        b = 0,\n        c = this.useDragSurface_ ? this.workspace.blockDragSurface_.getGroup() : null,\n        d = this.getSvgRoot();\n\n    if (d) {\n      do {\n        var e = Blockly.utils.getRelativeXY(d);\n        a += e.x;\n        b += e.y;\n        this.useDragSurface_ && this.workspace.blockDragSurface_.getCurrentBlock() == d && (e = this.workspace.blockDragSurface_.getSurfaceTranslation(), a += e.x, b += e.y);\n        d = d.parentNode;\n      } while (d && d != this.workspace.getBubbleCanvas() && d != c);\n    }\n\n    return this.xy_ = new Blockly.utils.Coordinate(a, b);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.moveBy = function (a, b) {\n    var c = new Blockly.Events.CommentMove(this),\n        d = this.getRelativeToSurfaceXY();\n    this.translate(d.x + a, d.y + b);\n    this.xy_ = new Blockly.utils.Coordinate(d.x + a, d.y + b);\n    c.recordNew();\n    Blockly.Events.fire(c);\n    this.workspace.resizeContents();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.translate = function (a, b) {\n    this.xy_ = new Blockly.utils.Coordinate(a, b);\n    this.getSvgRoot().setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \")\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.moveToDragSurface_ = function () {\n    if (this.useDragSurface_) {\n      var a = this.getRelativeToSurfaceXY();\n      this.clearTransformAttributes_();\n      this.workspace.blockDragSurface_.translateSurface(a.x, a.y);\n      this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot());\n    }\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.moveOffDragSurface_ = function (a) {\n    this.useDragSurface_ && (this.translate(a.x, a.y), this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()));\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.moveDuringDrag = function (a, b) {\n    a ? a.translateSurface(b.x, b.y) : (this.svgGroup_.translate_ = \"translate(\" + b.x + \",\" + b.y + \")\", this.svgGroup_.setAttribute(\"transform\", this.svgGroup_.translate_ + this.svgGroup_.skew_));\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.moveTo = function (a, b) {\n    this.translate(a, b);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.clearTransformAttributes_ = function () {\n    this.getSvgRoot().removeAttribute(\"transform\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.getBoundingRectangle = function () {\n    var a = this.getRelativeToSurfaceXY(),\n        b = this.getHeightWidth(),\n        c = a.y,\n        d = a.y + b.height;\n\n    if (this.RTL) {\n      var e = a.x - b.width;\n      a = a.x;\n    } else e = a.x, a = a.x + b.width;\n\n    return new Blockly.utils.Rect(c, d, e, a);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.updateMovable = function () {\n    this.isMovable() ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDraggable\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDraggable\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setMovable = function (a) {\n    Blockly.WorkspaceCommentSvg.superClass_.setMovable.call(this, a);\n    this.updateMovable();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setDragging = function (a) {\n    a ? (a = this.getSvgRoot(), a.translate_ = \"\", a.skew_ = \"\", Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDragging\")) : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDragging\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.getSvgRoot = function () {\n    return this.svgGroup_;\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.getContent = function () {\n    return this.textarea_ ? this.textarea_.value : this.content_;\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setContent = function (a) {\n    Blockly.WorkspaceCommentSvg.superClass_.setContent.call(this, a);\n    this.textarea_ && (this.textarea_.value = a);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setDeleteStyle = function (a) {\n    a ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDraggingDelete\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDraggingDelete\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setAutoLayout = function () {};\n\n  Blockly.WorkspaceCommentSvg.fromXml = function (a, b, c) {\n    Blockly.Events.disable();\n\n    try {\n      var d = Blockly.WorkspaceComment.parseAttributes(a),\n          e = new Blockly.WorkspaceCommentSvg(b, d.content, d.h, d.w, d.id);\n      b.rendered && (e.initSvg(), e.render(!1));\n      if (!isNaN(d.x) && !isNaN(d.y)) if (b.RTL) {\n        var f = c || b.getWidth();\n        e.moveBy(f - d.x, d.y);\n      } else e.moveBy(d.x, d.y);\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.WorkspaceComment.fireCreateEvent(e);\n    return e;\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.toXmlWithXY = function (a) {\n    var b;\n    this.workspace.RTL && (b = this.workspace.getWidth());\n    a = this.toXml(a);\n    var c = this.getRelativeToSurfaceXY();\n    a.setAttribute(\"x\", Math.round(this.workspace.RTL ? b - c.x : c.x));\n    a.setAttribute(\"y\", Math.round(c.y));\n    a.setAttribute(\"h\", this.getHeight());\n    a.setAttribute(\"w\", this.getWidth());\n    return a;\n  };\n\n  Blockly.BubbleDragger = function (a, b) {\n    this.draggingBubble_ = a;\n    this.workspace_ = b;\n    this.deleteArea_ = null;\n    this.wouldDeleteBubble_ = !1;\n    this.startXY_ = this.draggingBubble_.getRelativeToSurfaceXY();\n    this.dragSurface_ = Blockly.utils.is3dSupported() && b.getBlockDragSurface() ? b.getBlockDragSurface() : null;\n  };\n\n  Blockly.BubbleDragger.prototype.dispose = function () {\n    this.dragSurface_ = this.workspace_ = this.draggingBubble_ = null;\n  };\n\n  Blockly.BubbleDragger.prototype.startBubbleDrag = function () {\n    Blockly.Events.getGroup() || Blockly.Events.setGroup(!0);\n    this.workspace_.setResizesEnabled(!1);\n    this.draggingBubble_.setAutoLayout(!1);\n    this.dragSurface_ && this.moveToDragSurface_();\n    this.draggingBubble_.setDragging && this.draggingBubble_.setDragging(!0);\n    var a = this.workspace_.getToolbox();\n\n    if (a) {\n      var b = this.draggingBubble_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\";\n      a.addStyle(b);\n    }\n  };\n\n  Blockly.BubbleDragger.prototype.dragBubble = function (a, b) {\n    var c = this.pixelsToWorkspaceUnits_(b);\n    c = Blockly.utils.Coordinate.sum(this.startXY_, c);\n    this.draggingBubble_.moveDuringDrag(this.dragSurface_, c);\n    this.draggingBubble_.isDeletable() && (this.deleteArea_ = this.workspace_.isDeleteArea(a), this.updateCursorDuringBubbleDrag_());\n  };\n\n  Blockly.BubbleDragger.prototype.maybeDeleteBubble_ = function () {\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBubble_ ? (a && setTimeout(a.close.bind(a), 100), this.fireMoveEvent_(), this.draggingBubble_.dispose(!1, !0)) : a && a.close();\n    return this.wouldDeleteBubble_;\n  };\n\n  Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_ = function () {\n    this.wouldDeleteBubble_ = this.deleteArea_ != Blockly.DELETE_AREA_NONE;\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBubble_ ? (this.draggingBubble_.setDeleteStyle(!0), this.deleteArea_ == Blockly.DELETE_AREA_TRASH && a && a.setOpen_(!0)) : (this.draggingBubble_.setDeleteStyle(!1), a && a.setOpen_(!1));\n  };\n\n  Blockly.BubbleDragger.prototype.endBubbleDrag = function (a, b) {\n    this.dragBubble(a, b);\n    var c = this.pixelsToWorkspaceUnits_(b);\n    c = Blockly.utils.Coordinate.sum(this.startXY_, c);\n    this.draggingBubble_.moveTo(c.x, c.y);\n    this.maybeDeleteBubble_() || (this.dragSurface_ && this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()), this.draggingBubble_.setDragging && this.draggingBubble_.setDragging(!1), this.fireMoveEvent_());\n    this.workspace_.setResizesEnabled(!0);\n    this.workspace_.toolbox_ && (c = this.draggingBubble_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\", this.workspace_.toolbox_.removeStyle(c));\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.BubbleDragger.prototype.fireMoveEvent_ = function () {\n    if (this.draggingBubble_.isComment) {\n      var a = new Blockly.Events.CommentMove(this.draggingBubble_);\n      a.setOldCoordinate(this.startXY_);\n      a.recordNew();\n      Blockly.Events.fire(a);\n    }\n  };\n\n  Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_ = function (a) {\n    a = new Blockly.utils.Coordinate(a.x / this.workspace_.scale, a.y / this.workspace_.scale);\n    this.workspace_.isMutator && a.scale(1 / this.workspace_.options.parentWorkspace.scale);\n    return a;\n  };\n\n  Blockly.BubbleDragger.prototype.moveToDragSurface_ = function () {\n    this.draggingBubble_.moveTo(0, 0);\n    this.dragSurface_.translateSurface(this.startXY_.x, this.startXY_.y);\n    this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot());\n  };\n\n  Blockly.WorkspaceDragger = function (a) {\n    this.workspace_ = a;\n    this.startScrollXY_ = new Blockly.utils.Coordinate(a.scrollX, a.scrollY);\n  };\n\n  Blockly.WorkspaceDragger.prototype.dispose = function () {\n    this.workspace_ = null;\n  };\n\n  Blockly.WorkspaceDragger.prototype.startDrag = function () {\n    Blockly.selected && Blockly.selected.unselect();\n    this.workspace_.setupDragSurface();\n  };\n\n  Blockly.WorkspaceDragger.prototype.endDrag = function (a) {\n    this.drag(a);\n    this.workspace_.resetDragSurface();\n  };\n\n  Blockly.WorkspaceDragger.prototype.drag = function (a) {\n    a = Blockly.utils.Coordinate.sum(this.startScrollXY_, a);\n    this.workspace_.scroll(a.x, a.y);\n  };\n\n  Blockly.FlyoutDragger = function (a) {\n    Blockly.FlyoutDragger.superClass_.constructor.call(this, a.getWorkspace());\n    this.scrollbar_ = a.scrollbar_;\n    this.horizontalLayout_ = a.horizontalLayout_;\n  };\n\n  goog.inherits(Blockly.FlyoutDragger, Blockly.WorkspaceDragger);\n\n  Blockly.FlyoutDragger.prototype.updateScroll_ = function (a, b) {\n    this.horizontalLayout_ ? this.scrollbar_.set(a) : this.scrollbar_.set(b);\n  };\n\n  Blockly.Tooltip = {};\n  Blockly.Tooltip.visible = !1;\n  Blockly.Tooltip.blocked_ = !1;\n  Blockly.Tooltip.LIMIT = 50;\n  Blockly.Tooltip.mouseOutPid_ = 0;\n  Blockly.Tooltip.showPid_ = 0;\n  Blockly.Tooltip.lastX_ = 0;\n  Blockly.Tooltip.lastY_ = 0;\n  Blockly.Tooltip.element_ = null;\n  Blockly.Tooltip.poisonedElement_ = null;\n  Blockly.Tooltip.OFFSET_X = 0;\n  Blockly.Tooltip.OFFSET_Y = 10;\n  Blockly.Tooltip.RADIUS_OK = 10;\n  Blockly.Tooltip.HOVER_MS = 750;\n  Blockly.Tooltip.MARGINS = 5;\n  Blockly.Tooltip.DIV = null;\n\n  Blockly.Tooltip.createDom = function () {\n    Blockly.Tooltip.DIV || (Blockly.Tooltip.DIV = document.createElement(\"div\"), Blockly.Tooltip.DIV.className = \"blocklyTooltipDiv\", document.body.appendChild(Blockly.Tooltip.DIV));\n  };\n\n  Blockly.Tooltip.bindMouseEvents = function (a) {\n    Blockly.bindEvent_(a, \"mouseover\", null, Blockly.Tooltip.onMouseOver_);\n    Blockly.bindEvent_(a, \"mouseout\", null, Blockly.Tooltip.onMouseOut_);\n    a.addEventListener(\"mousemove\", Blockly.Tooltip.onMouseMove_, !1);\n  };\n\n  Blockly.Tooltip.onMouseOver_ = function (a) {\n    if (!Blockly.Tooltip.blocked_) {\n      for (a = a.currentTarget; \"string\" != typeof a.tooltip && \"function\" != typeof a.tooltip;) a = a.tooltip;\n\n      Blockly.Tooltip.element_ != a && (Blockly.Tooltip.hide(), Blockly.Tooltip.poisonedElement_ = null, Blockly.Tooltip.element_ = a);\n      clearTimeout(Blockly.Tooltip.mouseOutPid_);\n    }\n  };\n\n  Blockly.Tooltip.onMouseOut_ = function (a) {\n    Blockly.Tooltip.blocked_ || (Blockly.Tooltip.mouseOutPid_ = setTimeout(function () {\n      Blockly.Tooltip.element_ = null;\n      Blockly.Tooltip.poisonedElement_ = null;\n      Blockly.Tooltip.hide();\n    }, 1), clearTimeout(Blockly.Tooltip.showPid_));\n  };\n\n  Blockly.Tooltip.onMouseMove_ = function (a) {\n    if (Blockly.Tooltip.element_ && Blockly.Tooltip.element_.tooltip && !Blockly.Tooltip.blocked_) if (Blockly.Tooltip.visible) {\n      var b = Blockly.Tooltip.lastX_ - a.pageX;\n      a = Blockly.Tooltip.lastY_ - a.pageY;\n      Math.sqrt(b * b + a * a) > Blockly.Tooltip.RADIUS_OK && Blockly.Tooltip.hide();\n    } else Blockly.Tooltip.poisonedElement_ != Blockly.Tooltip.element_ && (clearTimeout(Blockly.Tooltip.showPid_), Blockly.Tooltip.lastX_ = a.pageX, Blockly.Tooltip.lastY_ = a.pageY, Blockly.Tooltip.showPid_ = setTimeout(Blockly.Tooltip.show_, Blockly.Tooltip.HOVER_MS));\n  };\n\n  Blockly.Tooltip.hide = function () {\n    Blockly.Tooltip.visible && (Blockly.Tooltip.visible = !1, Blockly.Tooltip.DIV && (Blockly.Tooltip.DIV.style.display = \"none\"));\n    Blockly.Tooltip.showPid_ && clearTimeout(Blockly.Tooltip.showPid_);\n  };\n\n  Blockly.Tooltip.block = function () {\n    Blockly.Tooltip.hide();\n    Blockly.Tooltip.blocked_ = !0;\n  };\n\n  Blockly.Tooltip.unblock = function () {\n    Blockly.Tooltip.blocked_ = !1;\n  };\n\n  Blockly.Tooltip.show_ = function () {\n    if (!Blockly.Tooltip.blocked_ && (Blockly.Tooltip.poisonedElement_ = Blockly.Tooltip.element_, Blockly.Tooltip.DIV)) {\n      Blockly.Tooltip.DIV.innerHTML = \"\";\n\n      for (var a = Blockly.Tooltip.element_.tooltip; \"function\" == typeof a;) a = a();\n\n      a = Blockly.utils.string.wrap(a, Blockly.Tooltip.LIMIT);\n      a = a.split(\"\\n\");\n\n      for (var b = 0; b < a.length; b++) {\n        var c = document.createElement(\"div\");\n        c.appendChild(document.createTextNode(a[b]));\n        Blockly.Tooltip.DIV.appendChild(c);\n      }\n\n      a = Blockly.Tooltip.element_.RTL;\n      b = document.documentElement.clientWidth;\n      c = document.documentElement.clientHeight;\n      Blockly.Tooltip.DIV.style.direction = a ? \"rtl\" : \"ltr\";\n      Blockly.Tooltip.DIV.style.display = \"block\";\n      Blockly.Tooltip.visible = !0;\n      var d = Blockly.Tooltip.lastX_;\n      d = a ? d - (Blockly.Tooltip.OFFSET_X + Blockly.Tooltip.DIV.offsetWidth) : d + Blockly.Tooltip.OFFSET_X;\n      var e = Blockly.Tooltip.lastY_ + Blockly.Tooltip.OFFSET_Y;\n      e + Blockly.Tooltip.DIV.offsetHeight > c + window.scrollY && (e -= Blockly.Tooltip.DIV.offsetHeight + 2 * Blockly.Tooltip.OFFSET_Y);\n      a ? d = Math.max(Blockly.Tooltip.MARGINS - window.scrollX, d) : d + Blockly.Tooltip.DIV.offsetWidth > b + window.scrollX - 2 * Blockly.Tooltip.MARGINS && (d = b - Blockly.Tooltip.DIV.offsetWidth - 2 * Blockly.Tooltip.MARGINS);\n      Blockly.Tooltip.DIV.style.top = e + \"px\";\n      Blockly.Tooltip.DIV.style.left = d + \"px\";\n    }\n  };\n\n  Blockly.Gesture = function (a, b) {\n    this.startWorkspace_ = this.targetBlock_ = this.startBlock_ = this.startField_ = this.startBubble_ = this.currentDragDeltaXY_ = this.mouseDownXY_ = null;\n    this.creatorWorkspace_ = b;\n    this.isDraggingBubble_ = this.isDraggingBlock_ = this.isDraggingWorkspace_ = this.hasExceededDragRadius_ = !1;\n    this.mostRecentEvent_ = a;\n    this.flyout_ = this.workspaceDragger_ = this.blockDragger_ = this.bubbleDragger_ = this.onUpWrapper_ = this.onMoveWrapper_ = null;\n    this.isEnding_ = this.hasStarted_ = this.calledUpdateIsDragging_ = !1;\n    this.healStack_ = !Blockly.DRAG_STACK;\n  };\n\n  Blockly.Gesture.prototype.dispose = function () {\n    Blockly.Touch.clearTouchIdentifier();\n    Blockly.Tooltip.unblock();\n    this.creatorWorkspace_.clearGesture();\n    this.onMoveWrapper_ && Blockly.unbindEvent_(this.onMoveWrapper_);\n    this.onUpWrapper_ && Blockly.unbindEvent_(this.onUpWrapper_);\n    this.flyout_ = this.startWorkspace_ = this.targetBlock_ = this.startBlock_ = this.startField_ = null;\n    this.blockDragger_ && (this.blockDragger_.dispose(), this.blockDragger_ = null);\n    this.workspaceDragger_ && (this.workspaceDragger_.dispose(), this.workspaceDragger_ = null);\n    this.bubbleDragger_ && (this.bubbleDragger_.dispose(), this.bubbleDragger_ = null);\n  };\n\n  Blockly.Gesture.prototype.updateFromEvent_ = function (a) {\n    var b = new Blockly.utils.Coordinate(a.clientX, a.clientY);\n    this.updateDragDelta_(b) && (this.updateIsDragging_(), Blockly.longStop_());\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.updateDragDelta_ = function (a) {\n    this.currentDragDeltaXY_ = Blockly.utils.Coordinate.difference(a, this.mouseDownXY_);\n    return this.hasExceededDragRadius_ ? !1 : this.hasExceededDragRadius_ = Blockly.utils.Coordinate.magnitude(this.currentDragDeltaXY_) > (this.flyout_ ? Blockly.FLYOUT_DRAG_RADIUS : Blockly.DRAG_RADIUS);\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingFromFlyout_ = function () {\n    return this.flyout_.isBlockCreatable_(this.targetBlock_) ? !this.flyout_.isScrollable() || this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_) ? (this.startWorkspace_ = this.flyout_.targetWorkspace_, this.startWorkspace_.updateScreenCalculationsIfScrolled(), Blockly.Events.getGroup() || Blockly.Events.setGroup(!0), this.startBlock_ = null, this.targetBlock_ = this.flyout_.createBlock(this.targetBlock_), this.targetBlock_.select(), !0) : !1 : !1;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingBubble_ = function () {\n    if (!this.startBubble_) return !1;\n    this.isDraggingBubble_ = !0;\n    this.startDraggingBubble_();\n    return !0;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingBlock_ = function () {\n    if (!this.targetBlock_) return !1;\n    this.flyout_ ? this.isDraggingBlock_ = this.updateIsDraggingFromFlyout_() : this.targetBlock_.isMovable() && (this.isDraggingBlock_ = !0);\n    return this.isDraggingBlock_ ? (this.startDraggingBlock_(), !0) : !1;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingWorkspace_ = function () {\n    if (this.flyout_ ? this.flyout_.isScrollable() : this.startWorkspace_ && this.startWorkspace_.isDraggable()) this.workspaceDragger_ = this.flyout_ ? new Blockly.FlyoutDragger(this.flyout_) : new Blockly.WorkspaceDragger(this.startWorkspace_), this.isDraggingWorkspace_ = !0, this.workspaceDragger_.startDrag();\n  };\n\n  Blockly.Gesture.prototype.updateIsDragging_ = function () {\n    if (this.calledUpdateIsDragging_) throw Error(\"updateIsDragging_ should only be called once per gesture.\");\n    this.calledUpdateIsDragging_ = !0;\n    this.updateIsDraggingBubble_() || this.updateIsDraggingBlock_() || this.updateIsDraggingWorkspace_();\n  };\n\n  Blockly.Gesture.prototype.startDraggingBlock_ = function () {\n    this.blockDragger_ = new Blockly.BlockDragger(this.targetBlock_, this.startWorkspace_);\n    this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_, this.healStack_);\n    this.blockDragger_.dragBlock(this.mostRecentEvent_, this.currentDragDeltaXY_);\n  };\n\n  Blockly.Gesture.prototype.startDraggingBubble_ = function () {\n    this.bubbleDragger_ = new Blockly.BubbleDragger(this.startBubble_, this.startWorkspace_);\n    this.bubbleDragger_.startBubbleDrag();\n    this.bubbleDragger_.dragBubble(this.mostRecentEvent_, this.currentDragDeltaXY_);\n  };\n\n  Blockly.Gesture.prototype.doStart = function (a) {\n    Blockly.utils.isTargetInput(a) ? this.cancel() : (this.hasStarted_ = !0, Blockly.blockAnimations.disconnectUiStop(), this.startWorkspace_.updateScreenCalculationsIfScrolled(), this.startWorkspace_.isMutator && this.startWorkspace_.resize(), this.startWorkspace_.markFocused(), this.mostRecentEvent_ = a, Blockly.hideChaff(!!this.flyout_), Blockly.Tooltip.block(), this.targetBlock_ && this.targetBlock_.select(), Blockly.utils.isRightButton(a) ? this.handleRightClick(a) : (\"touchstart\" != a.type.toLowerCase() && \"pointerdown\" != a.type.toLowerCase() || \"mouse\" == a.pointerType || Blockly.longStart_(a, this), this.mouseDownXY_ = new Blockly.utils.Coordinate(a.clientX, a.clientY), this.healStack_ = a.altKey || a.ctrlKey || a.metaKey, this.bindMouseEvents(a)));\n  };\n\n  Blockly.Gesture.prototype.bindMouseEvents = function (a) {\n    this.onMoveWrapper_ = Blockly.bindEventWithChecks_(document, \"mousemove\", null, this.handleMove.bind(this));\n    this.onUpWrapper_ = Blockly.bindEventWithChecks_(document, \"mouseup\", null, this.handleUp.bind(this));\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.Gesture.prototype.handleMove = function (a) {\n    this.updateFromEvent_(a);\n    this.isDraggingWorkspace_ ? this.workspaceDragger_.drag(this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.dragBlock(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingBubble_ && this.bubbleDragger_.dragBubble(this.mostRecentEvent_, this.currentDragDeltaXY_);\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.Gesture.prototype.handleUp = function (a) {\n    this.updateFromEvent_(a);\n    Blockly.longStop_();\n    this.isEnding_ ? console.log(\"Trying to end a gesture recursively.\") : (this.isEnding_ = !0, this.isDraggingBubble_ ? this.bubbleDragger_.endBubbleDrag(a, this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.endBlockDrag(a, this.currentDragDeltaXY_) : this.isDraggingWorkspace_ ? this.workspaceDragger_.endDrag(this.currentDragDeltaXY_) : this.isBubbleClick_() ? this.doBubbleClick_() : this.isFieldClick_() ? this.doFieldClick_() : this.isBlockClick_() ? this.doBlockClick_() : this.isWorkspaceClick_() && this.doWorkspaceClick_(), a.preventDefault(), a.stopPropagation(), this.dispose());\n  };\n\n  Blockly.Gesture.prototype.cancel = function () {\n    this.isEnding_ || (Blockly.longStop_(), this.isDraggingBubble_ ? this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.endBlockDrag(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingWorkspace_ && this.workspaceDragger_.endDrag(this.currentDragDeltaXY_), this.dispose());\n  };\n\n  Blockly.Gesture.prototype.handleRightClick = function (a) {\n    this.targetBlock_ ? (this.bringBlockToFront_(), Blockly.hideChaff(this.flyout_), this.targetBlock_.showContextMenu_(a)) : this.startBubble_ ? this.startBubble_.showContextMenu_(a) : this.startWorkspace_ && !this.flyout_ && (Blockly.hideChaff(), this.startWorkspace_.showContextMenu_(a));\n    a.preventDefault();\n    a.stopPropagation();\n    this.dispose();\n  };\n\n  Blockly.Gesture.prototype.handleWsStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleWsStart, but the gesture had already been started.\");\n    this.setStartWorkspace_(b);\n    this.mostRecentEvent_ = a;\n    this.doStart(a);\n  };\n\n  Blockly.Gesture.prototype.handleFlyoutStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleFlyoutStart, but the gesture had already been started.\");\n    this.setStartFlyout_(b);\n    this.handleWsStart(a, b.getWorkspace());\n  };\n\n  Blockly.Gesture.prototype.handleBlockStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleBlockStart, but the gesture had already been started.\");\n    this.setStartBlock(b);\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.handleBubbleStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleBubbleStart, but the gesture had already been started.\");\n    this.setStartBubble(b);\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.doBubbleClick_ = function () {\n    this.startBubble_.setFocus && this.startBubble_.setFocus();\n    this.startBubble_.select && this.startBubble_.select();\n  };\n\n  Blockly.Gesture.prototype.doFieldClick_ = function () {\n    this.startField_.showEditor_();\n    this.bringBlockToFront_();\n  };\n\n  Blockly.Gesture.prototype.doBlockClick_ = function () {\n    this.flyout_ && this.flyout_.autoClose ? this.targetBlock_.isEnabled() && (Blockly.Events.getGroup() || Blockly.Events.setGroup(!0), this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()) : Blockly.Events.fire(new Blockly.Events.Ui(this.startBlock_, \"click\", void 0, void 0));\n    this.bringBlockToFront_();\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.Gesture.prototype.doWorkspaceClick_ = function () {\n    Blockly.selected && Blockly.selected.unselect();\n  };\n\n  Blockly.Gesture.prototype.bringBlockToFront_ = function () {\n    this.targetBlock_ && !this.flyout_ && this.targetBlock_.bringToFront();\n  };\n\n  Blockly.Gesture.prototype.setStartField = function (a) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.setStartField, but the gesture had already been started.\");\n    this.startField_ || (this.startField_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartBubble = function (a) {\n    this.startBubble_ || (this.startBubble_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartBlock = function (a) {\n    this.startBlock_ || this.startBubble_ || (this.startBlock_ = a, a.isInFlyout && a != a.getRootBlock() ? this.setTargetBlock_(a.getRootBlock()) : this.setTargetBlock_(a));\n  };\n\n  Blockly.Gesture.prototype.setTargetBlock_ = function (a) {\n    a.isShadow() ? this.setTargetBlock_(a.getParent()) : this.targetBlock_ = a;\n  };\n\n  Blockly.Gesture.prototype.setStartWorkspace_ = function (a) {\n    this.startWorkspace_ || (this.startWorkspace_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartFlyout_ = function (a) {\n    this.flyout_ || (this.flyout_ = a);\n  };\n\n  Blockly.Gesture.prototype.isBubbleClick_ = function () {\n    return !!this.startBubble_ && !this.hasExceededDragRadius_;\n  };\n\n  Blockly.Gesture.prototype.isBlockClick_ = function () {\n    return !!this.startBlock_ && !this.hasExceededDragRadius_ && !this.isFieldClick_();\n  };\n\n  Blockly.Gesture.prototype.isFieldClick_ = function () {\n    return (this.startField_ ? this.startField_.isClickable() : !1) && !this.hasExceededDragRadius_ && (!this.flyout_ || !this.flyout_.autoClose);\n  };\n\n  Blockly.Gesture.prototype.isWorkspaceClick_ = function () {\n    return !this.startBlock_ && !this.startBubble_ && !this.startField_ && !this.hasExceededDragRadius_;\n  };\n\n  Blockly.Gesture.prototype.isDragging = function () {\n    return this.isDraggingWorkspace_ || this.isDraggingBlock_ || this.isDraggingBubble_;\n  };\n\n  Blockly.Gesture.prototype.hasStarted = function () {\n    return this.hasStarted_;\n  };\n\n  Blockly.Gesture.prototype.getInsertionMarkers = function () {\n    return this.blockDragger_ ? this.blockDragger_.getInsertionMarkers() : [];\n  };\n\n  Blockly.Gesture.inProgress = function () {\n    for (var a = Blockly.Workspace.getAll(), b = 0, c; c = a[b]; b++) if (c.currentGesture_) return !0;\n\n    return !1;\n  };\n\n  Blockly.Grid = function (a, b) {\n    this.gridPattern_ = a;\n    this.spacing_ = b.spacing;\n    this.length_ = b.length;\n    this.line2_ = (this.line1_ = a.firstChild) && this.line1_.nextSibling;\n    this.snapToGrid_ = b.snap;\n  };\n\n  Blockly.Grid.prototype.scale_ = 1;\n\n  Blockly.Grid.prototype.dispose = function () {\n    this.gridPattern_ = null;\n  };\n\n  Blockly.Grid.prototype.shouldSnap = function () {\n    return this.snapToGrid_;\n  };\n\n  Blockly.Grid.prototype.getSpacing = function () {\n    return this.spacing_;\n  };\n\n  Blockly.Grid.prototype.getPatternId = function () {\n    return this.gridPattern_.id;\n  };\n\n  Blockly.Grid.prototype.update = function (a) {\n    this.scale_ = a;\n    var b = this.spacing_ * a || 100;\n    this.gridPattern_.setAttribute(\"width\", b);\n    this.gridPattern_.setAttribute(\"height\", b);\n    b = Math.floor(this.spacing_ / 2) + .5;\n    var c = b - this.length_ / 2,\n        d = b + this.length_ / 2;\n    b *= a;\n    c *= a;\n    d *= a;\n    this.setLineAttributes_(this.line1_, a, c, d, b, b);\n    this.setLineAttributes_(this.line2_, a, b, b, c, d);\n  };\n\n  Blockly.Grid.prototype.setLineAttributes_ = function (a, b, c, d, e, f) {\n    a && (a.setAttribute(\"stroke-width\", b), a.setAttribute(\"x1\", c), a.setAttribute(\"y1\", e), a.setAttribute(\"x2\", d), a.setAttribute(\"y2\", f));\n  };\n\n  Blockly.Grid.prototype.moveTo = function (a, b) {\n    this.gridPattern_.setAttribute(\"x\", a);\n    this.gridPattern_.setAttribute(\"y\", b);\n    (Blockly.utils.userAgent.IE || Blockly.utils.userAgent.EDGE) && this.update(this.scale_);\n  };\n\n  Blockly.Grid.createDom = function (a, b, c) {\n    a = Blockly.utils.dom.createSvgElement(\"pattern\", {\n      id: \"blocklyGridPattern\" + a,\n      patternUnits: \"userSpaceOnUse\"\n    }, c);\n    0 < b.length && 0 < b.spacing ? (Blockly.utils.dom.createSvgElement(\"line\", {\n      stroke: b.colour\n    }, a), 1 < b.length && Blockly.utils.dom.createSvgElement(\"line\", {\n      stroke: b.colour\n    }, a)) : Blockly.utils.dom.createSvgElement(\"line\", {}, a);\n    return a;\n  };\n\n  Blockly.Options = function (a) {\n    var b = !!a.readOnly;\n    if (b) var c = null,\n        d = !1,\n        e = !1,\n        f = !1,\n        g = !1,\n        h = !1,\n        k = !1;else {\n      c = Blockly.Options.parseToolboxTree(a.toolbox || null);\n      d = !(!c || !c.getElementsByTagName(\"category\").length);\n      e = a.trashcan;\n      void 0 === e && (e = d);\n      var l = a.maxTrashcanContents;\n      e ? void 0 === l && (l = 32) : l = 0;\n      f = a.collapse;\n      void 0 === f && (f = d);\n      g = a.comments;\n      void 0 === g && (g = d);\n      h = a.disable;\n      void 0 === h && (h = d);\n      k = a.sounds;\n      void 0 === k && (k = !0);\n    }\n    var n = !!a.rtl,\n        m = a.horizontalLayout;\n    void 0 === m && (m = !1);\n    var p = a.toolboxPosition;\n    p = \"end\" === p ? !1 : !0;\n    p = m ? p ? Blockly.TOOLBOX_AT_TOP : Blockly.TOOLBOX_AT_BOTTOM : p == n ? Blockly.TOOLBOX_AT_RIGHT : Blockly.TOOLBOX_AT_LEFT;\n    var r = a.css;\n    void 0 === r && (r = !0);\n    var t = \"https://blockly-demo.appspot.com/static/media/\";\n    a.media ? t = a.media : a.path && (t = a.path + \"media/\");\n    var q = void 0 === a.oneBasedIndex ? !0 : !!a.oneBasedIndex,\n        u = a.theme || Blockly.Themes.Classic;\n    this.RTL = n;\n    this.oneBasedIndex = q;\n    this.collapse = f;\n    this.comments = g;\n    this.disable = h;\n    this.readOnly = b;\n    this.maxBlocks = a.maxBlocks || Infinity;\n    this.maxInstances = a.maxInstances;\n    this.pathToMedia = t;\n    this.hasCategories = d;\n    this.moveOptions = Blockly.Options.parseMoveOptions(a, d);\n    this.hasScrollbars = this.moveOptions.scrollbars;\n    this.hasTrashcan = e;\n    this.maxTrashcanContents = l;\n    this.hasSounds = k;\n    this.hasCss = r;\n    this.horizontalLayout = m;\n    this.languageTree = c;\n    this.gridOptions = Blockly.Options.parseGridOptions_(a);\n    this.zoomOptions = Blockly.Options.parseZoomOptions_(a);\n    this.toolboxPosition = p;\n    this.theme = u;\n  };\n\n  Blockly.Options.prototype.parentWorkspace = null;\n  Blockly.Options.prototype.setMetrics = null;\n  Blockly.Options.prototype.getMetrics = null;\n\n  Blockly.Options.parseMoveOptions = function (a, b) {\n    var c = a.move || {},\n        d = {};\n    d.scrollbars = void 0 === c.scrollbars && void 0 === a.scrollbars ? b : !!c.scrollbars || !!a.scrollbars;\n    d.wheel = d.scrollbars && void 0 !== c.wheel ? !!c.wheel : !1;\n    d.drag = d.scrollbars ? void 0 === c.drag ? !0 : !!c.drag : !1;\n    return d;\n  };\n\n  Blockly.Options.parseZoomOptions_ = function (a) {\n    a = a.zoom || {};\n    var b = {};\n    b.controls = void 0 === a.controls ? !1 : !!a.controls;\n    b.wheel = void 0 === a.wheel ? !1 : !!a.wheel;\n    b.startScale = void 0 === a.startScale ? 1 : parseFloat(a.startScale);\n    b.maxScale = void 0 === a.maxScale ? 3 : parseFloat(a.maxScale);\n    b.minScale = void 0 === a.minScale ? .3 : parseFloat(a.minScale);\n    b.scaleSpeed = void 0 === a.scaleSpeed ? 1.2 : parseFloat(a.scaleSpeed);\n    return b;\n  };\n\n  Blockly.Options.parseGridOptions_ = function (a) {\n    a = a.grid || {};\n    var b = {};\n    b.spacing = parseFloat(a.spacing) || 0;\n    b.colour = a.colour || \"#888\";\n    b.length = parseFloat(a.length) || 1;\n    b.snap = 0 < b.spacing && !!a.snap;\n    return b;\n  };\n\n  Blockly.Options.parseToolboxTree = function (a) {\n    if (a) {\n      if (\"string\" != typeof a && (Blockly.utils.userAgent.IE && a.outerHTML ? a = a.outerHTML : a instanceof Element || (a = null)), \"string\" == typeof a && (a = Blockly.Xml.textToDom(a), \"xml\" != a.nodeName.toLowerCase())) throw TypeError(\"Toolbox should be an <xml> document.\");\n    } else a = null;\n\n    return a;\n  };\n\n  Blockly.ScrollbarPair = function (a) {\n    this.workspace_ = a;\n    this.hScroll = new Blockly.Scrollbar(a, !0, !0, \"blocklyMainWorkspaceScrollbar\");\n    this.vScroll = new Blockly.Scrollbar(a, !1, !0, \"blocklyMainWorkspaceScrollbar\");\n    this.corner_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      height: Blockly.Scrollbar.scrollbarThickness,\n      width: Blockly.Scrollbar.scrollbarThickness,\n      \"class\": \"blocklyScrollbarBackground\"\n    }, null);\n    Blockly.utils.dom.insertAfter(this.corner_, a.getBubbleCanvas());\n  };\n\n  Blockly.ScrollbarPair.prototype.oldHostMetrics_ = null;\n\n  Blockly.ScrollbarPair.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.corner_);\n    this.oldHostMetrics_ = this.workspace_ = this.corner_ = null;\n    this.hScroll.dispose();\n    this.hScroll = null;\n    this.vScroll.dispose();\n    this.vScroll = null;\n  };\n\n  Blockly.ScrollbarPair.prototype.resize = function () {\n    var a = this.workspace_.getMetrics();\n\n    if (a) {\n      var b = !1,\n          c = !1;\n      this.oldHostMetrics_ && this.oldHostMetrics_.viewWidth == a.viewWidth && this.oldHostMetrics_.viewHeight == a.viewHeight && this.oldHostMetrics_.absoluteTop == a.absoluteTop && this.oldHostMetrics_.absoluteLeft == a.absoluteLeft ? (this.oldHostMetrics_ && this.oldHostMetrics_.contentWidth == a.contentWidth && this.oldHostMetrics_.viewLeft == a.viewLeft && this.oldHostMetrics_.contentLeft == a.contentLeft || (b = !0), this.oldHostMetrics_ && this.oldHostMetrics_.contentHeight == a.contentHeight && this.oldHostMetrics_.viewTop == a.viewTop && this.oldHostMetrics_.contentTop == a.contentTop || (c = !0)) : c = b = !0;\n      b && this.hScroll.resize(a);\n      c && this.vScroll.resize(a);\n      this.oldHostMetrics_ && this.oldHostMetrics_.viewWidth == a.viewWidth && this.oldHostMetrics_.absoluteLeft == a.absoluteLeft || this.corner_.setAttribute(\"x\", this.vScroll.position_.x);\n      this.oldHostMetrics_ && this.oldHostMetrics_.viewHeight == a.viewHeight && this.oldHostMetrics_.absoluteTop == a.absoluteTop || this.corner_.setAttribute(\"y\", this.hScroll.position_.y);\n      this.oldHostMetrics_ = a;\n    }\n  };\n\n  Blockly.ScrollbarPair.prototype.set = function (a, b) {\n    var c = {},\n        d = a * this.hScroll.ratio_,\n        e = b * this.vScroll.ratio_,\n        f = this.vScroll.scrollViewSize_;\n    c.x = this.getRatio_(d, this.hScroll.scrollViewSize_);\n    c.y = this.getRatio_(e, f);\n    this.workspace_.setMetrics(c);\n    this.hScroll.setHandlePosition(d);\n    this.vScroll.setHandlePosition(e);\n  };\n\n  Blockly.ScrollbarPair.prototype.getRatio_ = function (a, b) {\n    var c = a / b;\n    return isNaN(c) ? 0 : c;\n  };\n\n  Blockly.Scrollbar = function (a, b, c, d) {\n    this.workspace_ = a;\n    this.pair_ = c || !1;\n    this.horizontal_ = b;\n    this.oldHostMetrics_ = null;\n    this.createDom_(d);\n    this.position_ = new Blockly.utils.Coordinate(0, 0);\n    a = Blockly.Scrollbar.scrollbarThickness;\n    b ? (this.svgBackground_.setAttribute(\"height\", a), this.outerSvg_.setAttribute(\"height\", a), this.svgHandle_.setAttribute(\"height\", a - 5), this.svgHandle_.setAttribute(\"y\", 2.5), this.lengthAttribute_ = \"width\", this.positionAttribute_ = \"x\") : (this.svgBackground_.setAttribute(\"width\", a), this.outerSvg_.setAttribute(\"width\", a), this.svgHandle_.setAttribute(\"width\", a - 5), this.svgHandle_.setAttribute(\"x\", 2.5), this.lengthAttribute_ = \"height\", this.positionAttribute_ = \"y\");\n    this.onMouseDownBarWrapper_ = Blockly.bindEventWithChecks_(this.svgBackground_, \"mousedown\", this, this.onMouseDownBar_);\n    this.onMouseDownHandleWrapper_ = Blockly.bindEventWithChecks_(this.svgHandle_, \"mousedown\", this, this.onMouseDownHandle_);\n  };\n\n  Blockly.Scrollbar.prototype.origin_ = new Blockly.utils.Coordinate(0, 0);\n  Blockly.Scrollbar.prototype.startDragMouse_ = 0;\n  Blockly.Scrollbar.prototype.scrollViewSize_ = 0;\n  Blockly.Scrollbar.prototype.handleLength_ = 0;\n  Blockly.Scrollbar.prototype.handlePosition_ = 0;\n  Blockly.Scrollbar.prototype.isVisible_ = !0;\n  Blockly.Scrollbar.prototype.containerVisible_ = !0;\n  Blockly.Scrollbar.scrollbarThickness = 15;\n  Blockly.Touch.TOUCH_ENABLED && (Blockly.Scrollbar.scrollbarThickness = 25);\n\n  Blockly.Scrollbar.metricsAreEquivalent_ = function (a, b) {\n    return a && b && a.viewWidth == b.viewWidth && a.viewHeight == b.viewHeight && a.viewLeft == b.viewLeft && a.viewTop == b.viewTop && a.absoluteTop == b.absoluteTop && a.absoluteLeft == b.absoluteLeft && a.contentWidth == b.contentWidth && a.contentHeight == b.contentHeight && a.contentLeft == b.contentLeft && a.contentTop == b.contentTop ? !0 : !1;\n  };\n\n  Blockly.Scrollbar.prototype.dispose = function () {\n    this.cleanUp_();\n    Blockly.unbindEvent_(this.onMouseDownBarWrapper_);\n    this.onMouseDownBarWrapper_ = null;\n    Blockly.unbindEvent_(this.onMouseDownHandleWrapper_);\n    this.onMouseDownHandleWrapper_ = null;\n    Blockly.utils.dom.removeNode(this.outerSvg_);\n    this.workspace_ = this.svgHandle_ = this.svgBackground_ = this.svgGroup_ = this.outerSvg_ = null;\n  };\n\n  Blockly.Scrollbar.prototype.setHandleLength_ = function (a) {\n    this.handleLength_ = a;\n    this.svgHandle_.setAttribute(this.lengthAttribute_, this.handleLength_);\n  };\n\n  Blockly.Scrollbar.prototype.setHandlePosition = function (a) {\n    this.handlePosition_ = a;\n    this.svgHandle_.setAttribute(this.positionAttribute_, this.handlePosition_);\n  };\n\n  Blockly.Scrollbar.prototype.setScrollViewSize_ = function (a) {\n    this.scrollViewSize_ = a;\n    this.outerSvg_.setAttribute(this.lengthAttribute_, this.scrollViewSize_);\n    this.svgBackground_.setAttribute(this.lengthAttribute_, this.scrollViewSize_);\n  };\n\n  Blockly.ScrollbarPair.prototype.setContainerVisible = function (a) {\n    this.hScroll.setContainerVisible(a);\n    this.vScroll.setContainerVisible(a);\n  };\n\n  Blockly.Scrollbar.prototype.setPosition_ = function (a, b) {\n    this.position_.x = a;\n    this.position_.y = b;\n    Blockly.utils.dom.setCssTransform(this.outerSvg_, \"translate(\" + (this.position_.x + this.origin_.x) + \"px,\" + (this.position_.y + this.origin_.y) + \"px)\");\n  };\n\n  Blockly.Scrollbar.prototype.resize = function (a) {\n    if (!a && (a = this.workspace_.getMetrics(), !a)) return;\n    Blockly.Scrollbar.metricsAreEquivalent_(a, this.oldHostMetrics_) || (this.oldHostMetrics_ = a, this.horizontal_ ? this.resizeHorizontal_(a) : this.resizeVertical_(a), this.onScroll_());\n  };\n\n  Blockly.Scrollbar.prototype.resizeHorizontal_ = function (a) {\n    this.resizeViewHorizontal(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeViewHorizontal = function (a) {\n    var b = a.viewWidth - 1;\n    this.pair_ && (b -= Blockly.Scrollbar.scrollbarThickness);\n    this.setScrollViewSize_(Math.max(0, b));\n    b = a.absoluteLeft + .5;\n    this.pair_ && this.workspace_.RTL && (b += Blockly.Scrollbar.scrollbarThickness);\n    this.setPosition_(b, a.absoluteTop + a.viewHeight - Blockly.Scrollbar.scrollbarThickness - .5);\n    this.resizeContentHorizontal(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeContentHorizontal = function (a) {\n    this.pair_ || this.setVisible(this.scrollViewSize_ < a.contentWidth);\n    this.ratio_ = this.scrollViewSize_ / a.contentWidth;\n    if (-Infinity == this.ratio_ || Infinity == this.ratio_ || isNaN(this.ratio_)) this.ratio_ = 0;\n    this.setHandleLength_(Math.max(0, a.viewWidth * this.ratio_));\n    this.setHandlePosition(this.constrainHandle_((a.viewLeft - a.contentLeft) * this.ratio_));\n  };\n\n  Blockly.Scrollbar.prototype.resizeVertical_ = function (a) {\n    this.resizeViewVertical(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeViewVertical = function (a) {\n    var b = a.viewHeight - 1;\n    this.pair_ && (b -= Blockly.Scrollbar.scrollbarThickness);\n    this.setScrollViewSize_(Math.max(0, b));\n    b = a.absoluteLeft + .5;\n    this.workspace_.RTL || (b += a.viewWidth - Blockly.Scrollbar.scrollbarThickness - 1);\n    this.setPosition_(b, a.absoluteTop + .5);\n    this.resizeContentVertical(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeContentVertical = function (a) {\n    this.pair_ || this.setVisible(this.scrollViewSize_ < a.contentHeight);\n    this.ratio_ = this.scrollViewSize_ / a.contentHeight;\n    if (-Infinity == this.ratio_ || Infinity == this.ratio_ || isNaN(this.ratio_)) this.ratio_ = 0;\n    this.setHandleLength_(Math.max(0, a.viewHeight * this.ratio_));\n    this.setHandlePosition(this.constrainHandle_((a.viewTop - a.contentTop) * this.ratio_));\n  };\n\n  Blockly.Scrollbar.prototype.createDom_ = function (a) {\n    var b = \"blocklyScrollbar\" + (this.horizontal_ ? \"Horizontal\" : \"Vertical\");\n    a && (b += \" \" + a);\n    this.outerSvg_ = Blockly.utils.dom.createSvgElement(\"svg\", {\n      \"class\": b\n    }, null);\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, this.outerSvg_);\n    this.svgBackground_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyScrollbarBackground\"\n    }, this.svgGroup_);\n    a = Math.floor((Blockly.Scrollbar.scrollbarThickness - 5) / 2);\n    this.svgHandle_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyScrollbarHandle\",\n      rx: a,\n      ry: a\n    }, this.svgGroup_);\n    Blockly.utils.dom.insertAfter(this.outerSvg_, this.workspace_.getParentSvg());\n  };\n\n  Blockly.Scrollbar.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.Scrollbar.prototype.setContainerVisible = function (a) {\n    var b = a != this.containerVisible_;\n    this.containerVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Scrollbar.prototype.setVisible = function (a) {\n    var b = a != this.isVisible();\n    if (this.pair_) throw Error(\"Unable to toggle visibility of paired scrollbars.\");\n    this.isVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Scrollbar.prototype.updateDisplay_ = function () {\n    this.containerVisible_ && this.isVisible() ? this.outerSvg_.setAttribute(\"display\", \"block\") : this.outerSvg_.setAttribute(\"display\", \"none\");\n  };\n\n  Blockly.Scrollbar.prototype.onMouseDownBar_ = function (a) {\n    this.workspace_.markFocused();\n    Blockly.Touch.clearTouchIdentifier();\n    this.cleanUp_();\n    if (Blockly.utils.isRightButton(a)) a.stopPropagation();else {\n      var b = Blockly.utils.mouseToSvg(a, this.workspace_.getParentSvg(), this.workspace_.getInverseScreenCTM());\n      b = this.horizontal_ ? b.x : b.y;\n      var c = Blockly.utils.getInjectionDivXY_(this.svgHandle_);\n      c = this.horizontal_ ? c.x : c.y;\n      var d = this.handlePosition_,\n          e = .95 * this.handleLength_;\n      b <= c ? d -= e : b >= c + this.handleLength_ && (d += e);\n      this.setHandlePosition(this.constrainHandle_(d));\n      this.onScroll_();\n      a.stopPropagation();\n      a.preventDefault();\n    }\n  };\n\n  Blockly.Scrollbar.prototype.onMouseDownHandle_ = function (a) {\n    this.workspace_.markFocused();\n    this.cleanUp_();\n    Blockly.utils.isRightButton(a) ? a.stopPropagation() : (this.startDragHandle = this.handlePosition_, this.workspace_.setupDragSurface(), this.startDragMouse_ = this.horizontal_ ? a.clientX : a.clientY, Blockly.Scrollbar.onMouseUpWrapper_ = Blockly.bindEventWithChecks_(document, \"mouseup\", this, this.onMouseUpHandle_), Blockly.Scrollbar.onMouseMoveWrapper_ = Blockly.bindEventWithChecks_(document, \"mousemove\", this, this.onMouseMoveHandle_), a.stopPropagation(), a.preventDefault());\n  };\n\n  Blockly.Scrollbar.prototype.onMouseMoveHandle_ = function (a) {\n    this.setHandlePosition(this.constrainHandle_(this.startDragHandle + ((this.horizontal_ ? a.clientX : a.clientY) - this.startDragMouse_)));\n    this.onScroll_();\n  };\n\n  Blockly.Scrollbar.prototype.onMouseUpHandle_ = function () {\n    this.workspace_.resetDragSurface();\n    Blockly.Touch.clearTouchIdentifier();\n    this.cleanUp_();\n  };\n\n  Blockly.Scrollbar.prototype.cleanUp_ = function () {\n    Blockly.hideChaff(!0);\n    Blockly.Scrollbar.onMouseUpWrapper_ && (Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_), Blockly.Scrollbar.onMouseUpWrapper_ = null);\n    Blockly.Scrollbar.onMouseMoveWrapper_ && (Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_), Blockly.Scrollbar.onMouseMoveWrapper_ = null);\n  };\n\n  Blockly.Scrollbar.prototype.constrainHandle_ = function (a) {\n    return a = 0 >= a || isNaN(a) || this.scrollViewSize_ < this.handleLength_ ? 0 : Math.min(a, this.scrollViewSize_ - this.handleLength_);\n  };\n\n  Blockly.Scrollbar.prototype.onScroll_ = function () {\n    var a = this.handlePosition_ / this.scrollViewSize_;\n    isNaN(a) && (a = 0);\n    var b = {};\n    this.horizontal_ ? b.x = a : b.y = a;\n    this.workspace_.setMetrics(b);\n  };\n\n  Blockly.Scrollbar.prototype.set = function (a) {\n    this.setHandlePosition(this.constrainHandle_(a * this.ratio_));\n    this.onScroll_();\n  };\n\n  Blockly.Scrollbar.prototype.setOrigin = function (a, b) {\n    this.origin_ = new Blockly.utils.Coordinate(a, b);\n  };\n\n  Blockly.TouchGesture = function (a, b) {\n    Blockly.TouchGesture.superClass_.constructor.call(this, a, b);\n    this.isMultiTouch_ = !1;\n    this.cachedPoints_ = {};\n    this.startDistance_ = this.previousScale_ = 0;\n    this.onStartWrapper_ = null;\n  };\n\n  goog.inherits(Blockly.TouchGesture, Blockly.Gesture);\n  Blockly.TouchGesture.ZOOM_IN_MULTIPLIER = 5;\n  Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER = 6;\n\n  Blockly.TouchGesture.prototype.doStart = function (a) {\n    Blockly.TouchGesture.superClass_.doStart.call(this, a);\n    !this.isEnding_ && Blockly.Touch.isTouchEvent(a) && this.handleTouchStart(a);\n  };\n\n  Blockly.TouchGesture.prototype.bindMouseEvents = function (a) {\n    this.onStartWrapper_ = Blockly.bindEventWithChecks_(document, \"mousedown\", null, this.handleStart.bind(this), !0);\n    this.onMoveWrapper_ = Blockly.bindEventWithChecks_(document, \"mousemove\", null, this.handleMove.bind(this), !0);\n    this.onUpWrapper_ = Blockly.bindEventWithChecks_(document, \"mouseup\", null, this.handleUp.bind(this), !0);\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.TouchGesture.prototype.handleStart = function (a) {\n    !this.isDragging() && Blockly.Touch.isTouchEvent(a) && (this.handleTouchStart(a), this.isMultiTouch() && Blockly.longStop_());\n  };\n\n  Blockly.TouchGesture.prototype.handleMove = function (a) {\n    this.isDragging() ? Blockly.Touch.shouldHandleEvent(a) && Blockly.TouchGesture.superClass_.handleMove.call(this, a) : this.isMultiTouch() ? (Blockly.Touch.isTouchEvent(a) && this.handleTouchMove(a), Blockly.longStop_()) : Blockly.TouchGesture.superClass_.handleMove.call(this, a);\n  };\n\n  Blockly.TouchGesture.prototype.handleUp = function (a) {\n    Blockly.Touch.isTouchEvent(a) && !this.isDragging() && this.handleTouchEnd(a);\n    !this.isMultiTouch() || this.isDragging() ? Blockly.Touch.shouldHandleEvent(a) && Blockly.TouchGesture.superClass_.handleUp.call(this, a) : (a.preventDefault(), a.stopPropagation(), this.dispose());\n  };\n\n  Blockly.TouchGesture.prototype.isMultiTouch = function () {\n    return this.isMultiTouch_;\n  };\n\n  Blockly.TouchGesture.prototype.dispose = function () {\n    Blockly.TouchGesture.superClass_.dispose.call(this);\n    this.onStartWrapper_ && Blockly.unbindEvent_(this.onStartWrapper_);\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchStart = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[b] = this.getTouchPoint(a);\n    b = Object.keys(this.cachedPoints_);\n    2 == b.length && (this.startDistance_ = Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]], this.cachedPoints_[b[1]]), this.isMultiTouch_ = !0, a.preventDefault());\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchMove = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[b] = this.getTouchPoint(a);\n    b = Object.keys(this.cachedPoints_);\n\n    if (2 == b.length) {\n      b = this.touchScale_ = Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]], this.cachedPoints_[b[1]]) / this.startDistance_;\n\n      if (0 < this.previousScale_ && Infinity > this.previousScale_) {\n        var c = b - this.previousScale_;\n        c = 0 < c ? c * Blockly.TouchGesture.ZOOM_IN_MULTIPLIER : c * Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;\n        var d = this.startWorkspace_,\n            e = Blockly.utils.mouseToSvg(a, d.getParentSvg(), d.getInverseScreenCTM());\n        d.zoom(e.x, e.y, c);\n      }\n\n      this.previousScale_ = b;\n      a.preventDefault();\n    }\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchEnd = function (a) {\n    a = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[a] && delete this.cachedPoints_[a];\n    2 > Object.keys(this.cachedPoints_).length && (this.cachedPoints_ = {}, this.previousScale_ = 0);\n  };\n\n  Blockly.TouchGesture.prototype.getTouchPoint = function (a) {\n    return this.startWorkspace_ ? new Blockly.utils.Coordinate(a.pageX ? a.pageX : a.changedTouches[0].pageX, a.pageY ? a.pageY : a.changedTouches[0].pageY) : null;\n  };\n\n  Blockly.Trashcan = function (a) {\n    this.workspace_ = a;\n    this.hasBlocks_ = !1;\n    this.contents_ = [];\n    0 >= this.workspace_.options.maxTrashcanContents || (a = {\n      scrollbars: !0,\n      disabledPatternId: this.workspace_.options.disabledPatternId,\n      parentWorkspace: this.workspace_,\n      RTL: this.workspace_.RTL,\n      oneBasedIndex: this.workspace_.options.oneBasedIndex\n    }, this.workspace_.horizontalLayout ? (a.toolboxPosition = this.workspace_.toolboxPosition == Blockly.TOOLBOX_AT_TOP ? Blockly.TOOLBOX_AT_BOTTOM : Blockly.TOOLBOX_AT_TOP, this.flyout_ = new Blockly.HorizontalFlyout(a)) : (a.toolboxPosition = this.workspace_.toolboxPosition == Blockly.TOOLBOX_AT_RIGHT ? Blockly.TOOLBOX_AT_LEFT : Blockly.TOOLBOX_AT_RIGHT, this.flyout_ = new Blockly.VerticalFlyout(a)), this.workspace_.addChangeListener(this.onDelete_()));\n  };\n\n  Blockly.Trashcan.prototype.WIDTH_ = 47;\n  Blockly.Trashcan.prototype.BODY_HEIGHT_ = 44;\n  Blockly.Trashcan.prototype.LID_HEIGHT_ = 16;\n  Blockly.Trashcan.prototype.MARGIN_BOTTOM_ = 20;\n  Blockly.Trashcan.prototype.MARGIN_SIDE_ = 20;\n  Blockly.Trashcan.prototype.MARGIN_HOTSPOT_ = 10;\n  Blockly.Trashcan.prototype.SPRITE_LEFT_ = 0;\n  Blockly.Trashcan.prototype.SPRITE_TOP_ = 32;\n  Blockly.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE = .1;\n  Blockly.Trashcan.prototype.isOpen = !1;\n  Blockly.Trashcan.prototype.minOpenness_ = 0;\n  Blockly.Trashcan.prototype.svgGroup_ = null;\n  Blockly.Trashcan.prototype.svgLid_ = null;\n  Blockly.Trashcan.prototype.lidTask_ = 0;\n  Blockly.Trashcan.prototype.lidOpen_ = 0;\n  Blockly.Trashcan.prototype.left_ = 0;\n  Blockly.Trashcan.prototype.top_ = 0;\n\n  Blockly.Trashcan.prototype.createDom = function () {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyTrash\"\n    }, null);\n    var a = String(Math.random()).substring(2);\n    var b = Blockly.utils.dom.createSvgElement(\"clipPath\", {\n      id: \"blocklyTrashBodyClipPath\" + a\n    }, this.svgGroup_);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: this.WIDTH_,\n      height: this.BODY_HEIGHT_,\n      y: this.LID_HEIGHT_\n    }, b);\n    var c = Blockly.utils.dom.createSvgElement(\"image\", {\n      width: Blockly.SPRITE.width,\n      x: -this.SPRITE_LEFT_,\n      height: Blockly.SPRITE.height,\n      y: -this.SPRITE_TOP_,\n      \"clip-path\": \"url(#blocklyTrashBodyClipPath\" + a + \")\"\n    }, this.svgGroup_);\n    c.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    b = Blockly.utils.dom.createSvgElement(\"clipPath\", {\n      id: \"blocklyTrashLidClipPath\" + a\n    }, this.svgGroup_);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: this.WIDTH_,\n      height: this.LID_HEIGHT_\n    }, b);\n    this.svgLid_ = Blockly.utils.dom.createSvgElement(\"image\", {\n      width: Blockly.SPRITE.width,\n      x: -this.SPRITE_LEFT_,\n      height: Blockly.SPRITE.height,\n      y: -this.SPRITE_TOP_,\n      \"clip-path\": \"url(#blocklyTrashLidClipPath\" + a + \")\"\n    }, this.svgGroup_);\n    this.svgLid_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    Blockly.bindEventWithChecks_(this.svgGroup_, \"mouseup\", this, this.click);\n    Blockly.bindEvent_(c, \"mouseover\", this, this.mouseOver_);\n    Blockly.bindEvent_(c, \"mouseout\", this, this.mouseOut_);\n    this.animateLid_();\n    return this.svgGroup_;\n  };\n\n  Blockly.Trashcan.prototype.init = function (a) {\n    0 < this.workspace_.options.maxTrashcanContents && (Blockly.utils.dom.insertAfter(this.flyout_.createDom(\"svg\"), this.workspace_.getParentSvg()), this.flyout_.init(this.workspace_), this.flyout_.isBlockCreatable_ = function () {\n      return !0;\n    });\n    this.verticalSpacing_ = this.MARGIN_BOTTOM_ + a;\n    this.setOpen_(!1);\n    return this.verticalSpacing_ + this.BODY_HEIGHT_ + this.LID_HEIGHT_;\n  };\n\n  Blockly.Trashcan.prototype.dispose = function () {\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.workspace_ = this.svgLid_ = null;\n    clearTimeout(this.lidTask_);\n  };\n\n  Blockly.Trashcan.prototype.position = function () {\n    if (this.verticalSpacing_) {\n      var a = this.workspace_.getMetrics();\n      a && (this.left_ = a.toolboxPosition == Blockly.TOOLBOX_AT_LEFT || this.workspace_.horizontalLayout && !this.workspace_.RTL ? a.viewWidth + a.absoluteLeft - this.WIDTH_ - this.MARGIN_SIDE_ - Blockly.Scrollbar.scrollbarThickness : this.MARGIN_SIDE_ + Blockly.Scrollbar.scrollbarThickness, this.top_ = a.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM ? this.verticalSpacing_ : a.viewHeight + a.absoluteTop - (this.BODY_HEIGHT_ + this.LID_HEIGHT_) - this.verticalSpacing_, this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.left_ + \",\" + this.top_ + \")\"));\n    }\n  };\n\n  Blockly.Trashcan.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.top + this.SPRITE_TOP_ - this.MARGIN_HOTSPOT_;\n    a = a.left + this.SPRITE_LEFT_ - this.MARGIN_HOTSPOT_;\n    return new Blockly.utils.Rect(b, b + this.LID_HEIGHT_ + this.BODY_HEIGHT_ + 2 * this.MARGIN_HOTSPOT_, a, a + this.WIDTH_ + 2 * this.MARGIN_HOTSPOT_);\n  };\n\n  Blockly.Trashcan.prototype.setOpen_ = function (a) {\n    this.isOpen != a && (clearTimeout(this.lidTask_), this.isOpen = a, this.animateLid_());\n  };\n\n  Blockly.Trashcan.prototype.animateLid_ = function () {\n    this.lidOpen_ += this.isOpen ? .2 : -.2;\n    this.lidOpen_ = Math.min(Math.max(this.lidOpen_, this.minOpenness_), 1);\n    this.setLidAngle_(45 * this.lidOpen_);\n    this.svgGroup_.style.opacity = .4 + .4 * this.lidOpen_;\n    this.lidOpen_ > this.minOpenness_ && 1 > this.lidOpen_ && (this.lidTask_ = setTimeout(this.animateLid_.bind(this), 20));\n  };\n\n  Blockly.Trashcan.prototype.setLidAngle_ = function (a) {\n    var b = this.workspace_.toolboxPosition == Blockly.TOOLBOX_AT_RIGHT || this.workspace_.horizontalLayout && this.workspace_.RTL;\n    this.svgLid_.setAttribute(\"transform\", \"rotate(\" + (b ? -a : a) + \",\" + (b ? 4 : this.WIDTH_ - 4) + \",\" + (this.LID_HEIGHT_ - 2) + \")\");\n  };\n\n  Blockly.Trashcan.prototype.close = function () {\n    this.setOpen_(!1);\n  };\n\n  Blockly.Trashcan.prototype.click = function () {\n    if (this.hasBlocks_) {\n      for (var a = [], b = 0, c; c = this.contents_[b]; b++) a[b] = Blockly.Xml.textToDom(c);\n\n      this.flyout_.show(a);\n    }\n  };\n\n  Blockly.Trashcan.prototype.mouseOver_ = function () {\n    this.hasBlocks_ && this.setOpen_(!0);\n  };\n\n  Blockly.Trashcan.prototype.mouseOut_ = function () {\n    this.setOpen_(!1);\n  };\n\n  Blockly.Trashcan.prototype.onDelete_ = function () {\n    var a = this;\n    return function (b) {\n      0 >= a.workspace_.options.maxTrashcanContents || b.type != Blockly.Events.BLOCK_DELETE || \"shadow\" == b.oldXml.tagName.toLowerCase() || (b = a.cleanBlockXML_(b.oldXml), -1 == a.contents_.indexOf(b) && (a.contents_.unshift(b), a.contents_.length > a.workspace_.options.maxTrashcanContents && a.contents_.splice(a.workspace_.options.maxTrashcanContents, a.contents_.length - a.workspace_.options.maxTrashcanContents), a.hasBlocks_ = !0, a.minOpenness_ = a.HAS_BLOCKS_LID_ANGLE, a.setLidAngle_(45 * a.minOpenness_)));\n    };\n  };\n\n  Blockly.Trashcan.prototype.cleanBlockXML_ = function (a) {\n    for (var b = a = a.cloneNode(!0); b;) {\n      b.removeAttribute && (b.removeAttribute(\"x\"), b.removeAttribute(\"y\"), b.removeAttribute(\"id\"));\n      var c = b.firstChild || b.nextSibling;\n      if (!c) for (c = b.parentNode; c;) {\n        if (c.nextSibling) {\n          c = c.nextSibling;\n          break;\n        }\n\n        c = c.parentNode;\n      }\n      b = c;\n    }\n\n    return Blockly.Xml.domToText(a);\n  };\n\n  Blockly.VariableModel = function (a, b, c, d) {\n    this.workspace = a;\n    this.name = b;\n    this.type = c || \"\";\n    this.id_ = d || Blockly.utils.genUid();\n    Blockly.Events.fire(new Blockly.Events.VarCreate(this));\n  };\n\n  Blockly.VariableModel.prototype.getId = function () {\n    return this.id_;\n  };\n\n  Blockly.VariableModel.compareByName = function (a, b) {\n    var c = a.name.toLowerCase(),\n        d = b.name.toLowerCase();\n    return c < d ? -1 : c == d ? 0 : 1;\n  };\n\n  Blockly.Variables = {};\n  Blockly.Variables.NAME_TYPE = Blockly.VARIABLE_CATEGORY_NAME;\n\n  Blockly.Variables.allUsedVarModels = function (a) {\n    var b = a.getAllBlocks(!1);\n    a = Object.create(null);\n\n    for (var c = 0; c < b.length; c++) {\n      var d = b[c].getVarModels();\n      if (d) for (var e = 0; e < d.length; e++) {\n        var f = d[e],\n            g = f.getId();\n        g && (a[g] = f);\n      }\n    }\n\n    b = [];\n\n    for (g in a) b.push(a[g]);\n\n    return b;\n  };\n\n  Blockly.Variables.allUsedVariables = function () {\n    console.warn(\"Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\\nIf this is a major issue please file a bug on GitHub.\");\n  };\n\n  Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_ = {};\n\n  Blockly.Variables.allDeveloperVariables = function (a) {\n    a = a.getAllBlocks(!1);\n\n    for (var b = Object.create(null), c = 0, d; d = a[c]; c++) {\n      var e = d.getDeveloperVariables;\n      !e && d.getDeveloperVars && (e = d.getDeveloperVars, Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type] || (console.warn(\"Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '\" + d.type + \"')\"), Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type] = !0));\n      if (e) for (d = e(), e = 0; e < d.length; e++) b[d[e]] = !0;\n    }\n\n    return Object.keys(b);\n  };\n\n  Blockly.Variables.flyoutCategory = function (a) {\n    var b = [],\n        c = document.createElement(\"button\");\n    c.setAttribute(\"text\", \"%{BKY_NEW_VARIABLE}\");\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE\");\n    a.registerButtonCallback(\"CREATE_VARIABLE\", function (a) {\n      Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace());\n    });\n    b.push(c);\n    a = Blockly.Variables.flyoutCategoryBlocks(a);\n    return b = b.concat(a);\n  };\n\n  Blockly.Variables.flyoutCategoryBlocks = function (a) {\n    a = a.getVariablesOfType(\"\");\n    var b = [];\n\n    if (0 < a.length) {\n      var c = a[a.length - 1];\n\n      if (Blockly.Blocks.variables_set) {\n        var d = Blockly.utils.xml.createElement(\"block\");\n        d.setAttribute(\"type\", \"variables_set\");\n        d.setAttribute(\"gap\", Blockly.Blocks.math_change ? 8 : 24);\n        d.appendChild(Blockly.Variables.generateVariableFieldDom(c));\n        b.push(d);\n      }\n\n      Blockly.Blocks.math_change && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"math_change\"), d.setAttribute(\"gap\", Blockly.Blocks.variables_get ? 20 : 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(c)), c = Blockly.Xml.textToDom('<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>'), d.appendChild(c), b.push(d));\n\n      if (Blockly.Blocks.variables_get) {\n        a.sort(Blockly.VariableModel.compareByName);\n        c = 0;\n\n        for (var e; e = a[c]; c++) d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"variables_get\"), d.setAttribute(\"gap\", 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(e)), b.push(d);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.Variables.generateUniqueName = function (a) {\n    a = a.getAllVariables();\n    var b = \"\";\n    if (a.length) for (var c = 1, d = 0, e = \"ijkmnopqrstuvwxyzabcdefgh\".charAt(d); !b;) {\n      for (var f = !1, g = 0; g < a.length; g++) if (a[g].name.toLowerCase() == e) {\n        f = !0;\n        break;\n      }\n\n      f ? (d++, 25 == d && (d = 0, c++), e = \"ijkmnopqrstuvwxyzabcdefgh\".charAt(d), 1 < c && (e += c)) : b = e;\n    } else b = \"i\";\n    return b;\n  };\n\n  Blockly.Variables.createVariableButtonHandler = function (a, b, c) {\n    var d = c || \"\",\n        e = function (c) {\n      Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE, c, function (c) {\n        if (c) {\n          var f = Blockly.Variables.nameUsedWithAnyType_(c, a);\n\n          if (f) {\n            var g = c.toLowerCase();\n            if (f.type == d) var l = Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace(\"%1\", g);else l = Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE, l = l.replace(\"%1\", g).replace(\"%2\", f.type);\n            Blockly.alert(l, function () {\n              e(c);\n            });\n          } else a.createVariable(c, d), b && b(c);\n        } else b && b(null);\n      });\n    };\n\n    e(\"\");\n  };\n\n  goog.exportSymbol(\"Blockly.Variables.createVariableButtonHandler\", Blockly.Variables.createVariableButtonHandler);\n  Blockly.Variables.createVariable = Blockly.Variables.createVariableButtonHandler;\n  goog.exportSymbol(\"Blockly.Variables.createVariable\", Blockly.Variables.createVariable);\n\n  Blockly.Variables.renameVariable = function (a, b, c) {\n    var d = function (e) {\n      var f = Blockly.Msg.RENAME_VARIABLE_TITLE.replace(\"%1\", b.name);\n      Blockly.Variables.promptName(f, e, function (e) {\n        if (e) {\n          var f = Blockly.Variables.nameUsedWithOtherType_(e, b.type, a);\n          f ? (f = Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(\"%1\", e.toLowerCase()).replace(\"%2\", f.type), Blockly.alert(f, function () {\n            d(e);\n          })) : (a.renameVariableById(b.getId(), e), c && c(e));\n        } else c && c(null);\n      });\n    };\n\n    d(\"\");\n  };\n\n  Blockly.Variables.promptName = function (a, b, c) {\n    Blockly.prompt(a, b, function (a) {\n      a && (a = a.replace(/[\\s\\xa0]+/g, \" \").trim(), a == Blockly.Msg.RENAME_VARIABLE || a == Blockly.Msg.NEW_VARIABLE) && (a = null);\n      c(a);\n    });\n  };\n\n  Blockly.Variables.nameUsedWithOtherType_ = function (a, b, c) {\n    c = c.getVariableMap().getAllVariables();\n    a = a.toLowerCase();\n\n    for (var d = 0, e; e = c[d]; d++) if (e.name.toLowerCase() == a && e.type != b) return e;\n\n    return null;\n  };\n\n  Blockly.Variables.nameUsedWithAnyType_ = function (a, b) {\n    var c = b.getVariableMap().getAllVariables();\n    a = a.toLowerCase();\n\n    for (var d = 0, e; e = c[d]; d++) if (e.name.toLowerCase() == a) return e;\n\n    return null;\n  };\n\n  Blockly.Variables.generateVariableFieldDom = function (a) {\n    var b = Blockly.utils.xml.createElement(\"field\");\n    b.setAttribute(\"name\", \"VAR\");\n    b.setAttribute(\"id\", a.getId());\n    b.setAttribute(\"variabletype\", a.type);\n    a = Blockly.utils.xml.createTextNode(a.name);\n    b.appendChild(a);\n    return b;\n  };\n\n  Blockly.Variables.getOrCreateVariablePackage = function (a, b, c, d) {\n    var e = Blockly.Variables.getVariable(a, b, c, d);\n    e || (e = Blockly.Variables.createVariable_(a, b, c, d));\n    return e;\n  };\n\n  Blockly.Variables.getVariable = function (a, b, c, d) {\n    var e = a.getPotentialVariableMap();\n\n    if (b) {\n      var f = a.getVariableById(b);\n      !f && e && (f = e.getVariableById(b));\n      if (f) return f;\n    }\n\n    if (c) {\n      if (void 0 == d) throw Error(\"Tried to look up a variable by name without a type\");\n      f = a.getVariable(c, d);\n      !f && e && (f = e.getVariable(c, d));\n    }\n\n    return f;\n  };\n\n  Blockly.Variables.createVariable_ = function (a, b, c, d) {\n    var e = a.getPotentialVariableMap();\n    c || (c = Blockly.Variables.generateUniqueName(a.isFlyout ? a.targetWorkspace : a));\n    return e ? e.createVariable(c, d, b) : a.createVariable(c, d, b);\n  };\n\n  Blockly.Variables.getAddedVariables = function (a, b) {\n    var c = a.getAllVariables(),\n        d = [];\n    if (b.length != c.length) for (var e = 0; e < c.length; e++) {\n      var f = c[e];\n      -1 == b.indexOf(f) && d.push(f);\n    }\n    return d;\n  };\n\n  Blockly.VariablesDynamic = {};\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_String = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), null, \"String\");\n  };\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_Number = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), null, \"Number\");\n  };\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), null, \"Colour\");\n  };\n\n  Blockly.VariablesDynamic.flyoutCategory = function (a) {\n    var b = [],\n        c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_STRING_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_STRING\");\n    b.push(c);\n    c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_NUMBER_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_NUMBER\");\n    b.push(c);\n    c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_COLOUR_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_COLOUR\");\n    b.push(c);\n    a.registerButtonCallback(\"CREATE_VARIABLE_STRING\", Blockly.VariablesDynamic.onCreateVariableButtonClick_String);\n    a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\", Blockly.VariablesDynamic.onCreateVariableButtonClick_Number);\n    a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\", Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);\n    a = Blockly.VariablesDynamic.flyoutCategoryBlocks(a);\n    return b = b.concat(a);\n  };\n\n  Blockly.VariablesDynamic.flyoutCategoryBlocks = function (a) {\n    a = a.getAllVariables();\n    var b = [];\n\n    if (0 < a.length) {\n      if (Blockly.Blocks.variables_set_dynamic) {\n        var c = a[a.length - 1],\n            d = Blockly.utils.xml.createElement(\"block\");\n        d.setAttribute(\"type\", \"variables_set_dynamic\");\n        d.setAttribute(\"gap\", 24);\n        d.appendChild(Blockly.Variables.generateVariableFieldDom(c));\n        b.push(d);\n      }\n\n      if (Blockly.Blocks.variables_get_dynamic) {\n        a.sort(Blockly.VariableModel.compareByName);\n        c = 0;\n\n        for (var e; e = a[c]; c++) d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"variables_get_dynamic\"), d.setAttribute(\"gap\", 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(e)), b.push(d);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.WorkspaceAudio = function (a) {\n    this.parentWorkspace_ = a;\n    this.SOUNDS_ = Object.create(null);\n  };\n\n  Blockly.WorkspaceAudio.prototype.lastSound_ = null;\n\n  Blockly.WorkspaceAudio.prototype.dispose = function () {\n    this.SOUNDS_ = this.parentWorkspace_ = null;\n  };\n\n  Blockly.WorkspaceAudio.prototype.load = function (a, b) {\n    if (a.length) {\n      try {\n        var c = new Blockly.utils.global.Audio();\n      } catch (h) {\n        return;\n      }\n\n      for (var d, e = 0; e < a.length; e++) {\n        var f = a[e],\n            g = f.match(/\\.(\\w+)$/);\n\n        if (g && c.canPlayType(\"audio/\" + g[1])) {\n          d = new Blockly.utils.global.Audio(f);\n          break;\n        }\n      }\n\n      d && d.play && (this.SOUNDS_[b] = d);\n    }\n  };\n\n  Blockly.WorkspaceAudio.prototype.preload = function () {\n    for (var a in this.SOUNDS_) {\n      var b = this.SOUNDS_[a];\n      b.volume = .01;\n      b.play()[\"catch\"](function () {});\n      b.pause();\n      if (Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.IPHONE) break;\n    }\n  };\n\n  Blockly.WorkspaceAudio.prototype.play = function (a, b) {\n    var c = this.SOUNDS_[a];\n\n    if (c) {\n      var d = new Date();\n      null != this.lastSound_ && d - this.lastSound_ < Blockly.SOUND_LIMIT || (this.lastSound_ = d, c = Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.ANDROID ? c : c.cloneNode(), c.volume = void 0 === b ? 1 : b, c.play());\n    } else this.parentWorkspace_ && this.parentWorkspace_.getAudioManager().play(a, b);\n  };\n\n  Blockly.WorkspaceCommentSvg.render = {};\n  Blockly.WorkspaceCommentSvg.RESIZE_SIZE = 8;\n  Blockly.WorkspaceCommentSvg.BORDER_RADIUS = 3;\n  Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET = 2;\n  Blockly.WorkspaceCommentSvg.TOP_OFFSET = 10;\n\n  Blockly.WorkspaceCommentSvg.prototype.getHeightWidth = function () {\n    return {\n      width: this.getWidth(),\n      height: this.getHeight()\n    };\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.render = function () {\n    if (!this.rendered_) {\n      var a = this.getHeightWidth();\n      this.createEditor_();\n      this.svgGroup_.appendChild(this.foreignObject_);\n      this.svgHandleTarget_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n        \"class\": \"blocklyCommentHandleTarget\",\n        x: 0,\n        y: 0\n      });\n      this.svgGroup_.appendChild(this.svgHandleTarget_);\n      this.svgRectTarget_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n        \"class\": \"blocklyCommentTarget\",\n        x: 0,\n        y: 0,\n        rx: Blockly.WorkspaceCommentSvg.BORDER_RADIUS,\n        ry: Blockly.WorkspaceCommentSvg.BORDER_RADIUS\n      });\n      this.svgGroup_.appendChild(this.svgRectTarget_);\n      this.addResizeDom_();\n      this.isDeletable() && this.addDeleteDom_();\n      this.setSize_(a.width, a.height);\n      this.textarea_.value = this.content_;\n      this.rendered_ = !0;\n      this.resizeGroup_ && Blockly.bindEventWithChecks_(this.resizeGroup_, \"mousedown\", this, this.resizeMouseDown_);\n      this.isDeletable() && (Blockly.bindEventWithChecks_(this.deleteGroup_, \"mousedown\", this, this.deleteMouseDown_), Blockly.bindEventWithChecks_(this.deleteGroup_, \"mouseout\", this, this.deleteMouseOut_), Blockly.bindEventWithChecks_(this.deleteGroup_, \"mouseup\", this, this.deleteMouseUp_));\n    }\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.createEditor_ = function () {\n    this.foreignObject_ = Blockly.utils.dom.createSvgElement(\"foreignObject\", {\n      x: 0,\n      y: Blockly.WorkspaceCommentSvg.TOP_OFFSET,\n      \"class\": \"blocklyCommentForeignObject\"\n    }, null);\n    var a = document.createElementNS(Blockly.utils.dom.HTML_NS, \"body\");\n    a.setAttribute(\"xmlns\", Blockly.utils.dom.HTML_NS);\n    a.className = \"blocklyMinimalBody\";\n    var b = document.createElementNS(Blockly.utils.dom.HTML_NS, \"textarea\");\n    b.className = \"blocklyCommentTextarea\";\n    b.setAttribute(\"dir\", this.RTL ? \"RTL\" : \"LTR\");\n    a.appendChild(b);\n    this.textarea_ = b;\n    this.foreignObject_.appendChild(a);\n    Blockly.bindEventWithChecks_(b, \"wheel\", this, function (a) {\n      a.stopPropagation();\n    });\n    Blockly.bindEventWithChecks_(b, \"change\", this, function (a) {\n      this.setContent(b.value);\n    });\n    return this.foreignObject_;\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.addResizeDom_ = function () {\n    this.resizeGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": this.RTL ? \"blocklyResizeSW\" : \"blocklyResizeSE\"\n    }, this.svgGroup_);\n    var a = Blockly.WorkspaceCommentSvg.RESIZE_SIZE;\n    Blockly.utils.dom.createSvgElement(\"polygon\", {\n      points: \"0,x x,x x,0\".replace(/x/g, a.toString())\n    }, this.resizeGroup_);\n    Blockly.utils.dom.createSvgElement(\"line\", {\n      \"class\": \"blocklyResizeLine\",\n      x1: a / 3,\n      y1: a - 1,\n      x2: a - 1,\n      y2: a / 3\n    }, this.resizeGroup_);\n    Blockly.utils.dom.createSvgElement(\"line\", {\n      \"class\": \"blocklyResizeLine\",\n      x1: 2 * a / 3,\n      y1: a - 1,\n      x2: a - 1,\n      y2: 2 * a / 3\n    }, this.resizeGroup_);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.addDeleteDom_ = function () {\n    this.deleteGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyCommentDeleteIcon\"\n    }, this.svgGroup_);\n    this.deleteIconBorder_ = Blockly.utils.dom.createSvgElement(\"circle\", {\n      \"class\": \"blocklyDeleteIconShape\",\n      r: \"7\",\n      cx: \"7.5\",\n      cy: \"7.5\"\n    }, this.deleteGroup_);\n    Blockly.utils.dom.createSvgElement(\"line\", {\n      x1: \"5\",\n      y1: \"10\",\n      x2: \"10\",\n      y2: \"5\",\n      stroke: \"#fff\",\n      \"stroke-width\": \"2\"\n    }, this.deleteGroup_);\n    Blockly.utils.dom.createSvgElement(\"line\", {\n      x1: \"5\",\n      y1: \"5\",\n      x2: \"10\",\n      y2: \"10\",\n      stroke: \"#fff\",\n      \"stroke-width\": \"2\"\n    }, this.deleteGroup_);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.resizeMouseDown_ = function (a) {\n    this.unbindDragEvents_();\n    Blockly.utils.isRightButton(a) || (this.workspace.startDrag(a, new Blockly.utils.Coordinate(this.workspace.RTL ? -this.width_ : this.width_, this.height_)), this.onMouseUpWrapper_ = Blockly.bindEventWithChecks_(document, \"mouseup\", this, this.resizeMouseUp_), this.onMouseMoveWrapper_ = Blockly.bindEventWithChecks_(document, \"mousemove\", this, this.resizeMouseMove_), Blockly.hideChaff());\n    a.stopPropagation();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.deleteMouseDown_ = function (a) {\n    Blockly.utils.dom.addClass(this.deleteIconBorder_, \"blocklyDeleteIconHighlighted\");\n    a.stopPropagation();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.deleteMouseOut_ = function (a) {\n    Blockly.utils.dom.removeClass(this.deleteIconBorder_, \"blocklyDeleteIconHighlighted\");\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.deleteMouseUp_ = function (a) {\n    this.dispose(!0, !0);\n    a.stopPropagation();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.unbindDragEvents_ = function () {\n    this.onMouseUpWrapper_ && (Blockly.unbindEvent_(this.onMouseUpWrapper_), this.onMouseUpWrapper_ = null);\n    this.onMouseMoveWrapper_ && (Blockly.unbindEvent_(this.onMouseMoveWrapper_), this.onMouseMoveWrapper_ = null);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.resizeMouseUp_ = function () {\n    Blockly.Touch.clearTouchIdentifier();\n    this.unbindDragEvents_();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.resizeMouseMove_ = function (a) {\n    this.autoLayout_ = !1;\n    a = this.workspace.moveDrag(a);\n    this.setSize_(this.RTL ? -a.x : a.x, a.y);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.resizeComment_ = function () {\n    var a = this.getHeightWidth(),\n        b = Blockly.WorkspaceCommentSvg.TOP_OFFSET,\n        c = 2 * Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET;\n    this.foreignObject_.setAttribute(\"width\", a.width);\n    this.foreignObject_.setAttribute(\"height\", a.height - b);\n    this.RTL && this.foreignObject_.setAttribute(\"x\", -a.width);\n    this.textarea_.style.width = a.width - c + \"px\";\n    this.textarea_.style.height = a.height - c - b + \"px\";\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setSize_ = function (a, b) {\n    a = Math.max(a, 45);\n    b = Math.max(b, 20 + Blockly.WorkspaceCommentSvg.TOP_OFFSET);\n    this.width_ = a;\n    this.height_ = b;\n    this.svgRect_.setAttribute(\"width\", a);\n    this.svgRect_.setAttribute(\"height\", b);\n    this.svgRectTarget_.setAttribute(\"width\", a);\n    this.svgRectTarget_.setAttribute(\"height\", b);\n    this.svgHandleTarget_.setAttribute(\"width\", a);\n    this.svgHandleTarget_.setAttribute(\"height\", Blockly.WorkspaceCommentSvg.TOP_OFFSET);\n    this.RTL && (this.svgRect_.setAttribute(\"transform\", \"scale(-1 1)\"), this.svgRectTarget_.setAttribute(\"transform\", \"scale(-1 1)\"));\n    var c = Blockly.WorkspaceCommentSvg.RESIZE_SIZE;\n    this.resizeGroup_ && (this.RTL ? (this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + (-a + c) + \",\" + (b - c) + \") scale(-1 1)\"), this.deleteGroup_.setAttribute(\"transform\", \"translate(\" + (-a + c) + \",\" + -c + \") scale(-1 1)\")) : (this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + (a - c) + \",\" + (b - c) + \")\"), this.deleteGroup_.setAttribute(\"transform\", \"translate(\" + (a - c) + \",\" + -c + \")\")));\n    this.resizeComment_();\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.disposeInternal_ = function () {\n    this.svgHandleTarget_ = this.svgRectTarget_ = this.foreignObject_ = this.textarea_ = null;\n    this.disposed_ = !0;\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.setFocus = function () {\n    var a = this;\n    this.focused_ = !0;\n    setTimeout(function () {\n      a.disposed_ || (a.textarea_.focus(), a.addFocus(), Blockly.utils.dom.addClass(a.svgRectTarget_, \"blocklyCommentTargetFocused\"), Blockly.utils.dom.addClass(a.svgHandleTarget_, \"blocklyCommentHandleTargetFocused\"));\n    }, 0);\n  };\n\n  Blockly.WorkspaceCommentSvg.prototype.blurFocus = function () {\n    var a = this;\n    this.focused_ = !1;\n    setTimeout(function () {\n      a.disposed_ || (a.textarea_.blur(), a.removeFocus(), Blockly.utils.dom.removeClass(a.svgRectTarget_, \"blocklyCommentTargetFocused\"), Blockly.utils.dom.removeClass(a.svgHandleTarget_, \"blocklyCommentHandleTargetFocused\"));\n    }, 0);\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg = function (a) {\n    this.container_ = a;\n    this.createDom();\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_ = null;\n  Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_ = null;\n  Blockly.WorkspaceDragSurfaceSvg.prototype.container_ = null;\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.createDom = function () {\n    this.SVG_ || (this.SVG_ = Blockly.utils.dom.createSvgElement(\"svg\", {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklyWsDragSurface blocklyOverflowVisible\"\n    }, null), this.container_.appendChild(this.SVG_));\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface = function (a, b) {\n    var c = a.toFixed(0),\n        d = b.toFixed(0);\n    this.SVG_.style.display = \"block\";\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"translate3d(\" + c + \"px, \" + d + \"px, 0px)\");\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation = function () {\n    return Blockly.utils.getRelativeXY(this.SVG_);\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide = function (a) {\n    if (!a) throw Error(\"Couldn't clear and hide the drag surface: missing new surface.\");\n    var b = this.SVG_.childNodes[0],\n        c = this.SVG_.childNodes[1];\n    if (!(b && c && Blockly.utils.dom.hasClass(b, \"blocklyBlockCanvas\") && Blockly.utils.dom.hasClass(c, \"blocklyBubbleCanvas\"))) throw Error(\"Couldn't clear and hide the drag surface. A node was missing.\");\n    null != this.previousSibling_ ? Blockly.utils.dom.insertAfter(b, this.previousSibling_) : a.insertBefore(b, a.firstChild);\n    Blockly.utils.dom.insertAfter(c, b);\n    this.SVG_.style.display = \"none\";\n    if (this.SVG_.childNodes.length) throw Error(\"Drag surface was not cleared.\");\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"\");\n    this.previousSibling_ = null;\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow = function (a, b, c, d, e, f) {\n    if (this.SVG_.childNodes.length) throw Error(\"Already dragging a block.\");\n    this.previousSibling_ = c;\n    a.setAttribute(\"transform\", \"translate(0, 0) scale(\" + f + \")\");\n    b.setAttribute(\"transform\", \"translate(0, 0) scale(\" + f + \")\");\n    this.SVG_.setAttribute(\"width\", d);\n    this.SVG_.setAttribute(\"height\", e);\n    this.SVG_.appendChild(a);\n    this.SVG_.appendChild(b);\n    this.SVG_.style.display = \"block\";\n  };\n\n  Blockly.ZoomControls = function (a) {\n    this.workspace_ = a;\n  };\n\n  Blockly.ZoomControls.prototype.WIDTH_ = 32;\n  Blockly.ZoomControls.prototype.HEIGHT_ = 110;\n  Blockly.ZoomControls.prototype.MARGIN_BOTTOM_ = 20;\n  Blockly.ZoomControls.prototype.MARGIN_SIDE_ = 20;\n  Blockly.ZoomControls.prototype.svgGroup_ = null;\n  Blockly.ZoomControls.prototype.left_ = 0;\n  Blockly.ZoomControls.prototype.top_ = 0;\n\n  Blockly.ZoomControls.prototype.createDom = function () {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, null);\n    var a = String(Math.random()).substring(2);\n    this.createZoomOutSvg_(a);\n    this.createZoomInSvg_(a);\n    this.workspace_.isMovable() && this.createZoomResetSvg_(a);\n    return this.svgGroup_;\n  };\n\n  Blockly.ZoomControls.prototype.init = function (a) {\n    this.verticalSpacing_ = this.MARGIN_BOTTOM_ + a;\n    return this.verticalSpacing_ + this.HEIGHT_;\n  };\n\n  Blockly.ZoomControls.prototype.dispose = function () {\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.workspace_ = null;\n  };\n\n  Blockly.ZoomControls.prototype.position = function () {\n    if (this.verticalSpacing_) {\n      var a = this.workspace_.getMetrics();\n      a && (this.left_ = a.toolboxPosition == Blockly.TOOLBOX_AT_LEFT || this.workspace_.horizontalLayout && !this.workspace_.RTL ? a.viewWidth + a.absoluteLeft - this.WIDTH_ - this.MARGIN_SIDE_ - Blockly.Scrollbar.scrollbarThickness : this.MARGIN_SIDE_ + Blockly.Scrollbar.scrollbarThickness, a.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM ? (this.top_ = this.verticalSpacing_, this.zoomInGroup_.setAttribute(\"transform\", \"translate(0, 34)\"), this.zoomResetGroup_ && this.zoomResetGroup_.setAttribute(\"transform\", \"translate(0, 77)\")) : (this.top_ = a.viewHeight + a.absoluteTop - this.HEIGHT_ - this.verticalSpacing_, this.zoomInGroup_.setAttribute(\"transform\", \"translate(0, 43)\"), this.zoomOutGroup_.setAttribute(\"transform\", \"translate(0, 77)\")), this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.left_ + \",\" + this.top_ + \")\"));\n    }\n  };\n\n  Blockly.ZoomControls.prototype.createZoomOutSvg_ = function (a) {\n    var b = this.workspace_;\n    this.zoomOutGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var c = Blockly.utils.dom.createSvgElement(\"clipPath\", {\n      id: \"blocklyZoomoutClipPath\" + a\n    }, this.zoomOutGroup_);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: 32,\n      height: 32\n    }, c);\n    a = Blockly.utils.dom.createSvgElement(\"image\", {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      x: -64,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoomoutClipPath\" + a + \")\"\n    }, this.zoomOutGroup_);\n    a.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", b.options.pathToMedia + Blockly.SPRITE.url);\n    Blockly.bindEventWithChecks_(a, \"mousedown\", null, function (a) {\n      b.markFocused();\n      b.zoomCenter(-1);\n      Blockly.Touch.clearTouchIdentifier();\n      a.stopPropagation();\n      a.preventDefault();\n    });\n  };\n\n  Blockly.ZoomControls.prototype.createZoomInSvg_ = function (a) {\n    var b = this.workspace_;\n    this.zoomInGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var c = Blockly.utils.dom.createSvgElement(\"clipPath\", {\n      id: \"blocklyZoominClipPath\" + a\n    }, this.zoomInGroup_);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: 32,\n      height: 32\n    }, c);\n    a = Blockly.utils.dom.createSvgElement(\"image\", {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      x: -32,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoominClipPath\" + a + \")\"\n    }, this.zoomInGroup_);\n    a.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", b.options.pathToMedia + Blockly.SPRITE.url);\n    Blockly.bindEventWithChecks_(a, \"mousedown\", null, function (a) {\n      b.markFocused();\n      b.zoomCenter(1);\n      Blockly.Touch.clearTouchIdentifier();\n      a.stopPropagation();\n      a.preventDefault();\n    });\n  };\n\n  Blockly.ZoomControls.prototype.createZoomResetSvg_ = function (a) {\n    var b = this.workspace_;\n    this.zoomResetGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var c = Blockly.utils.dom.createSvgElement(\"clipPath\", {\n      id: \"blocklyZoomresetClipPath\" + a\n    }, this.zoomResetGroup_);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: 32,\n      height: 32\n    }, c);\n    a = Blockly.utils.dom.createSvgElement(\"image\", {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoomresetClipPath\" + a + \")\"\n    }, this.zoomResetGroup_);\n    a.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", b.options.pathToMedia + Blockly.SPRITE.url);\n    Blockly.bindEventWithChecks_(a, \"mousedown\", null, function (a) {\n      b.markFocused();\n      b.setScale(b.options.zoomOptions.startScale);\n      b.beginCanvasTransition();\n      b.scrollCenter();\n      setTimeout(function () {\n        b.endCanvasTransition();\n      }, 500);\n      Blockly.Touch.clearTouchIdentifier();\n      a.stopPropagation();\n      a.preventDefault();\n    });\n  };\n\n  Blockly.WorkspaceSvg = function (a, b, c) {\n    Blockly.WorkspaceSvg.superClass_.constructor.call(this, a);\n    this.getMetrics = a.getMetrics || Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_;\n    this.setMetrics = a.setMetrics || Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;\n    this.connectionDBList = Blockly.ConnectionDB.init();\n    b && (this.blockDragSurface_ = b);\n    c && (this.workspaceDragSurface_ = c);\n    this.useWorkspaceDragSurface_ = this.workspaceDragSurface_ && Blockly.utils.is3dSupported();\n    this.highlightedBlocks_ = [];\n    this.audioManager_ = new Blockly.WorkspaceAudio(a.parentWorkspace);\n    this.grid_ = this.options.gridPattern ? new Blockly.Grid(a.gridPattern, a.gridOptions) : null;\n    Blockly.Variables && Blockly.Variables.flyoutCategory && this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME, Blockly.Variables.flyoutCategory);\n    Blockly.VariablesDynamic && Blockly.VariablesDynamic.flyoutCategory && this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME, Blockly.VariablesDynamic.flyoutCategory);\n    Blockly.Procedures && Blockly.Procedures.flyoutCategory && this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME, Blockly.Procedures.flyoutCategory);\n  };\n\n  goog.inherits(Blockly.WorkspaceSvg, Blockly.Workspace);\n  Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_ = null;\n  Blockly.WorkspaceSvg.prototype.rendered = !0;\n  Blockly.WorkspaceSvg.prototype.isVisible_ = !0;\n  Blockly.WorkspaceSvg.prototype.isFlyout = !1;\n  Blockly.WorkspaceSvg.prototype.isMutator = !1;\n  Blockly.WorkspaceSvg.prototype.resizesEnabled_ = !0;\n  Blockly.WorkspaceSvg.prototype.scrollX = 0;\n  Blockly.WorkspaceSvg.prototype.scrollY = 0;\n  Blockly.WorkspaceSvg.prototype.startScrollX = 0;\n  Blockly.WorkspaceSvg.prototype.startScrollY = 0;\n  Blockly.WorkspaceSvg.prototype.dragDeltaXY_ = null;\n  Blockly.WorkspaceSvg.prototype.scale = 1;\n  Blockly.WorkspaceSvg.prototype.trashcan = null;\n  Blockly.WorkspaceSvg.prototype.scrollbar = null;\n  Blockly.WorkspaceSvg.prototype.flyout_ = null;\n  Blockly.WorkspaceSvg.prototype.toolbox_ = null;\n  Blockly.WorkspaceSvg.prototype.currentGesture_ = null;\n  Blockly.WorkspaceSvg.prototype.blockDragSurface_ = null;\n  Blockly.WorkspaceSvg.prototype.workspaceDragSurface_ = null;\n  Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_ = !1;\n  Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_ = !1;\n  Blockly.WorkspaceSvg.prototype.injectionDiv_ = null;\n  Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_ = null;\n  Blockly.WorkspaceSvg.prototype.flyoutButtonCallbacks_ = {};\n  Blockly.WorkspaceSvg.prototype.toolboxCategoryCallbacks_ = {};\n  Blockly.WorkspaceSvg.prototype.configureContextMenu = null;\n  Blockly.WorkspaceSvg.prototype.targetWorkspace = null;\n  Blockly.WorkspaceSvg.prototype.inverseScreenCTM_ = null;\n  Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_ = !0;\n\n  Blockly.WorkspaceSvg.prototype.getInverseScreenCTM = function () {\n    if (this.inverseScreenCTMDirty_) {\n      var a = this.getParentSvg().getScreenCTM();\n      a && (this.inverseScreenCTM_ = a.inverse(), this.inverseScreenCTMDirty_ = !1);\n    }\n\n    return this.inverseScreenCTM_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM = function () {\n    this.inverseScreenCTMDirty_ = !0;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getSvgXY = function (a) {\n    var b = 0,\n        c = 0,\n        d = 1;\n    if (Blockly.utils.dom.containsNode(this.getCanvas(), a) || Blockly.utils.dom.containsNode(this.getBubbleCanvas(), a)) d = this.scale;\n\n    do {\n      var e = Blockly.utils.getRelativeXY(a);\n      if (a == this.getCanvas() || a == this.getBubbleCanvas()) d = 1;\n      b += e.x * d;\n      c += e.y * d;\n      a = a.parentNode;\n    } while (a && a != this.getParentSvg());\n\n    return new Blockly.utils.Coordinate(b, c);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels = function () {\n    return Blockly.utils.getInjectionDivXY_(this.svgBlockCanvas_);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getInjectionDiv = function () {\n    if (!this.injectionDiv_) for (var a = this.svgGroup_; a;) {\n      if (-1 != (\" \" + (a.getAttribute(\"class\") || \"\") + \" \").indexOf(\" injectionDiv \")) {\n        this.injectionDiv_ = a;\n        break;\n      }\n\n      a = a.parentNode;\n    }\n    return this.injectionDiv_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper = function (a) {\n    this.resizeHandlerWrapper_ = a;\n  };\n\n  Blockly.WorkspaceSvg.prototype.createDom = function (a) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyWorkspace\"\n    }, null);\n    a && (this.svgBackground_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      height: \"100%\",\n      width: \"100%\",\n      \"class\": a\n    }, this.svgGroup_), \"blocklyMainBackground\" == a && this.grid_ && (this.svgBackground_.style.fill = \"url(#\" + this.grid_.getPatternId() + \")\"));\n    this.svgBlockCanvas_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyBlockCanvas\"\n    }, this.svgGroup_);\n    this.svgBubbleCanvas_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": \"blocklyBubbleCanvas\"\n    }, this.svgGroup_);\n    this.isFlyout || (Blockly.bindEventWithChecks_(this.svgGroup_, \"mousedown\", this, this.onMouseDown_, !1, !0), Blockly.bindEventWithChecks_(this.svgGroup_, \"wheel\", this, this.onMouseWheel_));\n    this.options.hasCategories && (this.toolbox_ = new Blockly.Toolbox(this));\n    this.grid_ && this.grid_.update(this.scale);\n    this.recordDeleteAreas();\n    return this.svgGroup_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.dispose = function () {\n    this.rendered = !1;\n    this.currentGesture_ && this.currentGesture_.cancel();\n    Blockly.WorkspaceSvg.superClass_.dispose.call(this);\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.svgBubbleCanvas_ = this.svgBlockCanvas_ = null;\n    this.toolbox_ && (this.toolbox_.dispose(), this.toolbox_ = null);\n    this.flyout_ && (this.flyout_.dispose(), this.flyout_ = null);\n    this.trashcan && (this.trashcan.dispose(), this.trashcan = null);\n    this.scrollbar && (this.scrollbar.dispose(), this.scrollbar = null);\n    this.zoomControls_ && (this.zoomControls_.dispose(), this.zoomControls_ = null);\n    this.audioManager_ && (this.audioManager_.dispose(), this.audioManager_ = null);\n    this.grid_ && (this.grid_.dispose(), this.grid_ = null);\n    this.flyoutButtonCallbacks_ = this.toolboxCategoryCallbacks_ = this.connectionDBList = null;\n\n    if (!this.options.parentWorkspace) {\n      var a = this.getParentSvg().parentNode;\n      a && Blockly.utils.dom.removeNode(a);\n    }\n\n    this.resizeHandlerWrapper_ && (Blockly.unbindEvent_(this.resizeHandlerWrapper_), this.resizeHandlerWrapper_ = null);\n  };\n\n  Blockly.WorkspaceSvg.prototype.newBlock = function (a, b) {\n    return new Blockly.BlockSvg(this, a, b);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addTrashcan = function () {\n    this.trashcan = new Blockly.Trashcan(this);\n    var a = this.trashcan.createDom();\n    this.svgGroup_.insertBefore(a, this.svgBlockCanvas_);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addZoomControls = function () {\n    this.zoomControls_ = new Blockly.ZoomControls(this);\n    var a = this.zoomControls_.createDom();\n    this.svgGroup_.appendChild(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addFlyout_ = function (a) {\n    var b = {\n      disabledPatternId: this.options.disabledPatternId,\n      parentWorkspace: this,\n      RTL: this.RTL,\n      oneBasedIndex: this.options.oneBasedIndex,\n      horizontalLayout: this.horizontalLayout,\n      toolboxPosition: this.options.toolboxPosition\n    };\n    this.flyout_ = this.horizontalLayout ? new Blockly.HorizontalFlyout(b) : new Blockly.VerticalFlyout(b);\n    this.flyout_.autoClose = !1;\n    return this.flyout_.createDom(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getFlyout = function () {\n    return this.flyout_ ? this.flyout_ : this.toolbox_ ? this.toolbox_.flyout_ : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getToolbox = function () {\n    return this.toolbox_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateScreenCalculations_ = function () {\n    this.updateInverseScreenCTM();\n    this.recordDeleteAreas();\n  };\n\n  Blockly.WorkspaceSvg.prototype.resizeContents = function () {\n    if (this.resizesEnabled_ && this.rendered) {\n      if (this.scrollbar) {\n        var a = this.getMetrics();\n        this.scrollbar.hScroll.resizeContentHorizontal(a);\n        this.scrollbar.vScroll.resizeContentVertical(a);\n      }\n\n      this.updateInverseScreenCTM();\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.resize = function () {\n    this.toolbox_ && this.toolbox_.position();\n    this.flyout_ && this.flyout_.position();\n    this.trashcan && this.trashcan.position();\n    this.zoomControls_ && this.zoomControls_.position();\n    this.scrollbar && this.scrollbar.resize();\n    this.updateScreenCalculations_();\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled = function () {\n    var a = Blockly.utils.getDocumentScroll();\n    Blockly.utils.Coordinate.equals(this.lastRecordedPageScroll_, a) || (this.lastRecordedPageScroll_ = a, this.updateScreenCalculations_());\n  };\n\n  Blockly.WorkspaceSvg.prototype.getCanvas = function () {\n    return this.svgBlockCanvas_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBubbleCanvas = function () {\n    return this.svgBubbleCanvas_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getParentSvg = function () {\n    if (this.cachedParentSvg_) return this.cachedParentSvg_;\n\n    for (var a = this.svgGroup_; a;) {\n      if (\"svg\" == a.tagName) return this.cachedParentSvg_ = a;\n      a = a.parentNode;\n    }\n\n    return null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.translate = function (a, b) {\n    if (this.useWorkspaceDragSurface_ && this.isDragSurfaceActive_) this.workspaceDragSurface_.translateSurface(a, b);else {\n      var c = \"translate(\" + a + \",\" + b + \") scale(\" + this.scale + \")\";\n      this.svgBlockCanvas_.setAttribute(\"transform\", c);\n      this.svgBubbleCanvas_.setAttribute(\"transform\", c);\n    }\n    this.blockDragSurface_ && this.blockDragSurface_.translateAndScaleGroup(a, b, this.scale);\n    this.grid_ && this.grid_.moveTo(a, b);\n  };\n\n  Blockly.WorkspaceSvg.prototype.resetDragSurface = function () {\n    if (this.useWorkspaceDragSurface_) {\n      this.isDragSurfaceActive_ = !1;\n      var a = this.workspaceDragSurface_.getSurfaceTranslation();\n      this.workspaceDragSurface_.clearAndHide(this.svgGroup_);\n      a = \"translate(\" + a.x + \",\" + a.y + \") scale(\" + this.scale + \")\";\n      this.svgBlockCanvas_.setAttribute(\"transform\", a);\n      this.svgBubbleCanvas_.setAttribute(\"transform\", a);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.setupDragSurface = function () {\n    if (this.useWorkspaceDragSurface_ && !this.isDragSurfaceActive_) {\n      this.isDragSurfaceActive_ = !0;\n      var a = this.svgBlockCanvas_.previousSibling,\n          b = parseInt(this.getParentSvg().getAttribute(\"width\"), 10),\n          c = parseInt(this.getParentSvg().getAttribute(\"height\"), 10),\n          d = Blockly.utils.getRelativeXY(this.svgBlockCanvas_);\n      this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_, this.svgBubbleCanvas_, a, b, c, this.scale);\n      this.workspaceDragSurface_.translateSurface(d.x, d.y);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlockDragSurface = function () {\n    return this.blockDragSurface_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getWidth = function () {\n    var a = this.getMetrics();\n    return a ? a.viewWidth / this.scale : 0;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setVisible = function (a) {\n    this.scrollbar && this.scrollbar.setContainerVisible(a);\n    this.getFlyout() && this.getFlyout().setContainerVisible(a);\n    this.getParentSvg().style.display = a ? \"block\" : \"none\";\n    this.toolbox_ && (this.toolbox_.HtmlDiv.style.display = a ? \"block\" : \"none\");\n    a ? (this.render(), this.toolbox_ && this.toolbox_.position()) : Blockly.hideChaff(!0);\n    this.isVisible_ = a;\n  };\n\n  Blockly.WorkspaceSvg.prototype.render = function () {\n    for (var a = this.getAllBlocks(!1), b = a.length - 1; 0 <= b; b--) a[b].render(!1);\n\n    if (this.currentGesture_) for (a = this.currentGesture_.getInsertionMarkers(), b = 0; b < a.length; b++) a[b].render(!1);\n  };\n\n  Blockly.WorkspaceSvg.prototype.traceOn = function () {\n    console.warn(\"Deprecated call to traceOn, delete this.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.highlightBlock = function (a, b) {\n    if (void 0 === b) {\n      for (var c = 0, d; d = this.highlightedBlocks_[c]; c++) d.setHighlighted(!1);\n\n      this.highlightedBlocks_.length = 0;\n    }\n\n    if (d = a ? this.getBlockById(a) : null) (c = void 0 === b || b) ? -1 == this.highlightedBlocks_.indexOf(d) && this.highlightedBlocks_.push(d) : Blockly.utils.arrayRemove(this.highlightedBlocks_, d), d.setHighlighted(c);\n  };\n\n  Blockly.WorkspaceSvg.prototype.paste = function (a) {\n    !this.rendered || a.getElementsByTagName(\"block\").length >= this.remainingCapacity() || (this.currentGesture_ && this.currentGesture_.cancel(), \"comment\" == a.tagName.toLowerCase() ? this.pasteWorkspaceComment_(a) : this.pasteBlock_(a));\n  };\n\n  Blockly.WorkspaceSvg.prototype.pasteBlock_ = function (a) {\n    Blockly.Events.disable();\n\n    try {\n      var b = Blockly.Xml.domToBlock(a, this),\n          c = parseInt(a.getAttribute(\"x\"), 10),\n          d = parseInt(a.getAttribute(\"y\"), 10);\n\n      if (!isNaN(c) && !isNaN(d)) {\n        this.RTL && (c = -c);\n\n        do {\n          a = !1;\n\n          for (var e = this.getAllBlocks(!1), f = 0, g; g = e[f]; f++) {\n            var h = g.getRelativeToSurfaceXY();\n\n            if (1 >= Math.abs(c - h.x) && 1 >= Math.abs(d - h.y)) {\n              a = !0;\n              break;\n            }\n          }\n\n          if (!a) {\n            var k = b.getConnections_(!1);\n            f = 0;\n\n            for (var l; l = k[f]; f++) if (l.closest(Blockly.SNAP_RADIUS, new Blockly.utils.Coordinate(c, d)).connection) {\n              a = !0;\n              break;\n            }\n          }\n\n          a && (c = this.RTL ? c - Blockly.SNAP_RADIUS : c + Blockly.SNAP_RADIUS, d += 2 * Blockly.SNAP_RADIUS);\n        } while (a);\n\n        b.moveBy(c, d);\n      }\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.Events.isEnabled() && !b.isShadow() && Blockly.Events.fire(new Blockly.Events.BlockCreate(b));\n    b.select();\n  };\n\n  Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_ = function (a) {\n    Blockly.Events.disable();\n\n    try {\n      var b = Blockly.WorkspaceCommentSvg.fromXml(a, this),\n          c = parseInt(a.getAttribute(\"x\"), 10),\n          d = parseInt(a.getAttribute(\"y\"), 10);\n      isNaN(c) || isNaN(d) || (this.RTL && (c = -c), b.moveBy(c + 50, d + 50));\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.Events.isEnabled();\n    b.select();\n  };\n\n  Blockly.WorkspaceSvg.prototype.refreshToolboxSelection = function () {\n    var a = this.isFlyout ? this.targetWorkspace : this;\n    a && !a.currentGesture_ && a.toolbox_ && a.toolbox_.flyout_ && a.toolbox_.refreshSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.renameVariableById = function (a, b) {\n    Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this, a, b);\n    this.refreshToolboxSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.deleteVariableById = function (a) {\n    Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this, a);\n    this.refreshToolboxSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.createVariable = function (a, b, c) {\n    a = Blockly.WorkspaceSvg.superClass_.createVariable.call(this, a, b, c);\n    this.refreshToolboxSelection();\n    return a;\n  };\n\n  Blockly.WorkspaceSvg.prototype.recordDeleteAreas = function () {\n    this.deleteAreaTrash_ = this.trashcan && this.svgGroup_.parentNode ? this.trashcan.getClientRect() : null;\n    this.deleteAreaToolbox_ = this.flyout_ ? this.flyout_.getClientRect() : this.toolbox_ ? this.toolbox_.getClientRect() : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDeleteArea = function (a) {\n    return this.deleteAreaTrash_ && this.deleteAreaTrash_.contains(a.clientX, a.clientY) ? Blockly.DELETE_AREA_TRASH : this.deleteAreaToolbox_ && this.deleteAreaToolbox_.contains(a.clientX, a.clientY) ? Blockly.DELETE_AREA_TOOLBOX : Blockly.DELETE_AREA_NONE;\n  };\n\n  Blockly.WorkspaceSvg.prototype.onMouseDown_ = function (a) {\n    var b = this.getGesture(a);\n    b && b.handleWsStart(a, this);\n  };\n\n  Blockly.WorkspaceSvg.prototype.startDrag = function (a, b) {\n    var c = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM());\n    c.x /= this.scale;\n    c.y /= this.scale;\n    this.dragDeltaXY_ = Blockly.utils.Coordinate.difference(b, c);\n  };\n\n  Blockly.WorkspaceSvg.prototype.moveDrag = function (a) {\n    a = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM());\n    a.x /= this.scale;\n    a.y /= this.scale;\n    return Blockly.utils.Coordinate.sum(this.dragDeltaXY_, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDragging = function () {\n    return null != this.currentGesture_ && this.currentGesture_.isDragging();\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDraggable = function () {\n    return this.options.moveOptions && this.options.moveOptions.drag;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isContentBounded = function () {\n    return this.options.moveOptions && this.options.moveOptions.scrollbars || this.options.moveOptions && this.options.moveOptions.wheel || this.options.moveOptions && this.options.moveOptions.drag || this.options.zoomOptions && this.options.zoomOptions.controls || this.options.zoomOptions && this.options.zoomOptions.wheel;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isMovable = function () {\n    return this.options.moveOptions && this.options.moveOptions.scrollbars || this.options.moveOptions && this.options.moveOptions.wheel || this.options.moveOptions && this.options.moveOptions.drag || this.options.zoomOptions && this.options.zoomOptions.wheel;\n  };\n\n  Blockly.WorkspaceSvg.prototype.onMouseWheel_ = function (a) {\n    if (Blockly.Gesture.inProgress()) a.preventDefault(), a.stopPropagation();else {\n      var b = this.options.zoomOptions && this.options.zoomOptions.wheel,\n          c = this.options.moveOptions && this.options.moveOptions.wheel;\n\n      if (b || c) {\n        var d = Blockly.utils.getScrollDeltaPixels(a);\n        !b || !a.ctrlKey && c ? (b = this.scrollX - d.x, c = this.scrollY - d.y, a.shiftKey && !d.x && (b = this.scrollX - d.y, c = this.scrollY), this.scroll(b, c)) : (d = -d.y / 50, b = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM()), this.zoom(b.x, b.y, d));\n        a.preventDefault();\n      }\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox = function () {\n    var a = this.getTopBlocks(!1),\n        b = this.getTopComments(!1);\n    a = a.concat(b);\n    if (!a.length) return new Blockly.utils.Rect(0, 0, 0, 0);\n    b = a[0].getBoundingRectangle();\n\n    for (var c = 1; c < a.length; c++) {\n      var d = a[c].getBoundingRectangle();\n      d.top < b.top && (b.top = d.top);\n      d.bottom > b.bottom && (b.bottom = d.bottom);\n      d.left < b.left && (b.left = d.left);\n      d.right > b.right && (b.right = d.right);\n    }\n\n    return b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.cleanUp = function () {\n    this.setResizesEnabled(!1);\n    Blockly.Events.setGroup(!0);\n\n    for (var a = this.getTopBlocks(!0), b = 0, c = 0, d; d = a[c]; c++) if (d.isMovable()) {\n      var e = d.getRelativeToSurfaceXY();\n      d.moveBy(-e.x, b - e.y);\n      d.snapToGrid();\n      b = d.getRelativeToSurfaceXY().y + d.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n    }\n\n    Blockly.Events.setGroup(!1);\n    this.setResizesEnabled(!0);\n  };\n\n  Blockly.WorkspaceSvg.prototype.showContextMenu_ = function (a) {\n    function b(a) {\n      if (a.isDeletable()) p = p.concat(a.getDescendants(!1));else {\n        a = a.getChildren(!1);\n\n        for (var c = 0; c < a.length; c++) b(a[c]);\n      }\n    }\n\n    function c() {\n      Blockly.Events.setGroup(f);\n      var a = p.shift();\n      a && (a.workspace ? (a.dispose(!1, !0), setTimeout(c, 10)) : c());\n      Blockly.Events.setGroup(!1);\n    }\n\n    if (!this.options.readOnly && !this.isFlyout) {\n      var d = [],\n          e = this.getTopBlocks(!0),\n          f = Blockly.utils.genUid(),\n          g = this,\n          h = {};\n      h.text = Blockly.Msg.UNDO;\n      h.enabled = 0 < this.undoStack_.length;\n      h.callback = this.undo.bind(this, !1);\n      d.push(h);\n      h = {};\n      h.text = Blockly.Msg.REDO;\n      h.enabled = 0 < this.redoStack_.length;\n      h.callback = this.undo.bind(this, !0);\n      d.push(h);\n      this.isMovable() && (h = {}, h.text = Blockly.Msg.CLEAN_UP, h.enabled = 1 < e.length, h.callback = this.cleanUp.bind(this), d.push(h));\n\n      if (this.options.collapse) {\n        for (var k = h = !1, l = 0; l < e.length; l++) for (var n = e[l]; n;) n.isCollapsed() ? h = !0 : k = !0, n = n.getNextBlock();\n\n        var m = function (a) {\n          for (var b = 0, c = 0; c < e.length; c++) for (var d = e[c]; d;) setTimeout(d.setCollapsed.bind(d, a), b), d = d.getNextBlock(), b += 10;\n        };\n\n        k = {\n          enabled: k\n        };\n        k.text = Blockly.Msg.COLLAPSE_ALL;\n\n        k.callback = function () {\n          m(!0);\n        };\n\n        d.push(k);\n        h = {\n          enabled: h\n        };\n        h.text = Blockly.Msg.EXPAND_ALL;\n\n        h.callback = function () {\n          m(!1);\n        };\n\n        d.push(h);\n      }\n\n      var p = [];\n\n      for (l = 0; l < e.length; l++) b(e[l]);\n\n      h = {\n        text: 1 == p.length ? Blockly.Msg.DELETE_BLOCK : Blockly.Msg.DELETE_X_BLOCKS.replace(\"%1\", String(p.length)),\n        enabled: 0 < p.length,\n        callback: function () {\n          g.currentGesture_ && g.currentGesture_.cancel();\n          2 > p.length ? c() : Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace(\"%1\", p.length), function (a) {\n            a && c();\n          });\n        }\n      };\n      d.push(h);\n      this.configureContextMenu && this.configureContextMenu(d);\n      Blockly.ContextMenu.show(a, d, this.RTL);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateToolbox = function (a) {\n    if (a = Blockly.Options.parseToolboxTree(a)) {\n      if (!this.options.languageTree) throw Error(\"Existing toolbox is null.  Can't create new toolbox.\");\n\n      if (a.getElementsByTagName(\"category\").length) {\n        if (!this.toolbox_) throw Error(\"Existing toolbox has no categories.  Can't change mode.\");\n        this.options.languageTree = a;\n        a = this.toolbox_.populate_(a);\n        this.toolbox_.addColour_();\n        this.toolbox_.position();\n        this.toolbox_.tree_.setSelectedItem(a);\n      } else {\n        if (!this.flyout_) throw Error(\"Existing toolbox has categories.  Can't change mode.\");\n        this.options.languageTree = a;\n        this.flyout_.show(a.childNodes);\n      }\n    } else if (this.options.languageTree) throw Error(\"Can't nullify an existing toolbox.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.markFocused = function () {\n    this.options.parentWorkspace ? this.options.parentWorkspace.markFocused() : (Blockly.mainWorkspace = this, this.setBrowserFocus());\n  };\n\n  Blockly.WorkspaceSvg.prototype.setBrowserFocus = function () {\n    document.activeElement && document.activeElement.blur();\n\n    try {\n      this.getParentSvg().focus();\n    } catch (a) {\n      try {\n        this.getParentSvg().parentNode.setActive();\n      } catch (b) {\n        this.getParentSvg().parentNode.focus();\n      }\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoom = function (a, b, c) {\n    c = Math.pow(this.options.zoomOptions.scaleSpeed, c);\n    var d = this.scale * c;\n\n    if (this.scale != d) {\n      d > this.options.zoomOptions.maxScale ? c = this.options.zoomOptions.maxScale / this.scale : d < this.options.zoomOptions.minScale && (c = this.options.zoomOptions.minScale / this.scale);\n      var e = this.getCanvas().getCTM(),\n          f = this.getParentSvg().createSVGPoint();\n      f.x = a;\n      f.y = b;\n      f = f.matrixTransform(e.inverse());\n      a = f.x;\n      b = f.y;\n      e = e.translate(a * (1 - c), b * (1 - c)).scale(c);\n      this.scrollX = e.e;\n      this.scrollY = e.f;\n      this.setScale(d);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoomCenter = function (a) {\n    var b = this.getMetrics();\n\n    if (this.flyout_) {\n      var c = b.svgWidth / 2;\n      b = b.svgHeight / 2;\n    } else c = b.viewWidth / 2 + b.absoluteLeft, b = b.viewHeight / 2 + b.absoluteTop;\n\n    this.zoom(c, b, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoomToFit = function () {\n    if (this.isMovable()) {\n      var a = this.getMetrics(),\n          b = a.viewWidth;\n      a = a.viewHeight;\n      var c = this.getBlocksBoundingBox(),\n          d = c.right - c.left;\n      c = c.bottom - c.top;\n      d && (this.flyout_ && (this.horizontalLayout ? (a += this.flyout_.height_, c += this.flyout_.height_ / this.scale) : (b += this.flyout_.getWidth(), d += this.flyout_.getWidth() / this.scale)), this.setScale(Math.min(b / d, a / c)), this.scrollCenter());\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.beginCanvasTransition = function () {\n    Blockly.utils.dom.addClass(this.svgBlockCanvas_, \"blocklyCanvasTransitioning\");\n    Blockly.utils.dom.addClass(this.svgBubbleCanvas_, \"blocklyCanvasTransitioning\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.endCanvasTransition = function () {\n    Blockly.utils.dom.removeClass(this.svgBlockCanvas_, \"blocklyCanvasTransitioning\");\n    Blockly.utils.dom.removeClass(this.svgBubbleCanvas_, \"blocklyCanvasTransitioning\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.scrollCenter = function () {\n    if (this.isMovable()) {\n      var a = this.getMetrics(),\n          b = (a.contentWidth - a.viewWidth) / 2,\n          c = (a.contentHeight - a.viewHeight) / 2;\n      b = -b - a.contentLeft;\n      c = -c - a.contentTop;\n      this.scroll(b, c);\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.centerOnBlock = function (a) {\n    if (this.isMovable()) {\n      if (a = this.getBlockById(a)) {\n        var b = a.getRelativeToSurfaceXY(),\n            c = a.getHeightWidth(),\n            d = this.scale;\n        a = (b.x + (this.RTL ? -1 : 1) * c.width / 2) * d;\n        b = (b.y + c.height / 2) * d;\n        c = this.getMetrics();\n        a = -(a - c.contentLeft - c.viewWidth / 2) - c.contentLeft;\n        b = -(b - c.contentTop - c.viewHeight / 2) - c.contentTop;\n        Blockly.hideChaff();\n        this.scroll(a, b);\n      }\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.setScale = function (a) {\n    this.options.zoomOptions.maxScale && a > this.options.zoomOptions.maxScale ? a = this.options.zoomOptions.maxScale : this.options.zoomOptions.minScale && a < this.options.zoomOptions.minScale && (a = this.options.zoomOptions.minScale);\n    this.scale = a;\n    Blockly.hideChaff(!1);\n    this.flyout_ && (this.flyout_.reflow(), this.recordDeleteAreas());\n    this.grid_ && this.grid_.update(this.scale);\n    a = this.getMetrics();\n    this.scrollX -= a.absoluteLeft;\n    this.scrollY -= a.absoluteTop;\n    a.viewLeft += a.absoluteLeft;\n    a.viewTop += a.absoluteTop;\n    this.scroll(this.scrollX, this.scrollY);\n    this.scrollbar && (this.flyout_ ? (this.scrollbar.hScroll.resizeViewHorizontal(a), this.scrollbar.vScroll.resizeViewVertical(a)) : (this.scrollbar.hScroll.resizeContentHorizontal(a), this.scrollbar.vScroll.resizeContentVertical(a)));\n  };\n\n  Blockly.WorkspaceSvg.prototype.scroll = function (a, b) {\n    Blockly.hideChaff(!0);\n    var c = this.getMetrics(),\n        d = c.contentWidth + c.contentLeft - c.viewWidth,\n        e = c.contentHeight + c.contentTop - c.viewHeight;\n    a = Math.min(a, -c.contentLeft);\n    b = Math.min(b, -c.contentTop);\n    a = Math.max(a, -d);\n    b = Math.max(b, -e);\n    this.scrollX = a;\n    this.scrollY = b;\n    this.scrollbar && (this.scrollbar.hScroll.setHandlePosition(-(a + c.contentLeft) * this.scrollbar.hScroll.ratio_), this.scrollbar.vScroll.setHandlePosition(-(b + c.contentTop) * this.scrollbar.vScroll.ratio_));\n    a += c.absoluteLeft;\n    b += c.absoluteTop;\n    this.translate(a, b);\n  };\n\n  Blockly.WorkspaceSvg.getDimensionsPx_ = function (a) {\n    var b = 0,\n        c = 0;\n    a && (b = a.getWidth(), c = a.getHeight());\n    return {\n      width: b,\n      height: c\n    };\n  };\n\n  Blockly.WorkspaceSvg.getContentDimensions_ = function (a, b) {\n    return a.isContentBounded() ? Blockly.WorkspaceSvg.getContentDimensionsBounded_(a, b) : Blockly.WorkspaceSvg.getContentDimensionsExact_(a);\n  };\n\n  Blockly.WorkspaceSvg.getContentDimensionsExact_ = function (a) {\n    var b = a.getBlocksBoundingBox(),\n        c = a.scale;\n    a = b.top * c;\n    var d = b.bottom * c,\n        e = b.left * c;\n    b = b.right * c;\n    return {\n      top: a,\n      bottom: d,\n      left: e,\n      right: b,\n      width: b - e,\n      height: d - a\n    };\n  };\n\n  Blockly.WorkspaceSvg.getContentDimensionsBounded_ = function (a, b) {\n    var c = Blockly.WorkspaceSvg.getContentDimensionsExact_(a),\n        d = b.width,\n        e = b.height,\n        f = d / 2,\n        g = e / 2,\n        h = Math.min(c.left - f, c.right - d),\n        k = Math.min(c.top - g, c.bottom - e);\n    return {\n      left: h,\n      top: k,\n      height: Math.max(c.bottom + g, c.top + e) - k,\n      width: Math.max(c.right + f, c.left + d) - h\n    };\n  };\n\n  Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_ = function () {\n    var a = Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_),\n        b = Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_),\n        c = Blockly.svgSize(this.getParentSvg()),\n        d = {\n      height: c.height,\n      width: c.width\n    };\n    if (this.toolbox_) {\n      if (this.toolboxPosition == Blockly.TOOLBOX_AT_TOP || this.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM) d.height -= a.height;else {\n        if (this.toolboxPosition == Blockly.TOOLBOX_AT_LEFT || this.toolboxPosition == Blockly.TOOLBOX_AT_RIGHT) d.width -= a.width;\n      }\n    } else if (this.flyout_) if (this.toolboxPosition == Blockly.TOOLBOX_AT_TOP || this.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM) d.height -= b.height;else if (this.toolboxPosition == Blockly.TOOLBOX_AT_LEFT || this.toolboxPosition == Blockly.TOOLBOX_AT_RIGHT) d.width -= b.width;\n    var e = Blockly.WorkspaceSvg.getContentDimensions_(this, d),\n        f = 0;\n    this.toolbox_ && this.toolboxPosition == Blockly.TOOLBOX_AT_LEFT ? f = a.width : this.flyout_ && this.toolboxPosition == Blockly.TOOLBOX_AT_LEFT && (f = b.width);\n    var g = 0;\n    this.toolbox_ && this.toolboxPosition == Blockly.TOOLBOX_AT_TOP ? g = a.height : this.flyout_ && this.toolboxPosition == Blockly.TOOLBOX_AT_TOP && (g = b.height);\n    return {\n      contentHeight: e.height,\n      contentWidth: e.width,\n      contentTop: e.top,\n      contentLeft: e.left,\n      viewHeight: d.height,\n      viewWidth: d.width,\n      viewTop: -this.scrollY,\n      viewLeft: -this.scrollX,\n      absoluteTop: g,\n      absoluteLeft: f,\n      svgHeight: c.height,\n      svgWidth: c.width,\n      toolboxWidth: a.width,\n      toolboxHeight: a.height,\n      flyoutWidth: b.width,\n      flyoutHeight: b.height,\n      toolboxPosition: this.toolboxPosition\n    };\n  };\n\n  Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_ = function (a) {\n    var b = this.getMetrics();\n    \"number\" == typeof a.x && (this.scrollX = -b.contentWidth * a.x - b.contentLeft);\n    \"number\" == typeof a.y && (this.scrollY = -b.contentHeight * a.y - b.contentTop);\n    this.translate(this.scrollX + b.absoluteLeft, this.scrollY + b.absoluteTop);\n  };\n\n  Blockly.WorkspaceSvg.prototype.setResizesEnabled = function (a) {\n    var b = !this.resizesEnabled_ && a;\n    this.resizesEnabled_ = a;\n    b && this.resizeContents();\n  };\n\n  Blockly.WorkspaceSvg.prototype.clear = function () {\n    this.setResizesEnabled(!1);\n    Blockly.WorkspaceSvg.superClass_.clear.call(this);\n    this.setResizesEnabled(!0);\n  };\n\n  Blockly.WorkspaceSvg.prototype.registerButtonCallback = function (a, b) {\n    if (\"function\" != typeof b) throw TypeError(\"Button callbacks must be functions.\");\n    this.flyoutButtonCallbacks_[a] = b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getButtonCallback = function (a) {\n    return (a = this.flyoutButtonCallbacks_[a]) ? a : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeButtonCallback = function (a) {\n    this.flyoutButtonCallbacks_[a] = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback = function (a, b) {\n    if (\"function\" != typeof b) throw TypeError(\"Toolbox category callbacks must be functions.\");\n    this.toolboxCategoryCallbacks_[a] = b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback = function (a) {\n    return this.toolboxCategoryCallbacks_[a] || null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback = function (a) {\n    this.toolboxCategoryCallbacks_[a] = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getGesture = function (a) {\n    var b = \"mousedown\" == a.type || \"touchstart\" == a.type || \"pointerdown\" == a.type,\n        c = this.currentGesture_;\n    return c ? b && c.hasStarted() ? (console.warn(\"Tried to start the same gesture twice.\"), c.cancel(), null) : c : b ? this.currentGesture_ = new Blockly.TouchGesture(a, this) : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.clearGesture = function () {\n    this.currentGesture_ = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.cancelCurrentGesture = function () {\n    this.currentGesture_ && this.currentGesture_.cancel();\n  };\n\n  Blockly.WorkspaceSvg.prototype.getAudioManager = function () {\n    return this.audioManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getGrid = function () {\n    return this.grid_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setVisible = Blockly.WorkspaceSvg.prototype.setVisible;\n\n  Blockly.Mutator = function (a) {\n    Blockly.Mutator.superClass_.constructor.call(this, null);\n    this.quarkNames_ = a;\n  };\n\n  goog.inherits(Blockly.Mutator, Blockly.Icon);\n  Blockly.Mutator.prototype.workspaceWidth_ = 0;\n  Blockly.Mutator.prototype.workspaceHeight_ = 0;\n\n  Blockly.Mutator.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyIconShape\",\n      rx: \"4\",\n      ry: \"4\",\n      height: \"16\",\n      width: \"16\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"circle\", {\n      \"class\": \"blocklyIconShape\",\n      r: \"2.7\",\n      cx: \"8\",\n      cy: \"8\"\n    }, a);\n  };\n\n  Blockly.Mutator.prototype.iconClick_ = function (a) {\n    this.block_.isEditable() && Blockly.Icon.prototype.iconClick_.call(this, a);\n  };\n\n  Blockly.Mutator.prototype.createEditor_ = function () {\n    this.svgDialog_ = Blockly.utils.dom.createSvgElement(\"svg\", {\n      x: Blockly.Bubble.BORDER_WIDTH,\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    if (this.quarkNames_.length) for (var a = Blockly.utils.xml.createElement(\"xml\"), b = 0, c; c = this.quarkNames_[b]; b++) {\n      var d = Blockly.utils.xml.createElement(\"block\");\n      d.setAttribute(\"type\", c);\n      a.appendChild(d);\n    } else a = null;\n    a = {\n      disable: !1,\n      disabledPatternId: this.block_.workspace.options.disabledPatternId,\n      languageTree: a,\n      parentWorkspace: this.block_.workspace,\n      pathToMedia: this.block_.workspace.options.pathToMedia,\n      RTL: this.block_.RTL,\n      toolboxPosition: this.block_.RTL ? Blockly.TOOLBOX_AT_RIGHT : Blockly.TOOLBOX_AT_LEFT,\n      horizontalLayout: !1,\n      getMetrics: this.getFlyoutMetrics_.bind(this),\n      setMetrics: null\n    };\n    this.workspace_ = new Blockly.WorkspaceSvg(a);\n    this.workspace_.isMutator = !0;\n    this.workspace_.addChangeListener(Blockly.Events.disableOrphans);\n    a = this.workspace_.addFlyout_(\"g\");\n    b = this.workspace_.createDom(\"blocklyMutatorBackground\");\n    b.insertBefore(a, this.workspace_.svgBlockCanvas_);\n    this.svgDialog_.appendChild(b);\n    return this.svgDialog_;\n  };\n\n  Blockly.Mutator.prototype.updateEditable = function () {\n    this.block_.isInFlyout || (this.block_.isEditable() ? this.iconGroup_ && Blockly.utils.dom.removeClass(this.iconGroup_, \"blocklyIconGroupReadonly\") : (this.setVisible(!1), this.iconGroup_ && Blockly.utils.dom.addClass(this.iconGroup_, \"blocklyIconGroupReadonly\")));\n    Blockly.Icon.prototype.updateEditable.call(this);\n  };\n\n  Blockly.Mutator.prototype.resizeBubble_ = function () {\n    var a = 2 * Blockly.Bubble.BORDER_WIDTH,\n        b = this.workspace_.getCanvas().getBBox();\n    var c = this.block_.RTL ? -b.x : b.width + b.x;\n    b = b.height + 3 * a;\n\n    if (this.workspace_.flyout_) {\n      var d = this.workspace_.flyout_.getMetrics_();\n      b = Math.max(b, d.contentHeight + 20);\n    }\n\n    c += 3 * a;\n    if (Math.abs(this.workspaceWidth_ - c) > a || Math.abs(this.workspaceHeight_ - b) > a) this.workspaceWidth_ = c, this.workspaceHeight_ = b, this.bubble_.setBubbleSize(c + a, b + a), this.svgDialog_.setAttribute(\"width\", this.workspaceWidth_), this.svgDialog_.setAttribute(\"height\", this.workspaceHeight_);\n    this.block_.RTL && (a = \"translate(\" + this.workspaceWidth_ + \",0)\", this.workspace_.getCanvas().setAttribute(\"transform\", a));\n    this.workspace_.resize();\n  };\n\n  Blockly.Mutator.prototype.setVisible = function (a) {\n    if (a != this.isVisible()) if (Blockly.Events.fire(new Blockly.Events.Ui(this.block_, \"mutatorOpen\", !a, a)), a) {\n      this.bubble_ = new Blockly.Bubble(this.block_.workspace, this.createEditor_(), this.block_.svgPath_, this.iconXY_, null, null);\n      this.bubble_.setSvgId(this.block_.id);\n      if (a = this.workspace_.options.languageTree) this.workspace_.flyout_.init(this.workspace_), this.workspace_.flyout_.show(a.childNodes);\n      this.rootBlock_ = this.block_.decompose(this.workspace_);\n      a = this.rootBlock_.getDescendants(!1);\n\n      for (var b = 0, c; c = a[b]; b++) c.render();\n\n      this.rootBlock_.setMovable(!1);\n      this.rootBlock_.setDeletable(!1);\n      this.workspace_.flyout_ ? (a = 2 * this.workspace_.flyout_.CORNER_RADIUS, b = this.workspace_.getFlyout().getWidth() + a) : b = a = 16;\n      this.block_.RTL && (b = -b);\n      this.rootBlock_.moveBy(b, a);\n\n      if (this.block_.saveConnections) {\n        var d = this;\n        this.block_.saveConnections(this.rootBlock_);\n\n        this.sourceListener_ = function () {\n          d.block_.saveConnections(d.rootBlock_);\n        };\n\n        this.block_.workspace.addChangeListener(this.sourceListener_);\n      }\n\n      this.resizeBubble_();\n      this.workspace_.addChangeListener(this.workspaceChanged_.bind(this));\n      this.updateColour();\n    } else this.svgDialog_ = null, this.workspace_.dispose(), this.rootBlock_ = this.workspace_ = null, this.bubble_.dispose(), this.bubble_ = null, this.workspaceHeight_ = this.workspaceWidth_ = 0, this.sourceListener_ && (this.block_.workspace.removeChangeListener(this.sourceListener_), this.sourceListener_ = null);\n  };\n\n  Blockly.Mutator.prototype.workspaceChanged_ = function (a) {\n    if (a.type != Blockly.Events.UI && (a.type != Blockly.Events.CHANGE || \"disabled\" != a.element)) {\n      if (!this.workspace_.isDragging()) {\n        a = this.workspace_.getTopBlocks(!1);\n\n        for (var b = 0, c; c = a[b]; b++) {\n          var d = c.getRelativeToSurfaceXY(),\n              e = c.getHeightWidth();\n          20 > d.y + e.height && c.moveBy(0, 20 - e.height - d.y);\n        }\n      }\n\n      if (this.rootBlock_.workspace == this.workspace_) {\n        Blockly.Events.setGroup(!0);\n        c = this.block_;\n        a = (a = c.mutationToDom()) && Blockly.Xml.domToText(a);\n        b = c.rendered;\n        c.rendered = !1;\n        c.compose(this.rootBlock_);\n        c.rendered = b;\n        c.initSvg();\n        b = (b = c.mutationToDom()) && Blockly.Xml.domToText(b);\n\n        if (a != b) {\n          Blockly.Events.fire(new Blockly.Events.BlockChange(c, \"mutation\", null, a, b));\n          var f = Blockly.Events.getGroup();\n          setTimeout(function () {\n            Blockly.Events.setGroup(f);\n            c.bumpNeighbours_();\n            Blockly.Events.setGroup(!1);\n          }, Blockly.BUMP_DELAY);\n        }\n\n        c.rendered && c.render();\n        this.workspace_.isDragging() || this.resizeBubble_();\n        Blockly.Events.setGroup(!1);\n      }\n    }\n  };\n\n  Blockly.Mutator.prototype.getFlyoutMetrics_ = function () {\n    return {\n      viewHeight: this.workspaceHeight_,\n      viewWidth: this.workspaceWidth_ - this.workspace_.getFlyout().getWidth(),\n      absoluteTop: 0,\n      absoluteLeft: this.workspace_.RTL ? 0 : this.workspace_.getFlyout().getWidth()\n    };\n  };\n\n  Blockly.Mutator.prototype.dispose = function () {\n    this.block_.mutator = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Mutator.prototype.updateBlockStyle = function () {\n    var a = this.workspace_;\n\n    if (a && a.getAllBlocks()) {\n      for (var b = a.getAllBlocks(), c = 0; c < b.length; c++) {\n        var d = b[c];\n        d.setStyle(d.getStyleName());\n      }\n\n      a = a.flyout_.workspace_.getAllBlocks();\n\n      for (c = 0; c < a.length; c++) d = a[c], d.setStyle(d.getStyleName());\n    }\n  };\n\n  Blockly.Mutator.reconnect = function (a, b, c) {\n    if (!a || !a.getSourceBlock().workspace) return !1;\n    c = b.getInput(c).connection;\n    var d = a.targetBlock();\n    return d && d != b || c.targetConnection == a ? !1 : (c.isConnected() && c.disconnect(), c.connect(a), !0);\n  };\n\n  Blockly.Mutator.findParentWs = function (a) {\n    var b = null;\n\n    if (a && a.options) {\n      var c = a.options.parentWorkspace;\n      a.isFlyout ? c && c.options && (b = c.options.parentWorkspace) : c && (b = c);\n    }\n\n    return b;\n  };\n\n  Blockly.utils.global.Blockly || (Blockly.utils.global.Blockly = {});\n  Blockly.utils.global.Blockly.Mutator || (Blockly.utils.global.Blockly.Mutator = {});\n  Blockly.utils.global.Blockly.Mutator.reconnect = Blockly.Mutator.reconnect;\n  Blockly.Extensions = {};\n  Blockly.Extensions.ALL_ = {};\n\n  Blockly.Extensions.register = function (a, b) {\n    if (\"string\" != typeof a || \"\" == a.trim()) throw Error('Error: Invalid extension name \"' + a + '\"');\n    if (Blockly.Extensions.ALL_[a]) throw Error('Error: Extension \"' + a + '\" is already registered.');\n    if (\"function\" != typeof b) throw Error('Error: Extension \"' + a + '\" must be a function');\n    Blockly.Extensions.ALL_[a] = b;\n  };\n\n  Blockly.Extensions.registerMixin = function (a, b) {\n    if (!b || \"object\" != typeof b) throw Error('Error: Mixin \"' + a + '\" must be a object');\n    Blockly.Extensions.register(a, function () {\n      this.mixin(b);\n    });\n  };\n\n  Blockly.Extensions.registerMutator = function (a, b, c, d) {\n    var e = 'Error when registering mutator \"' + a + '\": ';\n    Blockly.Extensions.checkHasFunction_(e, b.domToMutation, \"domToMutation\");\n    Blockly.Extensions.checkHasFunction_(e, b.mutationToDom, \"mutationToDom\");\n    var f = Blockly.Extensions.checkMutatorDialog_(b, e);\n    if (c && \"function\" != typeof c) throw Error('Extension \"' + a + '\" is not a function');\n    Blockly.Extensions.register(a, function () {\n      f && this.setMutator(new Blockly.Mutator(d));\n      this.mixin(b);\n      c && c.apply(this);\n    });\n  };\n\n  Blockly.Extensions.apply = function (a, b, c) {\n    var d = Blockly.Extensions.ALL_[a];\n    if (\"function\" != typeof d) throw Error('Error: Extension \"' + a + '\" not found.');\n    if (c) Blockly.Extensions.checkNoMutatorProperties_(a, b);else var e = Blockly.Extensions.getMutatorProperties_(b);\n    d.apply(b);\n    if (c) Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator \"' + a + '\": ', b);else if (!Blockly.Extensions.mutatorPropertiesMatch_(e, b)) throw Error('Error when applying extension \"' + a + '\": mutation properties changed when applying a non-mutator extension.');\n  };\n\n  Blockly.Extensions.checkHasFunction_ = function (a, b, c) {\n    if (!b) throw Error(a + 'missing required property \"' + c + '\"');\n    if (\"function\" != typeof b) throw Error(a + '\" required property \"' + c + '\" must be a function');\n  };\n\n  Blockly.Extensions.checkNoMutatorProperties_ = function (a, b) {\n    if (Blockly.Extensions.getMutatorProperties_(b).length) throw Error('Error: tried to apply mutation \"' + a + '\" to a block that already has mutator functions.  Block id: ' + b.id);\n  };\n\n  Blockly.Extensions.checkMutatorDialog_ = function (a, b) {\n    var c = void 0 !== a.compose,\n        d = void 0 !== a.decompose;\n\n    if (c && d) {\n      if (\"function\" != typeof a.compose) throw Error(b + \"compose must be a function.\");\n      if (\"function\" != typeof a.decompose) throw Error(b + \"decompose must be a function.\");\n      return !0;\n    }\n\n    if (c || d) throw Error(b + 'Must have both or neither of \"compose\" and \"decompose\"');\n    return !1;\n  };\n\n  Blockly.Extensions.checkBlockHasMutatorProperties_ = function (a, b) {\n    if (\"function\" != typeof b.domToMutation) throw Error(a + 'Applying a mutator didn\\'t add \"domToMutation\"');\n    if (\"function\" != typeof b.mutationToDom) throw Error(a + 'Applying a mutator didn\\'t add \"mutationToDom\"');\n    Blockly.Extensions.checkMutatorDialog_(b, a);\n  };\n\n  Blockly.Extensions.getMutatorProperties_ = function (a) {\n    var b = [];\n    void 0 !== a.domToMutation && b.push(a.domToMutation);\n    void 0 !== a.mutationToDom && b.push(a.mutationToDom);\n    void 0 !== a.compose && b.push(a.compose);\n    void 0 !== a.decompose && b.push(a.decompose);\n    return b;\n  };\n\n  Blockly.Extensions.mutatorPropertiesMatch_ = function (a, b) {\n    var c = Blockly.Extensions.getMutatorProperties_(b);\n    if (c.length != a.length) return !1;\n\n    for (var d = 0; d < c.length; d++) if (a[d] != c[d]) return !1;\n\n    return !0;\n  };\n\n  Blockly.Extensions.buildTooltipForDropdown = function (a, b) {\n    var c = [];\n    \"object\" == typeof document && Blockly.utils.runAfterPageLoad(function () {\n      for (var a in b) Blockly.utils.checkMessageReferences(b[a]);\n    });\n    return function () {\n      this.type && -1 === c.indexOf(this.type) && (Blockly.Extensions.checkDropdownOptionsInTable_(this, a, b), c.push(this.type));\n      this.setTooltip(function () {\n        var d = this.getFieldValue(a),\n            e = b[d];\n        null == e ? -1 === c.indexOf(this.type) && (d = \"No tooltip mapping for value \" + d + \" of field \" + a, null != this.type && (d += \" of block type \" + this.type), console.warn(d + \".\")) : e = Blockly.utils.replaceMessageReferences(e);\n        return e;\n      }.bind(this));\n    };\n  };\n\n  Blockly.Extensions.checkDropdownOptionsInTable_ = function (a, b, c) {\n    var d = a.getField(b);\n\n    if (!d.isOptionListDynamic()) {\n      d = d.getOptions();\n\n      for (var e = 0; e < d.length; ++e) {\n        var f = d[e][1];\n        null == c[f] && console.warn(\"No tooltip mapping for value \" + f + \" of field \" + b + \" of block type \" + a.type);\n      }\n    }\n  };\n\n  Blockly.Extensions.buildTooltipWithFieldText = function (a, b) {\n    \"object\" == typeof document && Blockly.utils.runAfterPageLoad(function () {\n      Blockly.utils.checkMessageReferences(a);\n    });\n    return function () {\n      this.setTooltip(function () {\n        var c = this.getField(b);\n        return Blockly.utils.replaceMessageReferences(a).replace(\"%1\", c ? c.getText() : \"\");\n      }.bind(this));\n    };\n  };\n\n  Blockly.Extensions.extensionParentTooltip_ = function () {\n    this.tooltipWhenNotConnected_ = this.tooltip;\n    this.setTooltip(function () {\n      var a = this.getParent();\n      return a && a.getInputsInline() && a.tooltip || this.tooltipWhenNotConnected_;\n    }.bind(this));\n  };\n\n  Blockly.Extensions.register(\"parent_tooltip_when_inline\", Blockly.Extensions.extensionParentTooltip_);\n\n  Blockly.Field = function (a, b) {\n    this.size_ = new goog.math.Size(0, Blockly.BlockSvg.MIN_BLOCK_Y);\n    this.setValue(a);\n    this.setValidator(b);\n  };\n\n  Blockly.Field.TYPE_MAP_ = {};\n\n  Blockly.Field.register = function (a, b) {\n    if (\"string\" != typeof a || \"\" == a.trim()) throw Error('Invalid field type \"' + a + '\"');\n    if (!b || \"function\" != typeof b.fromJson) throw Error('Field \"' + b + '\" must have a fromJson function');\n    Blockly.Field.TYPE_MAP_[a] = b;\n  };\n\n  Blockly.Field.fromJson = function (a) {\n    var b = Blockly.Field.TYPE_MAP_[a.type];\n    return b ? b.fromJson(a) : null;\n  };\n\n  Blockly.Field.cacheWidths_ = null;\n  Blockly.Field.cacheReference_ = 0;\n  Blockly.Field.prototype.name = void 0;\n  Blockly.Field.prototype.maxDisplayLength = 50;\n  Blockly.Field.prototype.value_ = null;\n  Blockly.Field.prototype.text_ = \"\";\n  Blockly.Field.prototype.tooltip_ = null;\n  Blockly.Field.prototype.sourceBlock_ = null;\n  Blockly.Field.prototype.isDirty_ = !0;\n  Blockly.Field.prototype.visible_ = !0;\n  Blockly.Field.prototype.validator_ = null;\n  Blockly.Field.prototype.clickTarget_ = null;\n  Blockly.Field.NBSP = \"\\u00a0\";\n  Blockly.Field.prototype.EDITABLE = !0;\n  Blockly.Field.prototype.SERIALIZABLE = !1;\n\n  Blockly.Field.prototype.setSourceBlock = function (a) {\n    if (this.sourceBlock_) throw Error(\"Field already bound to a block.\");\n    this.sourceBlock_ = a;\n  };\n\n  Blockly.Field.prototype.getSourceBlock = function () {\n    return this.sourceBlock_;\n  };\n\n  Blockly.Field.prototype.init = function () {\n    this.fieldGroup_ || (this.fieldGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, null), this.isVisible() || (this.fieldGroup_.style.display = \"none\"), this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_), this.initView(), this.updateEditable(), this.setTooltip(this.tooltip_), this.bindEvents_(), this.initModel());\n  };\n\n  Blockly.Field.prototype.initView = function () {\n    this.createBorderRect_();\n    this.createTextElement_();\n  };\n\n  Blockly.Field.prototype.createBorderRect_ = function () {\n    this.borderRect_ = Blockly.utils.dom.createSvgElement(\"rect\", {\n      rx: 4,\n      ry: 4,\n      x: -Blockly.BlockSvg.SEP_SPACE_X / 2,\n      y: 0,\n      height: 16,\n      width: this.size_.width + Blockly.BlockSvg.SEP_SPACE_X\n    }, this.fieldGroup_);\n  };\n\n  Blockly.Field.prototype.createTextElement_ = function () {\n    this.textElement_ = Blockly.utils.dom.createSvgElement(\"text\", {\n      \"class\": \"blocklyText\",\n      y: this.size_.height - 12.5\n    }, this.fieldGroup_);\n    this.textContent_ = document.createTextNode(\"\");\n    this.textElement_.appendChild(this.textContent_);\n  };\n\n  Blockly.Field.prototype.bindEvents_ = function () {\n    Blockly.Tooltip.bindMouseEvents(this.getClickTarget_());\n    this.mouseDownWrapper_ = Blockly.bindEventWithChecks_(this.getClickTarget_(), \"mousedown\", this, this.onMouseDown_);\n  };\n\n  Blockly.Field.prototype.initModel = function () {};\n\n  Blockly.Field.prototype.fromXml = function (a) {\n    this.setValue(a.textContent);\n  };\n\n  Blockly.Field.prototype.toXml = function (a) {\n    a.textContent = this.getValue();\n    return a;\n  };\n\n  Blockly.Field.prototype.dispose = function () {\n    Blockly.DropDownDiv.hideIfOwner(this);\n    Blockly.WidgetDiv.hideIfOwner(this);\n    this.mouseDownWrapper_ && Blockly.unbindEvent_(this.mouseDownWrapper_);\n    Blockly.utils.dom.removeNode(this.fieldGroup_);\n    this.disposed = !0;\n  };\n\n  Blockly.Field.prototype.updateEditable = function () {\n    var a = this.getClickTarget_();\n    this.EDITABLE && a && (this.sourceBlock_.isEditable() ? (Blockly.utils.dom.addClass(a, \"blocklyEditableText\"), Blockly.utils.dom.removeClass(a, \"blocklyNonEditableText\"), a.style.cursor = this.CURSOR) : (Blockly.utils.dom.addClass(a, \"blocklyNonEditableText\"), Blockly.utils.dom.removeClass(a, \"blocklyEditableText\"), a.style.cursor = \"\"));\n  };\n\n  Blockly.Field.prototype.isClickable = function () {\n    return !!this.sourceBlock_ && this.sourceBlock_.isEditable() && !!this.showEditor_ && \"function\" === typeof this.showEditor_;\n  };\n\n  Blockly.Field.prototype.isCurrentlyEditable = function () {\n    return this.EDITABLE && !!this.sourceBlock_ && this.sourceBlock_.isEditable();\n  };\n\n  Blockly.Field.prototype.isSerializable = function () {\n    var a = !1;\n    this.name && (this.SERIALIZABLE ? a = !0 : this.EDITABLE && (console.warn(\"Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.\"), a = !0));\n    return a;\n  };\n\n  Blockly.Field.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  Blockly.Field.prototype.setVisible = function (a) {\n    if (this.visible_ != a) {\n      this.visible_ = a;\n      var b = this.getSvgRoot();\n      b && (b.style.display = a ? \"block\" : \"none\");\n    }\n  };\n\n  Blockly.Field.prototype.setValidator = function (a) {\n    this.validator_ = a;\n  };\n\n  Blockly.Field.prototype.getValidator = function () {\n    return this.validator_;\n  };\n\n  Blockly.Field.prototype.classValidator = function (a) {\n    return a;\n  };\n\n  Blockly.Field.prototype.callValidator = function (a) {\n    var b = this.classValidator(a);\n    if (null === b) return null;\n    void 0 !== b && (a = b);\n\n    if (b = this.getValidator()) {\n      b = b.call(this, a);\n      if (null === b) return null;\n      void 0 !== b && (a = b);\n    }\n\n    return a;\n  };\n\n  Blockly.Field.prototype.getSvgRoot = function () {\n    return this.fieldGroup_;\n  };\n\n  Blockly.Field.prototype.updateColour = function () {};\n\n  Blockly.Field.prototype.render_ = function () {\n    this.textContent_.nodeValue = this.getDisplayText_();\n    this.updateSize_();\n  };\n\n  Blockly.Field.prototype.updateWidth = function () {\n    console.warn(\"Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.Field.getCachedWidth() to check the size of the field.\");\n    this.updateSize_();\n  };\n\n  Blockly.Field.prototype.updateSize_ = function () {\n    var a = Blockly.Field.getCachedWidth(this.textElement_);\n    this.borderRect_ && this.borderRect_.setAttribute(\"width\", a + Blockly.BlockSvg.SEP_SPACE_X);\n    this.size_.width = a;\n  };\n\n  Blockly.Field.getCachedWidth = function (a) {\n    var b = a.textContent + \"\\n\" + a.className.baseVal,\n        c;\n    if (Blockly.Field.cacheWidths_ && (c = Blockly.Field.cacheWidths_[b])) return c;\n\n    try {\n      c = Blockly.utils.userAgent.IE || Blockly.utils.userAgent.EDGE ? a.getBBox().width : a.getComputedTextLength();\n    } catch (d) {\n      return 8 * a.textContent.length;\n    }\n\n    Blockly.Field.cacheWidths_ && (Blockly.Field.cacheWidths_[b] = c);\n    return c;\n  };\n\n  Blockly.Field.startCache = function () {\n    Blockly.Field.cacheReference_++;\n    Blockly.Field.cacheWidths_ || (Blockly.Field.cacheWidths_ = {});\n  };\n\n  Blockly.Field.stopCache = function () {\n    Blockly.Field.cacheReference_--;\n    Blockly.Field.cacheReference_ || (Blockly.Field.cacheWidths_ = null);\n  };\n\n  Blockly.Field.prototype.getSize = function () {\n    if (!this.isVisible()) return new goog.math.Size(0, 0);\n    this.isDirty_ ? (this.render_(), this.isDirty_ = !1) : this.visible_ && 0 == this.size_.width && (console.warn(\"Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.\"), this.render_());\n    return this.size_;\n  };\n\n  Blockly.Field.prototype.getScaledBBox_ = function () {\n    var a = this.borderRect_.getBBox(),\n        b = a.height * this.sourceBlock_.workspace.scale;\n    a = a.width * this.sourceBlock_.workspace.scale;\n    var c = this.getAbsoluteXY_();\n    return {\n      top: c.y,\n      bottom: c.y + b,\n      left: c.x,\n      right: c.x + a\n    };\n  };\n\n  Blockly.Field.prototype.getDisplayText_ = function () {\n    var a = this.text_;\n    if (!a) return Blockly.Field.NBSP;\n    a.length > this.maxDisplayLength && (a = a.substring(0, this.maxDisplayLength - 2) + \"\\u2026\");\n    a = a.replace(/\\s/g, Blockly.Field.NBSP);\n    this.sourceBlock_.RTL && (a += \"\\u200f\");\n    return a;\n  };\n\n  Blockly.Field.prototype.getText = function () {\n    return this.text_;\n  };\n\n  Blockly.Field.prototype.setText = function (a) {\n    null !== a && (a = String(a), a !== this.text_ && (this.text_ = a, this.forceRerender()));\n  };\n\n  Blockly.Field.prototype.forceRerender = function () {\n    this.isDirty_ = !0;\n    this.sourceBlock_ && this.sourceBlock_.rendered && (this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours_());\n  };\n\n  Blockly.Field.prototype.setValue = function (a) {\n    if (null !== a) {\n      var b = this.doClassValidation_(a);\n      a = this.processValidation_(a, b);\n\n      if (!(a instanceof Error)) {\n        if (b = this.getValidator()) if (b = b.call(this, a), a = this.processValidation_(a, b), a instanceof Error) return;\n        b = this.getValue();\n        b !== a && (this.sourceBlock_ && Blockly.Events.isEnabled() && Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_, \"field\", this.name, b, a)), this.doValueUpdate_(a), this.isDirty_ && this.forceRerender());\n      }\n    }\n  };\n\n  Blockly.Field.prototype.processValidation_ = function (a, b) {\n    if (null === b) return this.doValueInvalid_(a), this.isDirty_ && this.forceRerender(), Error();\n    void 0 !== b && (a = b);\n    return a;\n  };\n\n  Blockly.Field.prototype.getValue = function () {\n    return this.value_;\n  };\n\n  Blockly.Field.prototype.doClassValidation_ = function (a) {\n    return a = this.classValidator(a);\n  };\n\n  Blockly.Field.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.isDirty_ = !0;\n    this.text_ = String(a);\n  };\n\n  Blockly.Field.prototype.doValueInvalid_ = function (a) {};\n\n  Blockly.Field.prototype.onMouseDown_ = function (a) {\n    this.sourceBlock_ && this.sourceBlock_.workspace && (a = this.sourceBlock_.workspace.getGesture(a)) && a.setStartField(this);\n  };\n\n  Blockly.Field.prototype.setTooltip = function (a) {\n    var b = this.getClickTarget_();\n    b ? b.tooltip = a || \"\" === a ? a : this.sourceBlock_ : this.tooltip_ = a;\n  };\n\n  Blockly.Field.prototype.getClickTarget_ = function () {\n    return this.clickTarget_ || this.getSvgRoot();\n  };\n\n  Blockly.Field.prototype.getAbsoluteXY_ = function () {\n    return goog.style.getPageOffset(this.borderRect_);\n  };\n\n  Blockly.Field.prototype.referencesVariables = function () {\n    return !1;\n  };\n\n  Blockly.FieldLabel = function (a, b) {\n    this.size_ = new goog.math.Size(0, 17.5);\n    this.class_ = b;\n    a = this.doClassValidation_(a);\n    null === a && (a = \"\");\n    this.setValue(a);\n  };\n\n  goog.inherits(Blockly.FieldLabel, Blockly.Field);\n\n  Blockly.FieldLabel.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldLabel(b, a[\"class\"]);\n  };\n\n  Blockly.FieldLabel.prototype.EDITABLE = !1;\n\n  Blockly.FieldLabel.prototype.initView = function () {\n    this.createTextElement_();\n    this.textElement_.setAttribute(\"y\", this.size_.height - 5);\n    this.class_ && Blockly.utils.dom.addClass(this.textElement_, this.class_);\n  };\n\n  Blockly.FieldLabel.prototype.doClassValidation_ = function (a) {\n    return null === a || void 0 === a ? null : String(a);\n  };\n\n  Blockly.Field.register(\"field_label\", Blockly.FieldLabel);\n\n  Blockly.Input = function (a, b, c, d) {\n    if (a != Blockly.DUMMY_INPUT && !b) throw Error(\"Value inputs and statement inputs must have non-empty name.\");\n    this.type = a;\n    this.name = b;\n    this.sourceBlock_ = c;\n    this.connection = d;\n    this.fieldRow = [];\n  };\n\n  Blockly.Input.prototype.align = Blockly.ALIGN_LEFT;\n  Blockly.Input.prototype.visible_ = !0;\n\n  Blockly.Input.prototype.appendField = function (a, b) {\n    this.insertFieldAt(this.fieldRow.length, a, b);\n    return this;\n  };\n\n  Blockly.Input.prototype.insertFieldAt = function (a, b, c) {\n    if (0 > a || a > this.fieldRow.length) throw Error(\"index \" + a + \" out of bounds.\");\n    if (!b && !c) return a;\n    \"string\" == typeof b && (b = new Blockly.FieldLabel(b));\n    b.setSourceBlock(this.sourceBlock_);\n    this.sourceBlock_.rendered && b.init();\n    b.name = c;\n    b.prefixField && (a = this.insertFieldAt(a, b.prefixField));\n    this.fieldRow.splice(a, 0, b);\n    ++a;\n    b.suffixField && (a = this.insertFieldAt(a, b.suffixField));\n    this.sourceBlock_.rendered && (this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours_());\n    return a;\n  };\n\n  Blockly.Input.prototype.removeField = function (a) {\n    for (var b = 0, c; c = this.fieldRow[b]; b++) if (c.name === a) {\n      c.dispose();\n      this.fieldRow.splice(b, 1);\n      this.sourceBlock_.rendered && (this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours_());\n      return;\n    }\n\n    throw Error('Field \"%s\" not found.', a);\n  };\n\n  Blockly.Input.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  Blockly.Input.prototype.setVisible = function (a) {\n    var b = [];\n    if (this.visible_ == a) return b;\n\n    for (var c = (this.visible_ = a) ? \"block\" : \"none\", d = 0, e; e = this.fieldRow[d]; d++) e.setVisible(a);\n\n    this.connection && (a ? b = this.connection.unhideAll() : this.connection.hideAll(), d = this.connection.targetBlock()) && (d.getSvgRoot().style.display = c, a || (d.rendered = !1));\n    return b;\n  };\n\n  Blockly.Input.prototype.setCheck = function (a) {\n    if (!this.connection) throw Error(\"This input does not have a connection.\");\n    this.connection.setCheck(a);\n    return this;\n  };\n\n  Blockly.Input.prototype.setAlign = function (a) {\n    this.align = a;\n    this.sourceBlock_.rendered && this.sourceBlock_.render();\n    return this;\n  };\n\n  Blockly.Input.prototype.init = function () {\n    if (this.sourceBlock_.workspace.rendered) for (var a = 0; a < this.fieldRow.length; a++) this.fieldRow[a].init();\n  };\n\n  Blockly.Input.prototype.dispose = function () {\n    for (var a = 0, b; b = this.fieldRow[a]; a++) b.dispose();\n\n    this.connection && this.connection.dispose();\n    this.sourceBlock_ = null;\n  };\n\n  Blockly.Warning = function (a) {\n    Blockly.Warning.superClass_.constructor.call(this, a);\n    this.createIcon();\n    this.text_ = {};\n  };\n\n  goog.inherits(Blockly.Warning, Blockly.Icon);\n  Blockly.Warning.prototype.collapseHidden = !1;\n\n  Blockly.Warning.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyIconShape\",\n      d: \"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyIconSymbol\",\n      x: \"7\",\n      y: \"11\",\n      height: \"2\",\n      width: \"2\"\n    }, a);\n  };\n\n  Blockly.Warning.textToDom_ = function (a) {\n    var b = Blockly.utils.dom.createSvgElement(\"text\", {\n      \"class\": \"blocklyText blocklyBubbleText\",\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    a = a.split(\"\\n\");\n\n    for (var c = 0; c < a.length; c++) {\n      var d = Blockly.utils.dom.createSvgElement(\"tspan\", {\n        dy: \"1em\",\n        x: Blockly.Bubble.BORDER_WIDTH\n      }, b),\n          e = document.createTextNode(a[c]);\n      d.appendChild(e);\n    }\n\n    return b;\n  };\n\n  Blockly.Warning.prototype.setVisible = function (a) {\n    if (a != this.isVisible()) if (Blockly.Events.fire(new Blockly.Events.Ui(this.block_, \"warningOpen\", !a, a)), a) {\n      a = Blockly.Warning.textToDom_(this.getText());\n      this.bubble_ = new Blockly.Bubble(this.block_.workspace, a, this.block_.svgPath_, this.iconXY_, null, null);\n      this.bubble_.setSvgId(this.block_.id);\n      if (this.block_.RTL) for (var b = a.getBBox().width, c = 0, d; d = a.childNodes[c]; c++) d.setAttribute(\"text-anchor\", \"end\"), d.setAttribute(\"x\", b + Blockly.Bubble.BORDER_WIDTH);\n      this.updateColour();\n      a = this.bubble_.getBubbleSize();\n      this.bubble_.setBubbleSize(a.width, a.height);\n    } else this.bubble_.dispose(), this.body_ = this.bubble_ = null;\n  };\n\n  Blockly.Warning.prototype.bodyFocus_ = function (a) {\n    this.bubble_.promote_();\n  };\n\n  Blockly.Warning.prototype.setText = function (a, b) {\n    this.text_[b] != a && (a ? this.text_[b] = a : delete this.text_[b], this.isVisible() && (this.setVisible(!1), this.setVisible(!0)));\n  };\n\n  Blockly.Warning.prototype.getText = function () {\n    var a = [],\n        b;\n\n    for (b in this.text_) a.push(this.text_[b]);\n\n    return a.join(\"\\n\");\n  };\n\n  Blockly.Warning.prototype.dispose = function () {\n    this.block_.warning = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Block = function (a, b, c) {\n    if (\"undefined\" !== typeof Blockly.Generator.prototype[b]) throw Error('Block prototypeName \"' + b + '\" conflicts with Blockly.Generator members.');\n    this.id = c && !a.getBlockById(c) ? c : Blockly.utils.genUid();\n    a.blockDB_[this.id] = this;\n    this.previousConnection = this.nextConnection = this.outputConnection = null;\n    this.inputList = [];\n    this.inputsInline = void 0;\n    this.disabled = !1;\n    this.tooltip = \"\";\n    this.contextMenu = !0;\n    this.parentBlock_ = null;\n    this.childBlocks_ = [];\n    this.editable_ = this.movable_ = this.deletable_ = !0;\n    this.collapsed_ = this.isShadow_ = !1;\n    this.comment = null;\n    this.xy_ = new Blockly.utils.Coordinate(0, 0);\n    this.workspace = a;\n    this.isInFlyout = a.isFlyout;\n    this.isInMutator = a.isMutator;\n    this.RTL = a.RTL;\n    this.isInsertionMarker_ = !1;\n    this.hat = void 0;\n\n    if (b) {\n      this.type = b;\n      c = Blockly.Blocks[b];\n      if (!c || \"object\" != typeof c) throw TypeError(\"Unknown block type: \" + b);\n      goog.mixin(this, c);\n    }\n\n    a.addTopBlock(this);\n    a.addTypedBlock(this);\n    \"function\" == typeof this.init && this.init();\n    this.inputsInlineDefault = this.inputsInline;\n\n    if (Blockly.Events.isEnabled()) {\n      (a = Blockly.Events.getGroup()) || Blockly.Events.setGroup(!0);\n\n      try {\n        Blockly.Events.fire(new Blockly.Events.BlockCreate(this));\n      } finally {\n        a || Blockly.Events.setGroup(!1);\n      }\n    }\n\n    \"function\" == typeof this.onchange && this.setOnChange(this.onchange);\n  };\n\n  Blockly.Block.obtain = function (a, b) {\n    console.warn(\"Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.\");\n    return a.newBlock(b);\n  };\n\n  Blockly.Block.prototype.data = null;\n  Blockly.Block.prototype.hue_ = null;\n  Blockly.Block.prototype.colour_ = \"#000000\";\n  Blockly.Block.prototype.colourSecondary_ = null;\n  Blockly.Block.prototype.colourTertiary_ = null;\n  Blockly.Block.prototype.styleName_ = null;\n\n  Blockly.Block.prototype.dispose = function (a) {\n    if (this.workspace) {\n      this.onchangeWrapper_ && this.workspace.removeChangeListener(this.onchangeWrapper_);\n      this.unplug(a);\n      Blockly.Events.isEnabled() && Blockly.Events.fire(new Blockly.Events.BlockDelete(this));\n      Blockly.Events.disable();\n\n      try {\n        this.workspace && (this.workspace.removeTopBlock(this), this.workspace.removeTypedBlock(this), delete this.workspace.blockDB_[this.id], this.workspace = null);\n        Blockly.selected == this && (Blockly.selected = null);\n\n        for (var b = this.childBlocks_.length - 1; 0 <= b; b--) this.childBlocks_[b].dispose(!1);\n\n        b = 0;\n\n        for (var c; c = this.inputList[b]; b++) c.dispose();\n\n        this.inputList.length = 0;\n        var d = this.getConnections_(!0);\n\n        for (b = 0; b < d.length; b++) {\n          var e = d[b];\n          e.isConnected() && e.disconnect();\n          d[b].dispose();\n        }\n      } finally {\n        Blockly.Events.enable();\n      }\n    }\n  };\n\n  Blockly.Block.prototype.initModel = function () {\n    for (var a = 0, b; b = this.inputList[a]; a++) for (var c = 0, d; d = b.fieldRow[c]; c++) d.initModel && d.initModel();\n  };\n\n  Blockly.Block.prototype.unplug = function (a) {\n    this.outputConnection ? this.unplugFromRow_(a) : this.previousConnection && this.unplugFromStack_(a);\n  };\n\n  Blockly.Block.prototype.unplugFromRow_ = function (a) {\n    var b = null;\n    this.outputConnection.isConnected() && (b = this.outputConnection.targetConnection, this.outputConnection.disconnect());\n    b && a && (a = this.getOnlyValueConnection_()) && a.isConnected() && !a.targetBlock().isShadow() && (a = a.targetConnection, a.checkType_(b) && (a.disconnect(), b.connect(a)));\n  };\n\n  Blockly.Block.prototype.getOnlyValueConnection_ = function () {\n    for (var a = null, b = 0; b < this.inputList.length; b++) {\n      var c = this.inputList[b].connection;\n\n      if (c && c.type == Blockly.INPUT_VALUE && c.targetConnection) {\n        if (a) return null;\n        a = c;\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Block.prototype.unplugFromStack_ = function (a) {\n    var b = null;\n    this.previousConnection.isConnected() && (b = this.previousConnection.targetConnection, this.previousConnection.disconnect());\n    var c = this.getNextBlock();\n    a && c && !c.isShadow() && (a = this.nextConnection.targetConnection, a.disconnect(), b && b.checkType_(a) && b.connect(a));\n  };\n\n  Blockly.Block.prototype.getConnections_ = function (a) {\n    a = [];\n    this.outputConnection && a.push(this.outputConnection);\n    this.previousConnection && a.push(this.previousConnection);\n    this.nextConnection && a.push(this.nextConnection);\n\n    for (var b = 0, c; c = this.inputList[b]; b++) c.connection && a.push(c.connection);\n\n    return a;\n  };\n\n  Blockly.Block.prototype.lastConnectionInStack = function () {\n    for (var a = this.nextConnection; a;) {\n      var b = a.targetBlock();\n      if (!b) return a;\n      a = b.nextConnection;\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.bumpNeighbours_ = function () {\n    console.warn(\"Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.\");\n  };\n\n  Blockly.Block.prototype.getParent = function () {\n    return this.parentBlock_;\n  };\n\n  Blockly.Block.prototype.getInputWithBlock = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) if (c.connection && c.connection.targetBlock() == a) return c;\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getSurroundParent = function () {\n    var a = this;\n\n    do {\n      var b = a;\n      a = a.getParent();\n      if (!a) return null;\n    } while (a.getNextBlock() == b);\n\n    return a;\n  };\n\n  Blockly.Block.prototype.getNextBlock = function () {\n    return this.nextConnection && this.nextConnection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getPreviousBlock = function () {\n    return this.previousConnection && this.previousConnection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getFirstStatementConnection = function () {\n    for (var a = 0, b; b = this.inputList[a]; a++) if (b.connection && b.connection.type == Blockly.NEXT_STATEMENT) return b.connection;\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getRootBlock = function () {\n    var a = this;\n\n    do {\n      var b = a;\n      a = b.parentBlock_;\n    } while (a);\n\n    return b;\n  };\n\n  Blockly.Block.prototype.getChildren = function (a) {\n    if (!a) return this.childBlocks_;\n    a = [];\n\n    for (var b = 0, c; c = this.inputList[b]; b++) c.connection && (c = c.connection.targetBlock()) && a.push(c);\n\n    (b = this.getNextBlock()) && a.push(b);\n    return a;\n  };\n\n  Blockly.Block.prototype.setParent = function (a) {\n    if (a != this.parentBlock_) {\n      if (this.parentBlock_) {\n        Blockly.utils.arrayRemove(this.parentBlock_.childBlocks_, this);\n        if (this.previousConnection && this.previousConnection.isConnected()) throw Error(\"Still connected to previous block.\");\n        if (this.outputConnection && this.outputConnection.isConnected()) throw Error(\"Still connected to parent block.\");\n        this.parentBlock_ = null;\n      } else this.workspace.removeTopBlock(this);\n\n      (this.parentBlock_ = a) ? a.childBlocks_.push(this) : this.workspace.addTopBlock(this);\n    }\n  };\n\n  Blockly.Block.prototype.getDescendants = function (a) {\n    for (var b = [this], c = this.getChildren(a), d, e = 0; d = c[e]; e++) b.push.apply(b, d.getDescendants(a));\n\n    return b;\n  };\n\n  Blockly.Block.prototype.isDeletable = function () {\n    return this.deletable_ && !this.isShadow_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setDeletable = function (a) {\n    this.deletable_ = a;\n  };\n\n  Blockly.Block.prototype.isMovable = function () {\n    return this.movable_ && !this.isShadow_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setMovable = function (a) {\n    this.movable_ = a;\n  };\n\n  Blockly.Block.prototype.isDuplicatable = function () {\n    return this.workspace.hasBlockLimits() ? this.workspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(this, !0)) : !0;\n  };\n\n  Blockly.Block.prototype.isShadow = function () {\n    return this.isShadow_;\n  };\n\n  Blockly.Block.prototype.setShadow = function (a) {\n    this.isShadow_ = a;\n  };\n\n  Blockly.Block.prototype.isInsertionMarker = function () {\n    return this.isInsertionMarker_;\n  };\n\n  Blockly.Block.prototype.setInsertionMarker = function (a) {\n    this.isInsertionMarker_ = a;\n  };\n\n  Blockly.Block.prototype.isEditable = function () {\n    return this.editable_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setEditable = function (a) {\n    this.editable_ = a;\n    a = 0;\n\n    for (var b; b = this.inputList[a]; a++) for (var c = 0, d; d = b.fieldRow[c]; c++) d.updateEditable();\n  };\n\n  Blockly.Block.prototype.setConnectionsHidden = function (a) {\n    if (!a && this.isCollapsed()) {\n      if (this.outputConnection && this.outputConnection.setHidden(a), this.previousConnection && this.previousConnection.setHidden(a), this.nextConnection) {\n        this.nextConnection.setHidden(a);\n        var b = this.nextConnection.targetBlock();\n        b && b.setConnectionsHidden(a);\n      }\n    } else for (var c = this.getConnections_(!0), d = 0; b = c[d]; d++) b.setHidden(a), b.isSuperior() && (b = b.targetBlock()) && b.setConnectionsHidden(a);\n  };\n\n  Blockly.Block.prototype.getMatchingConnection = function (a, b) {\n    var c = this.getConnections_(!0),\n        d = a.getConnections_(!0);\n    if (c.length != d.length) throw Error(\"Connection lists did not match in length.\");\n\n    for (var e = 0; e < d.length; e++) if (d[e] == b) return c[e];\n\n    return null;\n  };\n\n  Blockly.Block.prototype.setHelpUrl = function (a) {\n    this.helpUrl = a;\n  };\n\n  Blockly.Block.prototype.setTooltip = function (a) {\n    this.tooltip = a;\n  };\n\n  Blockly.Block.prototype.getColour = function () {\n    return this.colour_;\n  };\n\n  Blockly.Block.prototype.getColourSecondary = function () {\n    return this.colourSecondary_;\n  };\n\n  Blockly.Block.prototype.getColourTertiary = function () {\n    return this.colourTertiary_;\n  };\n\n  Blockly.Block.prototype.getColourShadow = function () {\n    var a = this.getColourSecondary();\n    return a ? a : Blockly.utils.colour.blend(\"white\", this.getColour(), .6);\n  };\n\n  Blockly.Block.prototype.getColourBorder = function () {\n    var a = this.getColourTertiary();\n    if (a) return {\n      colourBorder: a,\n      colourLight: null,\n      colourDark: null\n    };\n    a = this.getColour();\n    return {\n      colourBorder: null,\n      colourLight: Blockly.utils.colour.blend(\"white\", a, .3),\n      colourDark: Blockly.utils.colour.blend(\"black\", a, .2)\n    };\n  };\n\n  Blockly.Block.prototype.getStyleName = function () {\n    return this.styleName_;\n  };\n\n  Blockly.Block.prototype.getHue = function () {\n    return this.hue_;\n  };\n\n  Blockly.Block.prototype.setColour = function (a) {\n    var b = \"string\" == typeof a ? Blockly.utils.replaceMessageReferences(a) : a,\n        c = Number(b);\n    if (!isNaN(c) && 0 <= c && 360 >= c) this.hue_ = c, this.colour_ = Blockly.hueToHex(c);else if (c = Blockly.utils.colour.parse(b)) this.colour_ = c, this.hue_ = null;else throw c = 'Invalid colour: \"' + b + '\"', a != b && (c += ' (from \"' + a + '\")'), Error(c);\n  };\n\n  Blockly.Block.prototype.setStyle = function (a) {\n    var b = Blockly.getTheme();\n    if (!b) throw Error(\"Trying to set block style to \" + a + \" before theme was defined via Blockly.setTheme().\");\n    b = b.getBlockStyle(a);\n    this.styleName_ = a;\n    if (b) this.colourSecondary_ = b.colourSecondary, this.colourTertiary_ = b.colourTertiary, this.hat = b.hat, this.setColour(b.colourPrimary);else throw Error(\"Invalid style name: \" + a);\n  };\n\n  Blockly.Block.prototype.setOnChange = function (a) {\n    if (a && \"function\" != typeof a) throw Error(\"onchange must be a function.\");\n    this.onchangeWrapper_ && this.workspace.removeChangeListener(this.onchangeWrapper_);\n    if (this.onchange = a) this.onchangeWrapper_ = a.bind(this), this.workspace.addChangeListener(this.onchangeWrapper_);\n  };\n\n  Blockly.Block.prototype.getField = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) if (e.name === a) return e;\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getVars = function () {\n    for (var a = [], b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) e.referencesVariables() && a.push(e.getValue());\n\n    return a;\n  };\n\n  Blockly.Block.prototype.getVarModels = function () {\n    for (var a = [], b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) e.referencesVariables() && (e = this.workspace.getVariableById(e.getValue())) && a.push(e);\n\n    return a;\n  };\n\n  Blockly.Block.prototype.updateVarName = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) e.referencesVariables() && a.getId() == e.getValue() && e.setText(a.name);\n  };\n\n  Blockly.Block.prototype.renameVarById = function (a, b) {\n    for (var c = 0, d; d = this.inputList[c]; c++) for (var e = 0, f; f = d.fieldRow[e]; e++) f.referencesVariables() && a == f.getValue() && f.setValue(b);\n  };\n\n  Blockly.Block.prototype.getFieldValue = function (a) {\n    return (a = this.getField(a)) ? a.getValue() : null;\n  };\n\n  Blockly.Block.prototype.setFieldValue = function (a, b) {\n    var c = this.getField(b);\n    if (!c) throw Error('Field \"' + b + '\" not found.');\n    c.setValue(a);\n  };\n\n  Blockly.Block.prototype.setPreviousStatement = function (a, b) {\n    if (a) {\n      void 0 === b && (b = null);\n\n      if (!this.previousConnection) {\n        if (this.outputConnection) throw Error(\"Remove output connection prior to adding previous connection.\");\n        this.previousConnection = this.makeConnection_(Blockly.PREVIOUS_STATEMENT);\n      }\n\n      this.previousConnection.setCheck(b);\n    } else if (this.previousConnection) {\n      if (this.previousConnection.isConnected()) throw Error(\"Must disconnect previous statement before removing connection.\");\n      this.previousConnection.dispose();\n      this.previousConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setNextStatement = function (a, b) {\n    if (a) void 0 === b && (b = null), this.nextConnection || (this.nextConnection = this.makeConnection_(Blockly.NEXT_STATEMENT)), this.nextConnection.setCheck(b);else if (this.nextConnection) {\n      if (this.nextConnection.isConnected()) throw Error(\"Must disconnect next statement before removing connection.\");\n      this.nextConnection.dispose();\n      this.nextConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setOutput = function (a, b) {\n    if (a) {\n      void 0 === b && (b = null);\n\n      if (!this.outputConnection) {\n        if (this.previousConnection) throw Error(\"Remove previous connection prior to adding output connection.\");\n        this.outputConnection = this.makeConnection_(Blockly.OUTPUT_VALUE);\n      }\n\n      this.outputConnection.setCheck(b);\n    } else if (this.outputConnection) {\n      if (this.outputConnection.isConnected()) throw Error(\"Must disconnect output value before removing connection.\");\n      this.outputConnection.dispose();\n      this.outputConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setInputsInline = function (a) {\n    this.inputsInline != a && (Blockly.Events.fire(new Blockly.Events.BlockChange(this, \"inline\", null, this.inputsInline, a)), this.inputsInline = a);\n  };\n\n  Blockly.Block.prototype.getInputsInline = function () {\n    if (void 0 != this.inputsInline) return this.inputsInline;\n\n    for (var a = 1; a < this.inputList.length; a++) if (this.inputList[a - 1].type == Blockly.DUMMY_INPUT && this.inputList[a].type == Blockly.DUMMY_INPUT) return !1;\n\n    for (a = 1; a < this.inputList.length; a++) if (this.inputList[a - 1].type == Blockly.INPUT_VALUE && this.inputList[a].type == Blockly.DUMMY_INPUT) return !0;\n\n    return !1;\n  };\n\n  Blockly.Block.prototype.setDisabled = function (a) {\n    console.warn(\"Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead.\");\n    this.setEnabled(!a);\n  };\n\n  Blockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n  };\n\n  Blockly.Block.prototype.setEnabled = function (a) {\n    this.isEnabled() != a && (Blockly.Events.fire(new Blockly.Events.BlockChange(this, \"disabled\", null, this.disabled, !a)), this.disabled = !a);\n  };\n\n  Blockly.Block.prototype.getInheritedDisabled = function () {\n    for (var a = this.getSurroundParent(); a;) {\n      if (a.disabled) return !0;\n      a = a.getSurroundParent();\n    }\n\n    return !1;\n  };\n\n  Blockly.Block.prototype.isCollapsed = function () {\n    return this.collapsed_;\n  };\n\n  Blockly.Block.prototype.setCollapsed = function (a) {\n    this.collapsed_ != a && (Blockly.Events.fire(new Blockly.Events.BlockChange(this, \"collapsed\", null, this.collapsed_, a)), this.collapsed_ = a);\n  };\n\n  Blockly.Block.prototype.toString = function (a, b) {\n    var c = [],\n        d = b || \"?\";\n    if (this.collapsed_) c.push(this.getInput(\"_TEMP_COLLAPSED_INPUT\").fieldRow[0].text_);else for (var e = 0, f; f = this.inputList[e]; e++) {\n      for (var g = 0, h; h = f.fieldRow[g]; g++) h instanceof Blockly.FieldDropdown && !h.getValue() ? c.push(d) : c.push(h.getText());\n\n      f.connection && ((f = f.connection.targetBlock()) ? c.push(f.toString(void 0, b)) : c.push(d));\n    }\n    c = c.join(\" \").trim() || \"???\";\n    a && c.length > a && (c = c.substring(0, a - 3) + \"...\");\n    return c;\n  };\n\n  Blockly.Block.prototype.appendValueInput = function (a) {\n    return this.appendInput_(Blockly.INPUT_VALUE, a);\n  };\n\n  Blockly.Block.prototype.appendStatementInput = function (a) {\n    return this.appendInput_(Blockly.NEXT_STATEMENT, a);\n  };\n\n  Blockly.Block.prototype.appendDummyInput = function (a) {\n    return this.appendInput_(Blockly.DUMMY_INPUT, a || \"\");\n  };\n\n  Blockly.Block.prototype.jsonInit = function (a) {\n    var b = a.type ? 'Block \"' + a.type + '\": ' : \"\";\n    if (a.output && a.previousStatement) throw Error(b + \"Must not have both an output and a previousStatement.\");\n    a.style && a.style.hat && (this.hat = a.style.hat, a.style = null);\n    if (a.style && a.colour) throw Error(b + \"Must not have both a colour and a style.\");\n    a.style ? this.jsonInitStyle_(a, b) : this.jsonInitColour_(a, b);\n\n    for (var c = 0; void 0 !== a[\"message\" + c];) this.interpolate_(a[\"message\" + c], a[\"args\" + c] || [], a[\"lastDummyAlign\" + c]), c++;\n\n    void 0 !== a.inputsInline && this.setInputsInline(a.inputsInline);\n    void 0 !== a.output && this.setOutput(!0, a.output);\n    void 0 !== a.previousStatement && this.setPreviousStatement(!0, a.previousStatement);\n    void 0 !== a.nextStatement && this.setNextStatement(!0, a.nextStatement);\n    void 0 !== a.tooltip && (c = a.tooltip, c = Blockly.utils.replaceMessageReferences(c), this.setTooltip(c));\n    void 0 !== a.enableContextMenu && (c = a.enableContextMenu, this.contextMenu = !!c);\n    void 0 !== a.helpUrl && (c = a.helpUrl, c = Blockly.utils.replaceMessageReferences(c), this.setHelpUrl(c));\n    \"string\" == typeof a.extensions && (console.warn(b + \"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '\" + a.type + \"' block.\"), a.extensions = [a.extensions]);\n    void 0 !== a.mutator && Blockly.Extensions.apply(a.mutator, this, !0);\n    if (Array.isArray(a.extensions)) for (a = a.extensions, b = 0; b < a.length; ++b) Blockly.Extensions.apply(a[b], this, !1);\n  };\n\n  Blockly.Block.prototype.jsonInitColour_ = function (a, b) {\n    if (\"colour\" in a) if (void 0 === a.colour) console.warn(b + \"Undefined colour value.\");else {\n      var c = a.colour;\n\n      try {\n        this.setColour(c);\n      } catch (d) {\n        console.warn(b + \"Illegal colour value: \", c);\n      }\n    }\n  };\n\n  Blockly.Block.prototype.jsonInitStyle_ = function (a, b) {\n    var c = a.style;\n\n    try {\n      this.setStyle(c);\n    } catch (d) {\n      console.warn(b + \"Style does not exist: \", c);\n    }\n  };\n\n  Blockly.Block.prototype.mixin = function (a, b) {\n    if (void 0 !== b && \"boolean\" != typeof b) throw Error(\"opt_disableCheck must be a boolean if provided\");\n\n    if (!b) {\n      var c = [],\n          d;\n\n      for (d in a) void 0 !== this[d] && c.push(d);\n\n      if (c.length) throw Error(\"Mixin will overwrite block members: \" + JSON.stringify(c));\n    }\n\n    goog.mixin(this, a);\n  };\n\n  Blockly.Block.prototype.interpolate_ = function (a, b, c) {\n    var d = Blockly.utils.tokenizeInterpolation(a),\n        e = [],\n        f = 0;\n    a = [];\n\n    for (var g = 0; g < d.length; g++) {\n      var h = d[g];\n\n      if (\"number\" == typeof h) {\n        if (0 >= h || h > b.length) throw Error('Block \"' + this.type + '\": Message index %' + h + \" out of range.\");\n        if (e[h]) throw Error('Block \"' + this.type + '\": Message index %' + h + \" duplicated.\");\n        e[h] = !0;\n        f++;\n        a.push(b[h - 1]);\n      } else (h = h.trim()) && a.push(h);\n    }\n\n    if (f != b.length) throw Error('Block \"' + this.type + '\": Message does not reference all ' + b.length + \" arg(s).\");\n    a.length && (\"string\" == typeof a[a.length - 1] || Blockly.utils.string.startsWith(a[a.length - 1].type, \"field_\")) && (g = {\n      type: \"input_dummy\"\n    }, c && (g.align = c), a.push(g));\n    c = {\n      LEFT: Blockly.ALIGN_LEFT,\n      RIGHT: Blockly.ALIGN_RIGHT,\n      CENTRE: Blockly.ALIGN_CENTRE\n    };\n    b = [];\n\n    for (g = 0; g < a.length; g++) if (e = a[g], \"string\" == typeof e) b.push([e, void 0]);else {\n      d = f = null;\n\n      do if (h = !1, \"string\" == typeof e) f = new Blockly.FieldLabel(e);else switch (e.type) {\n        case \"input_value\":\n          d = this.appendValueInput(e.name);\n          break;\n\n        case \"input_statement\":\n          d = this.appendStatementInput(e.name);\n          break;\n\n        case \"input_dummy\":\n          d = this.appendDummyInput(e.name);\n          break;\n\n        default:\n          f = Blockly.Field.fromJson(e), f || (e.alt ? (e = e.alt, h = !0) : console.warn(\"Blockly could not create a field of type \" + e.type + \". You may need to register your custom field.  See github.com/google/blockly/issues/1584\"));\n      } while (h);\n\n      if (f) b.push([f, e.name]);else if (d) {\n        e.check && d.setCheck(e.check);\n        e.align && d.setAlign(c[e.align]);\n\n        for (e = 0; e < b.length; e++) d.appendField(b[e][0], b[e][1]);\n\n        b.length = 0;\n      }\n    }\n  };\n\n  Blockly.Block.prototype.appendInput_ = function (a, b) {\n    var c = null;\n    if (a == Blockly.INPUT_VALUE || a == Blockly.NEXT_STATEMENT) c = this.makeConnection_(a);\n    c = new Blockly.Input(a, b, this, c);\n    this.inputList.push(c);\n    return c;\n  };\n\n  Blockly.Block.prototype.moveInputBefore = function (a, b) {\n    if (a != b) {\n      for (var c = -1, d = b ? -1 : this.inputList.length, e = 0, f; f = this.inputList[e]; e++) if (f.name == a) {\n        if (c = e, -1 != d) break;\n      } else if (b && f.name == b && (d = e, -1 != c)) break;\n\n      if (-1 == c) throw Error('Named input \"' + a + '\" not found.');\n      if (-1 == d) throw Error('Reference input \"' + b + '\" not found.');\n      this.moveNumberedInputBefore(c, d);\n    }\n  };\n\n  Blockly.Block.prototype.moveNumberedInputBefore = function (a, b) {\n    if (a == b) throw Error(\"Can't move input to itself.\");\n    if (a >= this.inputList.length) throw RangeError(\"Input index \" + a + \" out of bounds.\");\n    if (b > this.inputList.length) throw RangeError(\"Reference input \" + b + \" out of bounds.\");\n    var c = this.inputList[a];\n    this.inputList.splice(a, 1);\n    a < b && b--;\n    this.inputList.splice(b, 0, c);\n  };\n\n  Blockly.Block.prototype.removeInput = function (a, b) {\n    for (var c = 0, d; d = this.inputList[c]; c++) if (d.name == a) {\n      if (d.connection && d.connection.isConnected()) {\n        d.connection.setShadowDom(null);\n        var e = d.connection.targetBlock();\n        e.isShadow() ? e.dispose() : e.unplug();\n      }\n\n      d.dispose();\n      this.inputList.splice(c, 1);\n      return;\n    }\n\n    if (!b) throw Error(\"Input not found: \" + a);\n  };\n\n  Blockly.Block.prototype.getInput = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) if (c.name == a) return c;\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getInputTargetBlock = function (a) {\n    return (a = this.getInput(a)) && a.connection && a.connection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getCommentText = function () {\n    return this.comment || \"\";\n  };\n\n  Blockly.Block.prototype.setCommentText = function (a) {\n    this.comment != a && (Blockly.Events.fire(new Blockly.Events.BlockChange(this, \"comment\", null, this.comment, a || \"\")), this.comment = a);\n  };\n\n  Blockly.Block.prototype.setWarningText = function (a, b) {};\n\n  Blockly.Block.prototype.setMutator = function (a) {};\n\n  Blockly.Block.prototype.getRelativeToSurfaceXY = function () {\n    return this.xy_;\n  };\n\n  Blockly.Block.prototype.moveBy = function (a, b) {\n    if (this.parentBlock_) throw Error(\"Block has parent.\");\n    var c = new Blockly.Events.BlockMove(this);\n    this.xy_.translate(a, b);\n    c.recordNew();\n    Blockly.Events.fire(c);\n  };\n\n  Blockly.Block.prototype.makeConnection_ = function (a) {\n    return new Blockly.Connection(this, a);\n  };\n\n  Blockly.Block.prototype.allInputsFilled = function (a) {\n    void 0 === a && (a = !0);\n    if (!a && this.isShadow()) return !1;\n\n    for (var b = 0, c; c = this.inputList[b]; b++) if (c.connection && (c = c.connection.targetBlock(), !c || !c.allInputsFilled(a))) return !1;\n\n    return (b = this.getNextBlock()) ? b.allInputsFilled(a) : !0;\n  };\n\n  Blockly.Block.prototype.toDevString = function () {\n    var a = this.type ? '\"' + this.type + '\" block' : \"Block\";\n    this.id && (a += ' (id=\"' + this.id + '\")');\n    return a;\n  };\n\n  Blockly.BlockDragSurfaceSvg = function (a) {\n    this.container_ = a;\n    this.createDom();\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.SVG_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.dragGroup_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.container_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.scale_ = 1;\n  Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_ = null;\n\n  Blockly.BlockDragSurfaceSvg.prototype.createDom = function () {\n    this.SVG_ || (this.SVG_ = Blockly.utils.dom.createSvgElement(\"svg\", {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklyBlockDragSurface\"\n    }, this.container_), this.dragGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, this.SVG_));\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow = function (a) {\n    if (this.dragGroup_.childNodes.length) throw Error(\"Already dragging a block.\");\n    this.dragGroup_.appendChild(a);\n    this.SVG_.style.display = \"block\";\n    this.surfaceXY_ = new Blockly.utils.Coordinate(0, 0);\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup = function (a, b, c) {\n    this.scale_ = c;\n    a = a.toFixed(0);\n    b = b.toFixed(0);\n    this.dragGroup_.setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \") scale(\" + c + \")\");\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_ = function () {\n    var a = this.surfaceXY_.x,\n        b = this.surfaceXY_.y;\n    a = a.toFixed(0);\n    b = b.toFixed(0);\n    this.SVG_.style.display = \"block\";\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"translate3d(\" + a + \"px, \" + b + \"px, 0px)\");\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateSurface = function (a, b) {\n    this.surfaceXY_ = new Blockly.utils.Coordinate(a * this.scale_, b * this.scale_);\n    this.translateSurfaceInternal_();\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation = function () {\n    var a = Blockly.utils.getRelativeXY(this.SVG_);\n    return new Blockly.utils.Coordinate(a.x / this.scale_, a.y / this.scale_);\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getGroup = function () {\n    return this.dragGroup_;\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock = function () {\n    return this.dragGroup_.firstChild;\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.clearAndHide = function (a) {\n    a ? a.appendChild(this.getCurrentBlock()) : this.dragGroup_.removeChild(this.getCurrentBlock());\n    this.SVG_.style.display = \"none\";\n    if (this.dragGroup_.childNodes.length) throw Error(\"Drag group was not cleared.\");\n    this.surfaceXY_ = null;\n  };\n\n  Blockly.utils.uiMenu = {};\n\n  Blockly.utils.uiMenu.getSize = function (a) {\n    a = a.getElement();\n    var b = goog.style.getSize(a);\n    b.height = a.scrollHeight;\n    return b;\n  };\n\n  Blockly.utils.uiMenu.adjustBBoxesForRTL = function (a, b, c) {\n    b.left += c.width;\n    b.right += c.width;\n    a.left += c.width;\n    a.right += c.width;\n  };\n\n  Blockly.ContextMenu = {};\n  Blockly.ContextMenu.currentBlock = null;\n  Blockly.ContextMenu.eventWrapper_ = null;\n\n  Blockly.ContextMenu.show = function (a, b, c) {\n    Blockly.WidgetDiv.show(Blockly.ContextMenu, c, null);\n\n    if (b.length) {\n      var d = Blockly.ContextMenu.populate_(b, c);\n      goog.events.listen(d, goog.ui.Component.EventType.ACTION, Blockly.ContextMenu.hide);\n      Blockly.ContextMenu.position_(d, a, c);\n      setTimeout(function () {\n        d.getElement().focus();\n      }, 1);\n      Blockly.ContextMenu.currentBlock = null;\n    } else Blockly.ContextMenu.hide();\n  };\n\n  Blockly.ContextMenu.populate_ = function (a, b) {\n    var c = new goog.ui.Menu();\n    c.setRightToLeft(b);\n\n    for (var d = 0, e; e = a[d]; d++) {\n      var f = new goog.ui.MenuItem(e.text);\n      f.setRightToLeft(b);\n      c.addChild(f, !0);\n      f.setEnabled(e.enabled);\n      e.enabled && (goog.events.listen(f, goog.ui.Component.EventType.ACTION, e.callback), f.handleContextMenu = function () {\n        goog.events.dispatchEvent(this, goog.ui.Component.EventType.ACTION);\n      });\n    }\n\n    return c;\n  };\n\n  Blockly.ContextMenu.position_ = function (a, b, c) {\n    var d = Blockly.utils.getViewportBBox();\n    b = {\n      top: b.clientY + d.top,\n      bottom: b.clientY + d.top,\n      left: b.clientX + d.left,\n      right: b.clientX + d.left\n    };\n    Blockly.ContextMenu.createWidget_(a);\n    var e = Blockly.utils.uiMenu.getSize(a);\n    c && Blockly.utils.uiMenu.adjustBBoxesForRTL(d, b, e);\n    Blockly.WidgetDiv.positionWithAnchor(d, b, e, c);\n    a.getElement().focus();\n  };\n\n  Blockly.ContextMenu.createWidget_ = function (a) {\n    a.render(Blockly.WidgetDiv.DIV);\n    var b = a.getElement();\n    Blockly.utils.dom.addClass(b, \"blocklyContextMenu\");\n    Blockly.bindEventWithChecks_(b, \"contextmenu\", null, Blockly.utils.noEvent);\n    a.setAllowAutoFocus(!0);\n  };\n\n  Blockly.ContextMenu.hide = function () {\n    Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);\n    Blockly.ContextMenu.currentBlock = null;\n    Blockly.ContextMenu.eventWrapper_ && Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_);\n  };\n\n  Blockly.ContextMenu.callbackFactory = function (a, b) {\n    return function () {\n      Blockly.Events.disable();\n\n      try {\n        var c = Blockly.Xml.domToBlock(b, a.workspace),\n            d = a.getRelativeToSurfaceXY();\n        d.x = a.RTL ? d.x - Blockly.SNAP_RADIUS : d.x + Blockly.SNAP_RADIUS;\n        d.y += 2 * Blockly.SNAP_RADIUS;\n        c.moveBy(d.x, d.y);\n      } finally {\n        Blockly.Events.enable();\n      }\n\n      Blockly.Events.isEnabled() && !c.isShadow() && Blockly.Events.fire(new Blockly.Events.BlockCreate(c));\n      c.select();\n    };\n  };\n\n  Blockly.ContextMenu.blockDeleteOption = function (a) {\n    var b = a.getDescendants(!1).length,\n        c = a.getNextBlock();\n    c && (b -= c.getDescendants(!1).length);\n    return {\n      text: 1 == b ? Blockly.Msg.DELETE_BLOCK : Blockly.Msg.DELETE_X_BLOCKS.replace(\"%1\", String(b)),\n      enabled: !0,\n      callback: function () {\n        Blockly.Events.setGroup(!0);\n        a.dispose(!0, !0);\n        Blockly.Events.setGroup(!1);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.blockHelpOption = function (a) {\n    return {\n      enabled: !(\"function\" == typeof a.helpUrl ? !a.helpUrl() : !a.helpUrl),\n      text: Blockly.Msg.HELP,\n      callback: function () {\n        a.showHelp_();\n      }\n    };\n  };\n\n  Blockly.ContextMenu.blockDuplicateOption = function (a) {\n    var b = a.isDuplicatable();\n    return {\n      text: Blockly.Msg.DUPLICATE_BLOCK,\n      enabled: b,\n      callback: function () {\n        Blockly.duplicate_(a);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.blockCommentOption = function (a) {\n    var b = {\n      enabled: !Blockly.utils.userAgent.IE\n    };\n    a.comment ? (b.text = Blockly.Msg.REMOVE_COMMENT, b.callback = function () {\n      a.setCommentText(null);\n    }) : (b.text = Blockly.Msg.ADD_COMMENT, b.callback = function () {\n      a.setCommentText(\"\");\n    });\n    return b;\n  };\n\n  Blockly.ContextMenu.commentDeleteOption = function (a) {\n    return {\n      text: Blockly.Msg.REMOVE_COMMENT,\n      enabled: !0,\n      callback: function () {\n        Blockly.Events.setGroup(!0);\n        a.dispose(!0, !0);\n        Blockly.Events.setGroup(!1);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.commentDuplicateOption = function (a) {\n    return {\n      text: Blockly.Msg.DUPLICATE_COMMENT,\n      enabled: !0,\n      callback: function () {\n        Blockly.duplicate_(a);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.workspaceCommentOption = function (a, b) {\n    var c = {\n      enabled: !Blockly.utils.userAgent.IE\n    };\n    c.text = Blockly.Msg.ADD_COMMENT;\n\n    c.callback = function () {\n      var c = new Blockly.WorkspaceCommentSvg(a, Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT, Blockly.WorkspaceCommentSvg.DEFAULT_SIZE, Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),\n          e = a.getInjectionDiv().getBoundingClientRect();\n      e = new Blockly.utils.Coordinate(b.clientX - e.left, b.clientY - e.top);\n      var f = a.getOriginOffsetInPixels();\n      e = Blockly.utils.Coordinate.difference(e, f);\n      e.scale(1 / a.scale);\n      c.moveBy(e.x, e.y);\n      a.rendered && (c.initSvg(), c.render(!1), c.select());\n    };\n\n    return c;\n  };\n\n  Blockly.BlockSvg = function (a, b, c) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {}, null);\n    this.svgGroup_.translate_ = \"\";\n    this.svgPathDark_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyPathDark\",\n      transform: \"translate(1,1)\"\n    }, this.svgGroup_);\n    this.svgPath_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyPath\"\n    }, this.svgGroup_);\n    this.svgPathLight_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyPathLight\"\n    }, this.svgGroup_);\n    this.svgPath_.tooltip = this;\n    this.rendered = !1;\n    this.useDragSurface_ = Blockly.utils.is3dSupported() && !!a.blockDragSurface_;\n    Blockly.Tooltip.bindMouseEvents(this.svgPath_);\n    Blockly.BlockSvg.superClass_.constructor.call(this, a, b, c);\n    this.svgGroup_.dataset && (this.svgGroup_.dataset.id = this.id);\n  };\n\n  goog.inherits(Blockly.BlockSvg, Blockly.Block);\n  Blockly.BlockSvg.prototype.height = 0;\n  Blockly.BlockSvg.prototype.width = 0;\n  Blockly.BlockSvg.prototype.dragStartXY_ = null;\n  Blockly.BlockSvg.prototype.warningTextDb_ = null;\n  Blockly.BlockSvg.INLINE = -1;\n  Blockly.BlockSvg.COLLAPSED_WARNING_ID = \"TEMP_COLLAPSED_WARNING_\";\n\n  Blockly.BlockSvg.prototype.initSvg = function () {\n    if (!this.workspace.rendered) throw TypeError(\"Workspace is headless.\");\n\n    for (var a = 0, b; b = this.inputList[a]; a++) b.init();\n\n    b = this.getIcons();\n\n    for (a = 0; a < b.length; a++) b[a].createIcon();\n\n    this.updateColour();\n    this.updateMovable();\n    this.workspace.options.readOnly || this.eventsInit_ || Blockly.bindEventWithChecks_(this.getSvgRoot(), \"mousedown\", this, this.onMouseDown_);\n    this.eventsInit_ = !0;\n    this.getSvgRoot().parentNode || this.workspace.getCanvas().appendChild(this.getSvgRoot());\n  };\n\n  Blockly.BlockSvg.prototype.select = function () {\n    if (this.isShadow() && this.getParent()) this.getParent().select();else if (Blockly.selected != this) {\n      var a = null;\n\n      if (Blockly.selected) {\n        a = Blockly.selected.id;\n        Blockly.Events.disable();\n\n        try {\n          Blockly.selected.unselect();\n        } finally {\n          Blockly.Events.enable();\n        }\n      }\n\n      a = new Blockly.Events.Ui(null, \"selected\", a, this.id);\n      a.workspaceId = this.workspace.id;\n      Blockly.Events.fire(a);\n      Blockly.selected = this;\n      this.addSelect();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.unselect = function () {\n    if (Blockly.selected == this) {\n      var a = new Blockly.Events.Ui(null, \"selected\", this.id, null);\n      a.workspaceId = this.workspace.id;\n      Blockly.Events.fire(a);\n      Blockly.selected = null;\n      this.removeSelect();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.mutator = null;\n  Blockly.BlockSvg.prototype.comment = null;\n  Blockly.BlockSvg.prototype.warning = null;\n\n  Blockly.BlockSvg.prototype.getIcons = function () {\n    var a = [];\n    this.mutator && a.push(this.mutator);\n    this.comment && a.push(this.comment);\n    this.warning && a.push(this.warning);\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.setParent = function (a) {\n    var b = this.parentBlock_;\n\n    if (a != b) {\n      Blockly.Field.startCache();\n      Blockly.BlockSvg.superClass_.setParent.call(this, a);\n      Blockly.Field.stopCache();\n      var c = this.getSvgRoot();\n\n      if (!this.workspace.isClearing && c) {\n        var d = this.getRelativeToSurfaceXY();\n        a ? (a.getSvgRoot().appendChild(c), a = this.getRelativeToSurfaceXY(), this.moveConnections_(a.x - d.x, a.y - d.y)) : b && (this.workspace.getCanvas().appendChild(c), this.translate(d.x, d.y));\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getRelativeToSurfaceXY = function () {\n    var a = 0,\n        b = 0,\n        c = this.useDragSurface_ ? this.workspace.blockDragSurface_.getGroup() : null,\n        d = this.getSvgRoot();\n\n    if (d) {\n      do {\n        var e = Blockly.utils.getRelativeXY(d);\n        a += e.x;\n        b += e.y;\n        this.useDragSurface_ && this.workspace.blockDragSurface_.getCurrentBlock() == d && (e = this.workspace.blockDragSurface_.getSurfaceTranslation(), a += e.x, b += e.y);\n        d = d.parentNode;\n      } while (d && d != this.workspace.getCanvas() && d != c);\n    }\n\n    return new Blockly.utils.Coordinate(a, b);\n  };\n\n  Blockly.BlockSvg.prototype.moveBy = function (a, b) {\n    if (this.parentBlock_) throw Error(\"Block has parent.\");\n    var c = Blockly.Events.isEnabled();\n    if (c) var d = new Blockly.Events.BlockMove(this);\n    var e = this.getRelativeToSurfaceXY();\n    this.translate(e.x + a, e.y + b);\n    this.moveConnections_(a, b);\n    c && (d.recordNew(), Blockly.Events.fire(d));\n    this.workspace.resizeContents();\n  };\n\n  Blockly.BlockSvg.prototype.translate = function (a, b) {\n    this.getSvgRoot().setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \")\");\n  };\n\n  Blockly.BlockSvg.prototype.moveToDragSurface_ = function () {\n    if (this.useDragSurface_) {\n      var a = this.getRelativeToSurfaceXY();\n      this.clearTransformAttributes_();\n      this.workspace.blockDragSurface_.translateSurface(a.x, a.y);\n      this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot());\n    }\n  };\n\n  Blockly.BlockSvg.prototype.moveOffDragSurface_ = function (a) {\n    this.useDragSurface_ && (this.translate(a.x, a.y), this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()));\n  };\n\n  Blockly.BlockSvg.prototype.moveDuringDrag = function (a) {\n    this.useDragSurface_ ? this.workspace.blockDragSurface_.translateSurface(a.x, a.y) : (this.svgGroup_.translate_ = \"translate(\" + a.x + \",\" + a.y + \")\", this.svgGroup_.setAttribute(\"transform\", this.svgGroup_.translate_ + this.svgGroup_.skew_));\n  };\n\n  Blockly.BlockSvg.prototype.clearTransformAttributes_ = function () {\n    this.getSvgRoot().removeAttribute(\"transform\");\n  };\n\n  Blockly.BlockSvg.prototype.snapToGrid = function () {\n    if (this.workspace && !this.workspace.isDragging() && !this.getParent() && !this.isInFlyout) {\n      var a = this.workspace.getGrid();\n\n      if (a && a.shouldSnap()) {\n        var b = a.getSpacing(),\n            c = b / 2,\n            d = this.getRelativeToSurfaceXY();\n        a = Math.round((d.x - c) / b) * b + c - d.x;\n        b = Math.round((d.y - c) / b) * b + c - d.y;\n        a = Math.round(a);\n        b = Math.round(b);\n        0 == a && 0 == b || this.moveBy(a, b);\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getBoundingRectangle = function () {\n    var a = this.getRelativeToSurfaceXY(this),\n        b = this.outputConnection ? Blockly.BlockSvg.TAB_WIDTH : 0,\n        c = this.getHeightWidth(),\n        d = a.y,\n        e = a.y + c.height;\n\n    if (this.RTL) {\n      var f = a.x - (c.width - b);\n      a = a.x + b;\n    } else f = a.x - b, a = a.x + c.width - b;\n\n    return new Blockly.utils.Rect(d, e, f, a);\n  };\n\n  Blockly.BlockSvg.prototype.setCollapsed = function (a) {\n    if (this.collapsed_ != a) {\n      for (var b = [], c = 0, d; d = this.inputList[c]; c++) b.push.apply(b, d.setVisible(!a));\n\n      if (a) {\n        d = this.getIcons();\n\n        for (c = 0; c < d.length; c++) d[c].setVisible(!1);\n\n        c = this.toString(Blockly.COLLAPSE_CHARS);\n        this.appendDummyInput(\"_TEMP_COLLAPSED_INPUT\").appendField(c).init();\n        d = this.getDescendants(!0);\n        if (c = this.getNextBlock()) c = d.indexOf(c), d.splice(c, d.length - c);\n        c = 1;\n\n        for (var e; e = d[c]; c++) if (e.warning) {\n          this.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING, Blockly.BlockSvg.COLLAPSED_WARNING_ID);\n          break;\n        }\n      } else this.removeInput(\"_TEMP_COLLAPSED_INPUT\"), this.warning && (this.warning.setText(\"\", Blockly.BlockSvg.COLLAPSED_WARNING_ID), Object.keys(this.warning.text_).length || this.setWarningText(null));\n\n      Blockly.BlockSvg.superClass_.setCollapsed.call(this, a);\n      b.length || (b[0] = this);\n      if (this.rendered) for (c = 0; e = b[c]; c++) e.render();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.tab = function (a, b) {\n    var c = this.createTabList_(),\n        d = c.indexOf(a);\n    -1 == d && (d = b ? -1 : c.length);\n    (c = c[b ? d + 1 : d - 1]) ? c instanceof Blockly.Field ? c.showEditor_() : c.tab(null, b) : (c = this.getParent()) && c.tab(this, b);\n  };\n\n  Blockly.BlockSvg.prototype.createTabList_ = function () {\n    for (var a = [], b = 0, c; c = this.inputList[b]; b++) {\n      for (var d = 0, e; e = c.fieldRow[d]; d++) e instanceof Blockly.FieldTextInput && a.push(e);\n\n      c.connection && (c = c.connection.targetBlock()) && a.push(c);\n    }\n\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.onMouseDown_ = function (a) {\n    var b = this.workspace && this.workspace.getGesture(a);\n    b && b.handleBlockStart(a, this);\n  };\n\n  Blockly.BlockSvg.prototype.showHelp_ = function () {\n    var a = \"function\" == typeof this.helpUrl ? this.helpUrl() : this.helpUrl;\n    a && window.open(a);\n  };\n\n  Blockly.BlockSvg.prototype.generateContextMenu = function () {\n    if (this.workspace.options.readOnly || !this.contextMenu) return null;\n    var a = this,\n        b = [];\n\n    if (!this.isInFlyout) {\n      this.isDeletable() && this.isMovable() && b.push(Blockly.ContextMenu.blockDuplicateOption(a));\n      this.workspace.options.comments && !this.collapsed_ && this.isEditable() && b.push(Blockly.ContextMenu.blockCommentOption(a));\n      if (this.isMovable()) if (this.collapsed_) this.workspace.options.collapse && (c = {\n        enabled: !0\n      }, c.text = Blockly.Msg.EXPAND_BLOCK, c.callback = function () {\n        a.setCollapsed(!1);\n      }, b.push(c));else {\n        for (var c = 1; c < this.inputList.length; c++) if (this.inputList[c - 1].type != Blockly.NEXT_STATEMENT && this.inputList[c].type != Blockly.NEXT_STATEMENT) {\n          c = {\n            enabled: !0\n          };\n          var d = this.getInputsInline();\n          c.text = d ? Blockly.Msg.EXTERNAL_INPUTS : Blockly.Msg.INLINE_INPUTS;\n\n          c.callback = function () {\n            a.setInputsInline(!d);\n          };\n\n          b.push(c);\n          break;\n        }\n\n        this.workspace.options.collapse && (c = {\n          enabled: !0\n        }, c.text = Blockly.Msg.COLLAPSE_BLOCK, c.callback = function () {\n          a.setCollapsed(!0);\n        }, b.push(c));\n      }\n      this.workspace.options.disable && this.isEditable() && (c = {\n        text: this.isEnabled() ? Blockly.Msg.DISABLE_BLOCK : Blockly.Msg.ENABLE_BLOCK,\n        enabled: !this.getInheritedDisabled(),\n        callback: function () {\n          var b = Blockly.Events.getGroup();\n          b || Blockly.Events.setGroup(!0);\n          a.setEnabled(!a.isEnabled());\n          b || Blockly.Events.setGroup(!1);\n        }\n      }, b.push(c));\n      this.isDeletable() && b.push(Blockly.ContextMenu.blockDeleteOption(a));\n    }\n\n    b.push(Blockly.ContextMenu.blockHelpOption(a));\n    this.customContextMenu && this.customContextMenu(b);\n    return b;\n  };\n\n  Blockly.BlockSvg.prototype.showContextMenu_ = function (a) {\n    var b = this.generateContextMenu();\n    b && b.length && (Blockly.ContextMenu.show(a, b, this.RTL), Blockly.ContextMenu.currentBlock = this);\n  };\n\n  Blockly.BlockSvg.prototype.moveConnections_ = function (a, b) {\n    if (this.rendered) {\n      for (var c = this.getConnections_(!1), d = 0; d < c.length; d++) c[d].moveBy(a, b);\n\n      c = this.getIcons();\n\n      for (d = 0; d < c.length; d++) c[d].computeIconLocation();\n\n      for (d = 0; d < this.childBlocks_.length; d++) this.childBlocks_[d].moveConnections_(a, b);\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setDragging = function (a) {\n    if (a) {\n      var b = this.getSvgRoot();\n      b.translate_ = \"\";\n      b.skew_ = \"\";\n      Blockly.draggingConnections_ = Blockly.draggingConnections_.concat(this.getConnections_(!0));\n      Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDragging\");\n    } else Blockly.draggingConnections_ = [], Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDragging\");\n\n    for (b = 0; b < this.childBlocks_.length; b++) this.childBlocks_[b].setDragging(a);\n  };\n\n  Blockly.BlockSvg.prototype.updateMovable = function () {\n    this.isMovable() ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDraggable\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDraggable\");\n  };\n\n  Blockly.BlockSvg.prototype.setMovable = function (a) {\n    Blockly.BlockSvg.superClass_.setMovable.call(this, a);\n    this.updateMovable();\n  };\n\n  Blockly.BlockSvg.prototype.setEditable = function (a) {\n    Blockly.BlockSvg.superClass_.setEditable.call(this, a);\n    a = this.getIcons();\n\n    for (var b = 0; b < a.length; b++) a[b].updateEditable();\n  };\n\n  Blockly.BlockSvg.prototype.setShadow = function (a) {\n    Blockly.BlockSvg.superClass_.setShadow.call(this, a);\n    this.updateColour();\n  };\n\n  Blockly.BlockSvg.prototype.setInsertionMarker = function (a) {\n    this.isInsertionMarker_ != a && (this.isInsertionMarker_ = a) && (this.setColour(Blockly.INSERTION_MARKER_COLOUR), Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyInsertionMarker\"));\n  };\n\n  Blockly.BlockSvg.prototype.getSvgRoot = function () {\n    return this.svgGroup_;\n  };\n\n  Blockly.BlockSvg.prototype.dispose = function (a, b) {\n    if (this.workspace) {\n      Blockly.Tooltip.hide();\n      Blockly.Field.startCache();\n      var c = this.workspace;\n      Blockly.selected == this && (this.unselect(), this.workspace.cancelCurrentGesture());\n      Blockly.ContextMenu.currentBlock == this && Blockly.ContextMenu.hide();\n      b && this.rendered && (this.unplug(a), Blockly.blockAnimations.disposeUiEffect(this));\n      this.rendered = !1;\n\n      if (this.warningTextDb_) {\n        for (var d in this.warningTextDb_) clearTimeout(this.warningTextDb_[d]);\n\n        this.warningTextDb_ = null;\n      }\n\n      this.unplug(a);\n      var e;\n      Blockly.Events.isEnabled() && (e = new Blockly.Events.BlockDelete(this));\n      Blockly.Events.disable();\n\n      try {\n        var f = this.getIcons();\n\n        for (d = 0; d < f.length; d++) f[d].dispose();\n\n        Blockly.BlockSvg.superClass_.dispose.call(this, a);\n      } finally {\n        Blockly.Events.enable();\n      }\n\n      Blockly.Events.isEnabled() && e && Blockly.Events.fire(e);\n      Blockly.utils.dom.removeNode(this.svgGroup_);\n      c.resizeContents();\n      this.svgPathDark_ = this.svgPathLight_ = this.svgPath_ = this.svgGroup_ = null;\n      Blockly.Field.stopCache();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.updateColour = function () {\n    if (this.isEnabled()) {\n      this.isShadow() ? this.setShadowColour_() : (this.setBorderColour_(), this.svgPath_.setAttribute(\"fill\", this.getColour()));\n\n      for (var a = this.getIcons(), b = 0; b < a.length; b++) a[b].updateColour();\n\n      for (a = 0; b = this.inputList[a]; a++) for (var c = 0, d; d = b.fieldRow[c]; c++) d.updateColour();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setBorderColour_ = function () {\n    var a = this.getColourBorder();\n    a.colourBorder ? (this.svgPathLight_.style.display = \"none\", this.svgPathDark_.style.display = \"none\", this.svgPath_.setAttribute(\"stroke\", a.colourBorder)) : (this.svgPathLight_.style.display = \"\", this.svgPathDark_.style.display = \"\", this.svgPath_.setAttribute(\"stroke\", \"none\"), this.svgPathLight_.setAttribute(\"stroke\", a.colourLight), this.svgPathDark_.setAttribute(\"fill\", a.colourDark));\n  };\n\n  Blockly.BlockSvg.prototype.setShadowColour_ = function () {\n    var a = this.getColourShadow();\n    this.svgPathLight_.style.display = \"none\";\n    this.svgPathDark_.setAttribute(\"fill\", a);\n    this.svgPath_.setAttribute(\"stroke\", \"none\");\n    this.svgPath_.setAttribute(\"fill\", a);\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.updateDisabled = function () {\n    !this.isEnabled() || this.getInheritedDisabled() ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDisabled\") && this.svgPath_.setAttribute(\"fill\", \"url(#\" + this.workspace.options.disabledPatternId + \")\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDisabled\") && this.updateColour();\n\n    for (var a = this.getChildren(!1), b = 0, c; c = a[b]; b++) c.updateDisabled();\n  };\n\n  Blockly.BlockSvg.prototype.getCommentText = function () {\n    return this.comment ? this.comment.getText().replace(/\\s+$/, \"\").replace(/ +\\n/g, \"\\n\") : \"\";\n  };\n\n  Blockly.BlockSvg.prototype.setCommentText = function (a) {\n    var b = !1;\n    \"string\" == typeof a ? (this.comment || (this.comment = new Blockly.Comment(this), b = !0), this.comment.setText(a)) : this.comment && (this.comment.dispose(), b = !0);\n    b && this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.setWarningText = function (a, b) {\n    this.warningTextDb_ || (this.warningTextDb_ = Object.create(null));\n    var c = b || \"\";\n    if (c) this.warningTextDb_[c] && (clearTimeout(this.warningTextDb_[c]), delete this.warningTextDb_[c]);else for (var d in this.warningTextDb_) clearTimeout(this.warningTextDb_[d]), delete this.warningTextDb_[d];\n\n    if (this.workspace.isDragging()) {\n      var e = this;\n      this.warningTextDb_[c] = setTimeout(function () {\n        e.workspace && (delete e.warningTextDb_[c], e.setWarningText(a, c));\n      }, 100);\n    } else {\n      this.isInFlyout && (a = null);\n      d = this.getSurroundParent();\n\n      for (var f = null; d;) d.isCollapsed() && (f = d), d = d.getSurroundParent();\n\n      f && f.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING, Blockly.BlockSvg.COLLAPSED_WARNING_ID);\n      d = !1;\n      \"string\" == typeof a ? (this.warning || (this.warning = new Blockly.Warning(this), d = !0), this.warning.setText(a, c)) : this.warning && !c ? (this.warning.dispose(), d = !0) : this.warning && (d = this.warning.getText(), this.warning.setText(\"\", c), (f = this.warning.getText()) || this.warning.dispose(), d = d != f);\n      d && this.rendered && (this.render(), this.bumpNeighbours_());\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setMutator = function (a) {\n    this.mutator && this.mutator !== a && this.mutator.dispose();\n    a && (a.block_ = this, this.mutator = a, a.createIcon());\n  };\n\n  Blockly.BlockSvg.prototype.setDisabled = function (a) {\n    console.warn(\"Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead.\");\n    this.setEnabled(!a);\n  };\n\n  Blockly.BlockSvg.prototype.setEnabled = function (a) {\n    this.isEnabled() != a && (Blockly.BlockSvg.superClass_.setEnabled.call(this, a), this.rendered && this.updateDisabled());\n  };\n\n  Blockly.BlockSvg.prototype.setHighlighted = function (a) {\n    this.rendered && (a ? (this.svgPath_.setAttribute(\"filter\", \"url(#\" + this.workspace.options.embossFilterId + \")\"), this.svgPathLight_.style.display = \"none\") : (this.svgPath_.setAttribute(\"filter\", \"none\"), this.svgPathLight_.style.display = \"inline\"));\n  };\n\n  Blockly.BlockSvg.prototype.addSelect = function () {\n    Blockly.utils.dom.addClass(this.svgGroup_, \"blocklySelected\");\n  };\n\n  Blockly.BlockSvg.prototype.removeSelect = function () {\n    Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklySelected\");\n  };\n\n  Blockly.BlockSvg.prototype.setDeleteStyle = function (a) {\n    a ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDraggingDelete\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDraggingDelete\");\n  };\n\n  Blockly.BlockSvg.prototype.setColour = function (a) {\n    Blockly.BlockSvg.superClass_.setColour.call(this, a);\n    this.rendered && this.updateColour();\n  };\n\n  Blockly.BlockSvg.prototype.bringToFront = function () {\n    var a = this;\n\n    do {\n      var b = a.getSvgRoot();\n      b.parentNode.appendChild(b);\n      a = a.getParent();\n    } while (a);\n  };\n\n  Blockly.BlockSvg.prototype.setPreviousStatement = function (a, b) {\n    Blockly.BlockSvg.superClass_.setPreviousStatement.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.setNextStatement = function (a, b) {\n    Blockly.BlockSvg.superClass_.setNextStatement.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.setOutput = function (a, b) {\n    Blockly.BlockSvg.superClass_.setOutput.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.setInputsInline = function (a) {\n    Blockly.BlockSvg.superClass_.setInputsInline.call(this, a);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.removeInput = function (a, b) {\n    Blockly.BlockSvg.superClass_.removeInput.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.moveNumberedInputBefore = function (a, b) {\n    Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n  };\n\n  Blockly.BlockSvg.prototype.appendInput_ = function (a, b) {\n    var c = Blockly.BlockSvg.superClass_.appendInput_.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours_());\n    return c;\n  };\n\n  Blockly.BlockSvg.prototype.getConnections_ = function (a) {\n    var b = [];\n    if (a || this.rendered) if (this.outputConnection && b.push(this.outputConnection), this.previousConnection && b.push(this.previousConnection), this.nextConnection && b.push(this.nextConnection), a || !this.collapsed_) {\n      a = 0;\n\n      for (var c; c = this.inputList[a]; a++) c.connection && b.push(c.connection);\n    }\n    return b;\n  };\n\n  Blockly.BlockSvg.prototype.makeConnection_ = function (a) {\n    return new Blockly.RenderedConnection(this, a);\n  };\n\n  Blockly.BlockSvg.prototype.bumpNeighbours_ = function () {\n    if (this.workspace && !this.workspace.isDragging()) {\n      var a = this.getRootBlock();\n      if (!a.isInFlyout) for (var b = this.getConnections_(!1), c = 0, d; d = b[c]; c++) {\n        d.isConnected() && d.isSuperior() && d.targetBlock().bumpNeighbours_();\n\n        for (var e = d.neighbours_(Blockly.SNAP_RADIUS), f = 0, g; g = e[f]; f++) d.isConnected() && g.isConnected() || g.getSourceBlock().getRootBlock() != a && (d.isSuperior() ? g.bumpAwayFrom_(d) : d.bumpAwayFrom_(g));\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.scheduleSnapAndBump = function () {\n    var a = this,\n        b = Blockly.Events.getGroup();\n    setTimeout(function () {\n      Blockly.Events.setGroup(b);\n      a.snapToGrid();\n      Blockly.Events.setGroup(!1);\n    }, Blockly.BUMP_DELAY / 2);\n    setTimeout(function () {\n      Blockly.Events.setGroup(b);\n      a.bumpNeighbours_();\n      Blockly.Events.setGroup(!1);\n    }, Blockly.BUMP_DELAY);\n  };\n\n  Blockly.BlockSvg.render = {};\n\n  Blockly.BlockSvg.PathObject = function () {\n    this.steps = [];\n    this.highlightSteps = [];\n    this.inlineSteps = [];\n    this.highlightInlineSteps = [];\n  };\n\n  Blockly.BlockSvg.SEP_SPACE_X = 10;\n  Blockly.BlockSvg.SEP_SPACE_Y = 10;\n  Blockly.BlockSvg.INLINE_PADDING_Y = 5;\n  Blockly.BlockSvg.MIN_BLOCK_Y = 25;\n  Blockly.BlockSvg.TAB_HEIGHT = 20;\n  Blockly.BlockSvg.TAB_WIDTH = 8;\n  Blockly.BlockSvg.NOTCH_WIDTH = 30;\n  Blockly.BlockSvg.CORNER_RADIUS = 8;\n  Blockly.BlockSvg.START_HAT = !1;\n  Blockly.BlockSvg.START_HAT_HEIGHT = 15;\n  Blockly.BlockSvg.START_HAT_PATH = \"c 30,-\" + Blockly.BlockSvg.START_HAT_HEIGHT + \" 70,-\" + Blockly.BlockSvg.START_HAT_HEIGHT + \" 100,0\";\n  Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR = \"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5\";\n  Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL = \"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7\";\n  Blockly.BlockSvg.DISTANCE_45_INSIDE = (1 - Math.SQRT1_2) * (Blockly.BlockSvg.CORNER_RADIUS - .5) + .5;\n  Blockly.BlockSvg.DISTANCE_45_OUTSIDE = (1 - Math.SQRT1_2) * (Blockly.BlockSvg.CORNER_RADIUS + .5) - .5;\n  Blockly.BlockSvg.NOTCH_PATH_LEFT = \"l 6,4 3,0 6,-4\";\n  Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT = \"l 6,4 3,0 6,-4\";\n  Blockly.BlockSvg.NOTCH_PATH_RIGHT = \"l -6,4 -3,0 -6,-4\";\n  Blockly.BlockSvg.JAGGED_TEETH = \"l 8,0 0,4 8,4 -16,8 8,4\";\n  Blockly.BlockSvg.JAGGED_TEETH_HEIGHT = 20;\n  Blockly.BlockSvg.JAGGED_TEETH_WIDTH = 15;\n  Blockly.BlockSvg.TAB_PATH_DOWN = \"v 5 c 0,10 -\" + Blockly.BlockSvg.TAB_WIDTH + \",-8 -\" + Blockly.BlockSvg.TAB_WIDTH + \",7.5 s \" + Blockly.BlockSvg.TAB_WIDTH + \",-2.5 \" + Blockly.BlockSvg.TAB_WIDTH + \",7.5\";\n  Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL = \"v 6.5 m -\" + .97 * Blockly.BlockSvg.TAB_WIDTH + \",3 q -\" + .05 * Blockly.BlockSvg.TAB_WIDTH + \",10 \" + .3 * Blockly.BlockSvg.TAB_WIDTH + \",9.5 m \" + .67 * Blockly.BlockSvg.TAB_WIDTH + \",-1.9 v 1.4\";\n  Blockly.BlockSvg.TOP_LEFT_CORNER_START = \"m 0,\" + Blockly.BlockSvg.CORNER_RADIUS;\n  Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL = \"m \" + Blockly.BlockSvg.DISTANCE_45_INSIDE + \",\" + Blockly.BlockSvg.DISTANCE_45_INSIDE;\n  Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR = \"m 0.5,\" + (Blockly.BlockSvg.CORNER_RADIUS - .5);\n  Blockly.BlockSvg.TOP_LEFT_CORNER = \"A \" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS + \" 0 0,1 \" + Blockly.BlockSvg.CORNER_RADIUS + \",0\";\n  Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT = \"A \" + (Blockly.BlockSvg.CORNER_RADIUS - .5) + \",\" + (Blockly.BlockSvg.CORNER_RADIUS - .5) + \" 0 0,1 \" + Blockly.BlockSvg.CORNER_RADIUS + \",0.5\";\n  Blockly.BlockSvg.INNER_TOP_LEFT_CORNER = Blockly.BlockSvg.NOTCH_PATH_RIGHT + \" h -\" + (Blockly.BlockSvg.NOTCH_WIDTH - 15 - Blockly.BlockSvg.CORNER_RADIUS) + \" a \" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS + \" 0 0,0 -\" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS;\n  Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER = \"a \" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS + \" 0 0,0 \" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS;\n  Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL = \"a \" + Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS + \" 0 0,0 \" + (-Blockly.BlockSvg.DISTANCE_45_OUTSIDE - .5) + \",\" + (Blockly.BlockSvg.CORNER_RADIUS - Blockly.BlockSvg.DISTANCE_45_OUTSIDE);\n  Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL = \"a \" + (Blockly.BlockSvg.CORNER_RADIUS + .5) + \",\" + (Blockly.BlockSvg.CORNER_RADIUS + .5) + \" 0 0,0 \" + (Blockly.BlockSvg.CORNER_RADIUS + .5) + \",\" + (Blockly.BlockSvg.CORNER_RADIUS + .5);\n  Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR = \"a \" + (Blockly.BlockSvg.CORNER_RADIUS + .5) + \",\" + (Blockly.BlockSvg.CORNER_RADIUS + .5) + \" 0 0,0 \" + (Blockly.BlockSvg.CORNER_RADIUS - Blockly.BlockSvg.DISTANCE_45_OUTSIDE) + \",\" + (Blockly.BlockSvg.DISTANCE_45_OUTSIDE + .5);\n\n  Blockly.BlockSvg.prototype.getHeightWidth = function () {\n    var a = this.height,\n        b = this.width,\n        c = this.getNextBlock();\n    c ? (c = c.getHeightWidth(), a += c.height - 4, b = Math.max(b, c.width)) : this.nextConnection || this.outputConnection || (a += 2);\n    return {\n      height: a,\n      width: b\n    };\n  };\n\n  Blockly.BlockSvg.prototype.render = function (a) {\n    Blockly.Field.startCache();\n    this.rendered = !0;\n    var b = Blockly.BlockSvg.SEP_SPACE_X;\n    this.RTL && (b = -b);\n\n    for (var c = this.getIcons(), d = 0; d < c.length; d++) b = c[d].renderIcon(b);\n\n    b += this.RTL ? Blockly.BlockSvg.SEP_SPACE_X : -Blockly.BlockSvg.SEP_SPACE_X;\n    c = this.renderCompute_(b);\n    this.renderDraw_(b, c);\n    this.renderMoveConnections_();\n    !1 !== a && ((a = this.getParent()) ? a.render(!0) : this.workspace.resizeContents());\n    Blockly.Field.stopCache();\n  };\n\n  Blockly.BlockSvg.prototype.renderFields_ = function (a, b, c) {\n    c += Blockly.BlockSvg.INLINE_PADDING_Y;\n    this.RTL && (b = -b);\n\n    for (var d = 0, e; e = a[d]; d++) {\n      var f = e.getSvgRoot();\n\n      if (f) {\n        var g = \"\";\n\n        if (this.RTL) {\n          var h = b -= e.renderSep + e.renderWidth;\n          e.renderWidth && (b -= Blockly.BlockSvg.SEP_SPACE_X);\n        } else h = b + e.renderSep, e.renderWidth && (b += e.renderSep + e.renderWidth + Blockly.BlockSvg.SEP_SPACE_X);\n\n        this.RTL && e instanceof Blockly.FieldImage && e.getFlipRtl() && (g = \"scale(-1 1)\", h += e.renderWidth);\n        f.setAttribute(\"transform\", \"translate(\" + h + \",\" + c + \")\" + g);\n        this.isInsertionMarker() && f.setAttribute(\"display\", \"none\");\n      }\n    }\n\n    return this.RTL ? -b : b;\n  };\n\n  Blockly.BlockSvg.prototype.renderCompute_ = function (a) {\n    var b = this.inputList,\n        c = [];\n    c.rightEdge = a + 2 * Blockly.BlockSvg.SEP_SPACE_X;\n    if (this.previousConnection || this.nextConnection) c.rightEdge = Math.max(c.rightEdge, Blockly.BlockSvg.NOTCH_WIDTH + Blockly.BlockSvg.SEP_SPACE_X);\n\n    for (var d = 0, e = 0, f = !1, g = !1, h = !1, k = void 0, l = this.getInputsInline() && !this.isCollapsed(), n = 0, m; m = b[n]; n++) if (m.isVisible()) {\n      if (l && k && k != Blockly.NEXT_STATEMENT && m.type != Blockly.NEXT_STATEMENT) var p = c[c.length - 1];else k = m.type, p = [], p.type = l && m.type != Blockly.NEXT_STATEMENT ? Blockly.BlockSvg.INLINE : m.type, p.height = 0, c.push(p);\n      p.push(m);\n      m.renderHeight = Blockly.BlockSvg.MIN_BLOCK_Y;\n      m.renderWidth = l && m.type == Blockly.INPUT_VALUE ? Blockly.BlockSvg.TAB_WIDTH + 1.25 * Blockly.BlockSvg.SEP_SPACE_X : 0;\n\n      if (m.connection && m.connection.isConnected()) {\n        var r = m.connection.targetBlock().getHeightWidth();\n        m.renderHeight = Math.max(m.renderHeight, r.height);\n        m.renderWidth = Math.max(m.renderWidth, r.width);\n      }\n\n      l || n != b.length - 1 ? !l && m.type == Blockly.INPUT_VALUE && b[n + 1] && b[n + 1].type == Blockly.NEXT_STATEMENT && m.renderHeight-- : m.renderHeight--;\n      p.height = Math.max(p.height, m.renderHeight);\n      m.fieldWidth = 0;\n      1 == c.length && (m.fieldWidth += this.RTL ? -a : a);\n      r = !1;\n\n      for (var t = 0, q; q = m.fieldRow[t]; t++) {\n        0 != t && (m.fieldWidth += Blockly.BlockSvg.SEP_SPACE_X);\n        var u = q.getSize();\n        q.renderWidth = u.width;\n        q.renderSep = r && q.EDITABLE ? Blockly.BlockSvg.SEP_SPACE_X : 0;\n        m.fieldWidth += q.renderWidth + q.renderSep;\n        p.height = Math.max(p.height, u.height);\n        r = q.EDITABLE;\n      }\n\n      p.type != Blockly.BlockSvg.INLINE && (p.type == Blockly.NEXT_STATEMENT ? (g = !0, e = Math.max(e, m.fieldWidth)) : (p.type == Blockly.INPUT_VALUE ? f = !0 : p.type == Blockly.DUMMY_INPUT && (h = !0), d = Math.max(d, m.fieldWidth)));\n    }\n\n    for (a = 0; p = c[a]; a++) if (p.thicker = !1, p.type == Blockly.BlockSvg.INLINE) for (b = 0; m = p[b]; b++) if (m.type == Blockly.INPUT_VALUE) {\n      p.height += 2 * Blockly.BlockSvg.INLINE_PADDING_Y;\n      p.thicker = !0;\n      break;\n    }\n\n    c.statementEdge = 2 * Blockly.BlockSvg.SEP_SPACE_X + e;\n    g && (c.rightEdge = Math.max(c.rightEdge, c.statementEdge + Blockly.BlockSvg.NOTCH_WIDTH));\n    f ? c.rightEdge = Math.max(c.rightEdge, d + 2 * Blockly.BlockSvg.SEP_SPACE_X + Blockly.BlockSvg.TAB_WIDTH) : h && (c.rightEdge = Math.max(c.rightEdge, d + 2 * Blockly.BlockSvg.SEP_SPACE_X));\n    c.hasValue = f;\n    c.hasStatement = g;\n    c.hasDummy = h;\n    return c;\n  };\n\n  Blockly.BlockSvg.prototype.renderDraw_ = function (a, b) {\n    this.startHat_ = !1;\n    this.height = 0;\n    if (this.outputConnection) this.squareBottomLeftCorner_ = this.squareTopLeftCorner_ = !0;else {\n      var c = this.hat ? \"cap\" === this.hat : Blockly.BlockSvg.START_HAT;\n      this.squareBottomLeftCorner_ = this.squareTopLeftCorner_ = !1;\n      this.previousConnection ? (c = this.previousConnection.targetBlock()) && c.getNextBlock() == this && (this.squareTopLeftCorner_ = !0) : c && (this.startHat_ = this.squareTopLeftCorner_ = !0, this.height += Blockly.BlockSvg.START_HAT_HEIGHT, b.rightEdge = Math.max(b.rightEdge, 100));\n      this.getNextBlock() && (this.squareBottomLeftCorner_ = !0);\n    }\n    c = new Blockly.BlockSvg.PathObject();\n    this.renderDrawTop_(c, b.rightEdge);\n    var d = this.renderDrawRight_(c, b, a);\n    this.renderDrawBottom_(c, d);\n    this.renderDrawLeft_(c);\n    this.setPaths_(c);\n  };\n\n  Blockly.BlockSvg.prototype.setPaths_ = function (a) {\n    var b = a.steps.join(\" \") + \"\\n\" + a.inlineSteps.join(\" \");\n    this.svgPath_.setAttribute(\"d\", b);\n    this.svgPathDark_.setAttribute(\"d\", b);\n    b = a.highlightSteps.join(\" \") + \"\\n\" + a.highlightInlineSteps.join(\" \");\n    this.svgPathLight_.setAttribute(\"d\", b);\n    this.RTL && (this.svgPath_.setAttribute(\"transform\", \"scale(-1 1)\"), this.svgPathLight_.setAttribute(\"transform\", \"scale(-1 1)\"), this.svgPathDark_.setAttribute(\"transform\", \"translate(1,1) scale(-1 1)\"));\n  };\n\n  Blockly.BlockSvg.prototype.renderMoveConnections_ = function () {\n    var a = this.getRelativeToSurfaceXY();\n    this.previousConnection && this.previousConnection.moveToOffset(a);\n    this.outputConnection && this.outputConnection.moveToOffset(a);\n\n    for (var b = 0; b < this.inputList.length; b++) {\n      var c = this.inputList[b].connection;\n      c && (c.moveToOffset(a), c.isConnected() && c.tighten_());\n    }\n\n    this.nextConnection && (this.nextConnection.moveToOffset(a), this.nextConnection.isConnected() && this.nextConnection.tighten_());\n  };\n\n  Blockly.BlockSvg.prototype.renderDrawTop_ = function (a, b) {\n    var c = a.steps,\n        d = a.highlightSteps;\n    this.squareTopLeftCorner_ ? (c.push(\"m 0,0\"), d.push(\"m 0.5,0.5\"), this.startHat_ && (c.push(Blockly.BlockSvg.START_HAT_PATH), d.push(this.RTL ? Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL : Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))) : (c.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START), d.push(this.RTL ? Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL : Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR), c.push(Blockly.BlockSvg.TOP_LEFT_CORNER), d.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT));\n    this.previousConnection && (c.push(\"H\", Blockly.BlockSvg.NOTCH_WIDTH - 15), d.push(\"H\", Blockly.BlockSvg.NOTCH_WIDTH - 15), c.push(Blockly.BlockSvg.NOTCH_PATH_LEFT), d.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT), this.previousConnection.setOffsetInBlock(this.RTL ? -Blockly.BlockSvg.NOTCH_WIDTH : Blockly.BlockSvg.NOTCH_WIDTH, 0));\n    c.push(\"H\", b);\n    d.push(\"H\", b - .5);\n    this.width = b;\n  };\n\n  Blockly.BlockSvg.prototype.renderDrawRight_ = function (a, b, c) {\n    for (var d = {\n      x: 0,\n      y: 0\n    }, e = {\n      x: 0,\n      y: 0\n    }, f = 0, g; g = b[f]; f++) d.x = Blockly.BlockSvg.SEP_SPACE_X, 0 == f && (d.x += this.RTL ? -c : c), a.highlightSteps.push(\"M\", b.rightEdge - .5 + \",\" + (d.y + .5)), this.isCollapsed() ? this.renderJaggedEdge_(a, g, d) : g.type == Blockly.BlockSvg.INLINE ? this.renderInlineRow_(a, g, d, e, b.rightEdge) : g.type == Blockly.INPUT_VALUE ? this.renderExternalValueInput_(a, g, d, e, b.rightEdge) : g.type == Blockly.DUMMY_INPUT ? this.renderDummyInput_(a, g, d, b.rightEdge, b.hasValue) : g.type == Blockly.NEXT_STATEMENT && this.renderStatementInput_(a, g, d, e, b, f), d.y += g.height;\n\n    b.length || (d.y = Blockly.BlockSvg.MIN_BLOCK_Y, a.steps.push(\"V\", d.y), this.RTL && a.highlightSteps.push(\"V\", d.y - 1));\n    return d.y;\n  };\n\n  Blockly.BlockSvg.prototype.renderDrawBottom_ = function (a, b) {\n    var c = a.steps,\n        d = a.highlightSteps;\n    this.height += b + 1;\n    this.nextConnection && (c.push(\"H\", Blockly.BlockSvg.NOTCH_WIDTH + (this.RTL ? .5 : -.5) + \" \" + Blockly.BlockSvg.NOTCH_PATH_RIGHT), this.nextConnection.setOffsetInBlock(this.RTL ? -Blockly.BlockSvg.NOTCH_WIDTH : Blockly.BlockSvg.NOTCH_WIDTH, b + 1), this.height += 4);\n    this.squareBottomLeftCorner_ ? (c.push(\"H 0\"), this.RTL || d.push(\"M\", \"0.5,\" + (b - .5))) : (c.push(\"H\", Blockly.BlockSvg.CORNER_RADIUS), c.push(\"a\", Blockly.BlockSvg.CORNER_RADIUS + \",\" + Blockly.BlockSvg.CORNER_RADIUS + \" 0 0,1 -\" + Blockly.BlockSvg.CORNER_RADIUS + \",-\" + Blockly.BlockSvg.CORNER_RADIUS), this.RTL || (d.push(\"M\", Blockly.BlockSvg.DISTANCE_45_INSIDE + \",\" + (b - Blockly.BlockSvg.DISTANCE_45_INSIDE)), d.push(\"A\", Blockly.BlockSvg.CORNER_RADIUS - .5 + \",\" + (Blockly.BlockSvg.CORNER_RADIUS - .5) + \" 0 0,1 0.5,\" + (b - Blockly.BlockSvg.CORNER_RADIUS))));\n  };\n\n  Blockly.BlockSvg.prototype.renderDrawLeft_ = function (a) {\n    var b = a.steps;\n    a = a.highlightSteps;\n    this.outputConnection ? (this.outputConnection.setOffsetInBlock(0, 0), b.push(\"V\", Blockly.BlockSvg.TAB_HEIGHT), b.push(\"c 0,-10 -\" + Blockly.BlockSvg.TAB_WIDTH + \",8 -\" + Blockly.BlockSvg.TAB_WIDTH + \",-7.5 s \" + Blockly.BlockSvg.TAB_WIDTH + \",2.5 \" + Blockly.BlockSvg.TAB_WIDTH + \",-7.5\"), this.RTL ? (a.push(\"M\", -.25 * Blockly.BlockSvg.TAB_WIDTH + \",8.4\"), a.push(\"l\", -.45 * Blockly.BlockSvg.TAB_WIDTH + \",-2.1\")) : (a.push(\"V\", Blockly.BlockSvg.TAB_HEIGHT - 1.5), a.push(\"m\", -.92 * Blockly.BlockSvg.TAB_WIDTH + \",-0.5 q \" + -.19 * Blockly.BlockSvg.TAB_WIDTH + \",-5.5 0,-11\"), a.push(\"m\", .92 * Blockly.BlockSvg.TAB_WIDTH + \",1 V 0.5 H 1\")), this.width += Blockly.BlockSvg.TAB_WIDTH) : this.RTL || (this.squareTopLeftCorner_ ? a.push(\"V\", .5) : a.push(\"V\", Blockly.BlockSvg.CORNER_RADIUS));\n    b.push(\"z\");\n  };\n\n  Blockly.BlockSvg.prototype.renderJaggedEdge_ = function (a, b, c) {\n    var d = a.steps;\n    a = a.highlightSteps;\n    this.renderFields_(b[0].fieldRow, c.x, c.y);\n    d.push(Blockly.BlockSvg.JAGGED_TEETH);\n    a.push(\"h 8\");\n    b = b.height - Blockly.BlockSvg.JAGGED_TEETH_HEIGHT;\n    d.push(\"v\", b);\n    this.RTL && (a.push(\"v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5\"), a.push(\"v\", b - .7));\n    this.width += Blockly.BlockSvg.JAGGED_TEETH_WIDTH;\n  };\n\n  Blockly.BlockSvg.prototype.renderInlineRow_ = function (a, b, c, d, e) {\n    var f = a.inlineSteps,\n        g = a.highlightInlineSteps,\n        h = a.steps;\n    a = a.highlightSteps;\n\n    for (var k = 0, l; l = b[k]; k++) {\n      var n = c.x,\n          m = c.y;\n      b.thicker && (m += Blockly.BlockSvg.INLINE_PADDING_Y);\n      c.x = this.renderFields_(l.fieldRow, n, m);\n      l.type != Blockly.DUMMY_INPUT && (c.x += l.renderWidth + Blockly.BlockSvg.SEP_SPACE_X);\n      l.type == Blockly.INPUT_VALUE && (f.push(\"M\", c.x - Blockly.BlockSvg.SEP_SPACE_X + \",\" + (c.y + Blockly.BlockSvg.INLINE_PADDING_Y)), f.push(\"h\", Blockly.BlockSvg.TAB_WIDTH - 2 - l.renderWidth), f.push(Blockly.BlockSvg.TAB_PATH_DOWN), f.push(\"v\", l.renderHeight + 1 - Blockly.BlockSvg.TAB_HEIGHT), f.push(\"h\", l.renderWidth + 2 - Blockly.BlockSvg.TAB_WIDTH), f.push(\"z\"), this.RTL ? (g.push(\"M\", c.x - Blockly.BlockSvg.SEP_SPACE_X - 2.5 + Blockly.BlockSvg.TAB_WIDTH - l.renderWidth + \",\" + (c.y + Blockly.BlockSvg.INLINE_PADDING_Y + .5)), g.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL), g.push(\"v\", l.renderHeight - Blockly.BlockSvg.TAB_HEIGHT + 2.5), g.push(\"h\", l.renderWidth - Blockly.BlockSvg.TAB_WIDTH + 2)) : (g.push(\"M\", c.x - Blockly.BlockSvg.SEP_SPACE_X + .5 + \",\" + (c.y + Blockly.BlockSvg.INLINE_PADDING_Y + .5)), g.push(\"v\", l.renderHeight + 1), g.push(\"h\", Blockly.BlockSvg.TAB_WIDTH - 2 - l.renderWidth), g.push(\"M\", c.x - l.renderWidth - Blockly.BlockSvg.SEP_SPACE_X + .9 + \",\" + (c.y + Blockly.BlockSvg.INLINE_PADDING_Y + Blockly.BlockSvg.TAB_HEIGHT - .7)), g.push(\"l\", .46 * Blockly.BlockSvg.TAB_WIDTH + \",-2.1\")), d.x = this.RTL ? -c.x - Blockly.BlockSvg.TAB_WIDTH + Blockly.BlockSvg.SEP_SPACE_X + l.renderWidth + 1 : c.x + Blockly.BlockSvg.TAB_WIDTH - Blockly.BlockSvg.SEP_SPACE_X - l.renderWidth - 1, d.y = c.y + Blockly.BlockSvg.INLINE_PADDING_Y + 1, l.connection.setOffsetInBlock(d.x, d.y));\n    }\n\n    c.x = Math.max(c.x, e);\n    this.width = Math.max(this.width, c.x);\n    h.push(\"H\", c.x);\n    a.push(\"H\", c.x - .5);\n    h.push(\"v\", b.height);\n    this.RTL && a.push(\"v\", b.height - 1);\n  };\n\n  Blockly.BlockSvg.prototype.renderExternalValueInput_ = function (a, b, c, d, e) {\n    var f = a.steps;\n    a = a.highlightSteps;\n    var g = b[0],\n        h = c.x,\n        k = c.y;\n\n    if (g.align != Blockly.ALIGN_LEFT) {\n      var l = e - g.fieldWidth - Blockly.BlockSvg.TAB_WIDTH - 2 * Blockly.BlockSvg.SEP_SPACE_X;\n      g.align == Blockly.ALIGN_RIGHT ? h += l : g.align == Blockly.ALIGN_CENTRE && (h += l / 2);\n    }\n\n    this.renderFields_(g.fieldRow, h, k);\n    f.push(Blockly.BlockSvg.TAB_PATH_DOWN);\n    b = b.height - Blockly.BlockSvg.TAB_HEIGHT;\n    f.push(\"v\", b);\n    this.RTL ? (a.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL), a.push(\"v\", b + .5)) : (a.push(\"M\", e - 5 + \",\" + (c.y + Blockly.BlockSvg.TAB_HEIGHT - .7)), a.push(\"l\", .46 * Blockly.BlockSvg.TAB_WIDTH + \",-2.1\"));\n    d.x = this.RTL ? -e - 1 : e + 1;\n    g.connection.setOffsetInBlock(d.x, c.y);\n    g.connection.isConnected() && (this.width = Math.max(this.width, e + g.connection.targetBlock().getHeightWidth().width - Blockly.BlockSvg.TAB_WIDTH + 1));\n  };\n\n  Blockly.BlockSvg.prototype.renderDummyInput_ = function (a, b, c, d, e) {\n    var f = a.steps;\n    a = a.highlightSteps;\n    var g = b[0],\n        h = c.x;\n    c = c.y;\n    g.align != Blockly.ALIGN_LEFT && (d = d - g.fieldWidth - 2 * Blockly.BlockSvg.SEP_SPACE_X, e && (d -= Blockly.BlockSvg.TAB_WIDTH), g.align == Blockly.ALIGN_RIGHT ? h += d : g.align == Blockly.ALIGN_CENTRE && (h += d / 2));\n    this.renderFields_(g.fieldRow, h, c);\n    f.push(\"v\", b.height);\n    this.RTL && a.push(\"v\", b.height - 1);\n  };\n\n  Blockly.BlockSvg.prototype.renderStatementInput_ = function (a, b, c, d, e, f) {\n    var g = a.steps;\n    a = a.highlightSteps;\n    var h = b[0];\n    0 == f && (g.push(\"v\", Blockly.BlockSvg.SEP_SPACE_Y), this.RTL && a.push(\"v\", Blockly.BlockSvg.SEP_SPACE_Y - 1), c.y += Blockly.BlockSvg.SEP_SPACE_Y);\n    var k = c.x,\n        l = c.y;\n\n    if (h.align != Blockly.ALIGN_LEFT) {\n      var n = e.statementEdge - h.fieldWidth - 2 * Blockly.BlockSvg.SEP_SPACE_X;\n      h.align == Blockly.ALIGN_RIGHT ? k += n : h.align == Blockly.ALIGN_CENTRE && (k += n / 2);\n    }\n\n    this.renderFields_(h.fieldRow, k, l);\n    c.x = e.statementEdge + Blockly.BlockSvg.NOTCH_WIDTH;\n    g.push(\"H\", c.x);\n    g.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER);\n    g.push(\"v\", b.height - 2 * Blockly.BlockSvg.CORNER_RADIUS);\n    g.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER);\n    g.push(\"H\", e.rightEdge);\n    this.RTL ? (a.push(\"M\", c.x - Blockly.BlockSvg.NOTCH_WIDTH + Blockly.BlockSvg.DISTANCE_45_OUTSIDE + \",\" + (c.y + Blockly.BlockSvg.DISTANCE_45_OUTSIDE)), a.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL), a.push(\"v\", b.height - 2 * Blockly.BlockSvg.CORNER_RADIUS), a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)) : (a.push(\"M\", c.x - Blockly.BlockSvg.NOTCH_WIDTH + Blockly.BlockSvg.DISTANCE_45_OUTSIDE + \",\" + (c.y + b.height - Blockly.BlockSvg.DISTANCE_45_OUTSIDE)), a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR));\n    a.push(\"H\", e.rightEdge - .5);\n    d.x = this.RTL ? -c.x : c.x + 1;\n    h.connection.setOffsetInBlock(d.x, c.y + 1);\n    h.connection.isConnected() && (this.width = Math.max(this.width, e.statementEdge + h.connection.targetBlock().getHeightWidth().width));\n    if (f == e.length - 1 || e[f + 1].type == Blockly.NEXT_STATEMENT) g.push(\"v\", Blockly.BlockSvg.SEP_SPACE_Y), this.RTL && a.push(\"v\", Blockly.BlockSvg.SEP_SPACE_Y - 1), c.y += Blockly.BlockSvg.SEP_SPACE_Y;\n  };\n\n  Blockly.BlockSvg.prototype.positionNewBlock = function (a, b, c) {\n    b.type != Blockly.NEXT_STATEMENT && b.type != Blockly.INPUT_VALUE || a.moveBy(c.x_ - b.x_, c.y_ - b.y_);\n  };\n\n  Blockly.BlockSvg.prototype.highlightForReplacement = function (a) {\n    a ? Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyReplaceable\") : Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyReplaceable\");\n  };\n\n  Blockly.DropDownDiv = function () {};\n\n  Blockly.DropDownDiv.DIV_ = null;\n  Blockly.DropDownDiv.boundsElement_ = null;\n  Blockly.DropDownDiv.owner_ = null;\n  Blockly.DropDownDiv.positionToField_ = null;\n  Blockly.DropDownDiv.ARROW_SIZE = 16;\n  Blockly.DropDownDiv.BORDER_SIZE = 1;\n  Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING = 12;\n  Blockly.DropDownDiv.PADDING_Y = 16;\n  Blockly.DropDownDiv.ANIMATION_TIME = .25;\n  Blockly.DropDownDiv.animateOutTimer_ = null;\n  Blockly.DropDownDiv.onHide_ = 0;\n\n  Blockly.DropDownDiv.createDom = function () {\n    if (!Blockly.DropDownDiv.DIV_) {\n      var a = document.createElement(\"div\");\n      a.className = \"blocklyDropDownDiv\";\n      document.body.appendChild(a);\n      Blockly.DropDownDiv.DIV_ = a;\n      var b = document.createElement(\"div\");\n      b.className = \"blocklyDropDownContent\";\n      a.appendChild(b);\n      Blockly.DropDownDiv.content_ = b;\n      b = document.createElement(\"div\");\n      b.className = \"blocklyDropDownArrow\";\n      a.appendChild(b);\n      Blockly.DropDownDiv.arrow_ = b;\n      Blockly.DropDownDiv.DIV_.style.opacity = 0;\n      Blockly.DropDownDiv.DIV_.style.transition = \"transform \" + Blockly.DropDownDiv.ANIMATION_TIME + \"s, opacity \" + Blockly.DropDownDiv.ANIMATION_TIME + \"s\";\n    }\n  };\n\n  Blockly.DropDownDiv.setBoundsElement = function (a) {\n    Blockly.DropDownDiv.boundsElement_ = a;\n  };\n\n  Blockly.DropDownDiv.getContentDiv = function () {\n    return Blockly.DropDownDiv.content_;\n  };\n\n  Blockly.DropDownDiv.clearContent = function () {\n    Blockly.DropDownDiv.content_.innerHTML = \"\";\n    Blockly.DropDownDiv.content_.style.width = \"\";\n  };\n\n  Blockly.DropDownDiv.setColour = function (a, b) {\n    Blockly.DropDownDiv.DIV_.style.backgroundColor = a;\n    Blockly.DropDownDiv.DIV_.style.borderColor = b;\n  };\n\n  Blockly.DropDownDiv.setCategory = function (a) {\n    Blockly.DropDownDiv.DIV_.setAttribute(\"data-category\", a);\n  };\n\n  Blockly.DropDownDiv.showPositionedByBlock = function (a, b, c, d) {\n    var e = b.workspace.scale,\n        f = b.width,\n        g = b.height;\n    f *= e;\n    g *= e;\n    e = b.getSvgRoot().getBoundingClientRect();\n    f = e.left + f / 2;\n    g = e.top + g;\n    e = e.top;\n    d && (e += d);\n    Blockly.DropDownDiv.setBoundsElement(b.workspace.getParentSvg().parentNode);\n    return Blockly.DropDownDiv.show(a, f, g, f, e, c);\n  };\n\n  Blockly.DropDownDiv.showPositionedByField = function (a, b, c) {\n    var d = a.fieldGroup_.getBoundingClientRect(),\n        e = d.left + d.width / 2,\n        f = d.bottom;\n    d = d.top;\n    c && (d += c);\n    Blockly.DropDownDiv.positionToField_ = !0;\n    Blockly.DropDownDiv.setBoundsElement(a.getSourceBlock().workspace.getParentSvg().parentNode);\n    return Blockly.DropDownDiv.show(a, e, f, e, d, b);\n  };\n\n  Blockly.DropDownDiv.show = function (a, b, c, d, e, f) {\n    Blockly.DropDownDiv.owner_ = a;\n    Blockly.DropDownDiv.onHide_ = f;\n    a = Blockly.DropDownDiv.getPositionMetrics(b, c, d, e);\n    Blockly.DropDownDiv.arrow_.style.transform = \"translate(\" + a.arrowX + \"px,\" + a.arrowY + \"px) rotate(45deg)\";\n    Blockly.DropDownDiv.arrow_.setAttribute(\"class\", a.arrowAtTop ? \"blocklyDropDownArrow arrowTop\" : \"blocklyDropDownArrow arrowBottom\");\n    Blockly.DropDownDiv.arrow_.style.display = a.arrowVisible ? \"\" : \"none\";\n    Blockly.DropDownDiv.positionInternal_(a.initialX, a.initialY, a.finalX, a.finalY);\n    return a.arrowAtTop;\n  };\n\n  Blockly.DropDownDiv.getBoundsInfo_ = function () {\n    var a = Blockly.DropDownDiv.boundsElement_.getBoundingClientRect(),\n        b = goog.style.getSize(Blockly.DropDownDiv.boundsElement_);\n    return {\n      left: a.left,\n      right: a.left + b.width,\n      top: a.top,\n      bottom: a.top + b.height,\n      width: b.width,\n      height: b.height\n    };\n  };\n\n  Blockly.DropDownDiv.getPositionMetrics = function (a, b, c, d) {\n    var e = Blockly.DropDownDiv.getBoundsInfo_(),\n        f = goog.style.getSize(Blockly.DropDownDiv.DIV_);\n    if (b + f.height > e.bottom) {\n      if (d - f.height < e.top) {\n        c = 0;\n        var g = !1;\n        var h = !0;\n      } else a = c, c = d - f.height - Blockly.DropDownDiv.PADDING_Y, g = !0;\n    } else c = b + Blockly.DropDownDiv.PADDING_Y, g = !1;\n    var k = a;\n    a -= f.width / 2;\n    a = Blockly.utils.math.clamp(e.left, a, e.right - f.width);\n    k -= Blockly.DropDownDiv.ARROW_SIZE / 2;\n    k = Blockly.utils.math.clamp(e.left, k, e.right);\n    e = Blockly.utils.math.clamp(Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING, k - a, f.width - Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING - Blockly.DropDownDiv.ARROW_SIZE);\n    k = g ? f.height - Blockly.DropDownDiv.BORDER_SIZE : 0;\n    k -= Blockly.DropDownDiv.ARROW_SIZE / 2 + Blockly.DropDownDiv.BORDER_SIZE;\n    return {\n      initialX: a,\n      initialY: g ? d - f.height : b,\n      finalX: a,\n      finalY: c,\n      arrowX: e,\n      arrowY: k,\n      arrowAtTop: !g,\n      arrowVisible: !h\n    };\n  };\n\n  Blockly.DropDownDiv.isVisible = function () {\n    return !!Blockly.DropDownDiv.owner_;\n  };\n\n  Blockly.DropDownDiv.hideIfOwner = function (a) {\n    return Blockly.DropDownDiv.owner_ === a ? (Blockly.DropDownDiv.hide(), !0) : !1;\n  };\n\n  Blockly.DropDownDiv.hide = function () {\n    var a = Blockly.DropDownDiv.DIV_;\n    a.style.transform = \"translate(0px, 0px)\";\n    a.style.opacity = 0;\n    Blockly.DropDownDiv.animateOutTimer_ = setTimeout(function () {\n      Blockly.DropDownDiv.hideWithoutAnimation();\n    }, 1E3 * Blockly.DropDownDiv.ANIMATION_TIME);\n    Blockly.DropDownDiv.onHide_ && (Blockly.DropDownDiv.onHide_(), Blockly.DropDownDiv.onHide_ = null);\n  };\n\n  Blockly.DropDownDiv.hideWithoutAnimation = function () {\n    if (Blockly.DropDownDiv.isVisible()) {\n      Blockly.DropDownDiv.animateOutTimer_ && clearTimeout(Blockly.DropDownDiv.animateOutTimer_);\n      var a = Blockly.DropDownDiv.DIV_;\n      a.style.transform = \"\";\n      a.style.left = \"\";\n      a.style.top = \"\";\n      a.style.opacity = 0;\n      a.style.display = \"none\";\n      Blockly.DropDownDiv.clearContent();\n      Blockly.DropDownDiv.owner_ = null;\n      Blockly.DropDownDiv.onHide_ && (Blockly.DropDownDiv.onHide_(), Blockly.DropDownDiv.onHide_ = null);\n    }\n  };\n\n  Blockly.DropDownDiv.positionInternal_ = function (a, b, c, d) {\n    a = Math.floor(a);\n    b = Math.floor(b);\n    c = Math.floor(c);\n    d = Math.floor(d);\n    var e = Blockly.DropDownDiv.DIV_;\n    e.style.left = a + \"px\";\n    e.style.top = b + \"px\";\n    e.style.display = \"block\";\n    e.style.opacity = 1;\n    e.style.transform = \"translate(\" + (c - a) + \"px,\" + (d - b) + \"px)\";\n  };\n\n  Blockly.DropDownDiv.repositionForWindowResize = function () {\n    if (Blockly.DropDownDiv.owner_) {\n      var a = Blockly.DropDownDiv.owner_.getSourceBlock(),\n          b = a.workspace.scale,\n          c = Blockly.DropDownDiv.positionToField_ ? Blockly.DropDownDiv.owner_.size_.width : a.width,\n          d = Blockly.DropDownDiv.positionToField_ ? Blockly.DropDownDiv.owner_.size_.height : a.height;\n      c *= b;\n      d *= b;\n      a = Blockly.DropDownDiv.positionToField_ ? Blockly.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect() : a.getSvgRoot().getBoundingClientRect();\n      c = a.left + c / 2;\n      d = Blockly.DropDownDiv.getPositionMetrics(c, a.top + d, c, a.top);\n      Blockly.DropDownDiv.positionInternal_(d.initialX, d.initialY, d.finalX, d.finalY);\n    } else Blockly.DropDownDiv.hide();\n  };\n\n  Blockly.FieldTextInput = function (a, b) {\n    a = this.doClassValidation_(a);\n    null === a && (a = \"\");\n    Blockly.FieldTextInput.superClass_.constructor.call(this, a, b);\n  };\n\n  goog.inherits(Blockly.FieldTextInput, Blockly.Field);\n\n  Blockly.FieldTextInput.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    b = new Blockly.FieldTextInput(b);\n    \"boolean\" === typeof a.spellcheck && b.setSpellcheck(a.spellcheck);\n    return b;\n  };\n\n  Blockly.FieldTextInput.prototype.SERIALIZABLE = !0;\n  Blockly.FieldTextInput.FONTSIZE = 11;\n  Blockly.FieldTextInput.prototype.CURSOR = \"text\";\n  Blockly.FieldTextInput.prototype.spellcheck_ = !0;\n\n  Blockly.FieldTextInput.prototype.doClassValidation_ = function (a) {\n    return null === a || void 0 === a ? null : String(a);\n  };\n\n  Blockly.FieldTextInput.prototype.doValueInvalid_ = function (a) {\n    this.isBeingEdited_ && (this.isTextValid_ = !1, a = this.value_, this.value_ = this.htmlInput_.untypedDefaultValue_, this.sourceBlock_ && Blockly.Events.isEnabled() && Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_, \"field\", this.name, a, this.value_)));\n  };\n\n  Blockly.FieldTextInput.prototype.doValueUpdate_ = function (a) {\n    this.isTextValid_ = !0;\n    this.value_ = a;\n    this.isBeingEdited_ || (this.text_ = String(a), this.isDirty_ = !0);\n  };\n\n  Blockly.FieldTextInput.prototype.render_ = function () {\n    Blockly.FieldTextInput.superClass_.render_.call(this);\n    this.isBeingEdited_ && (this.resizeEditor_(), this.isTextValid_ ? Blockly.utils.dom.removeClass(this.htmlInput_, \"blocklyInvalidInput\") : Blockly.utils.dom.addClass(this.htmlInput_, \"blocklyInvalidInput\"));\n  };\n\n  Blockly.FieldTextInput.prototype.setSpellcheck = function (a) {\n    this.spellcheck_ = a;\n  };\n\n  Blockly.FieldTextInput.prototype.showEditor_ = function (a) {\n    this.workspace_ = this.sourceBlock_.workspace;\n    a = a || !1;\n    !a && (Blockly.utils.userAgent.MOBILE || Blockly.utils.userAgent.ANDROID || Blockly.utils.userAgent.IPAD) ? this.showPromptEditor_() : this.showInlineEditor_(a);\n  };\n\n  Blockly.FieldTextInput.prototype.showPromptEditor_ = function () {\n    var a = this;\n    Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE, this.text_, function (b) {\n      a.setValue(b);\n    });\n  };\n\n  Blockly.FieldTextInput.prototype.showInlineEditor_ = function (a) {\n    this.isBeingEdited_ = !0;\n    Blockly.WidgetDiv.show(this, this.sourceBlock_.RTL, this.widgetDispose_.bind(this));\n    this.htmlInput_ = this.widgetCreate_();\n    a || (this.htmlInput_.focus(), this.htmlInput_.select());\n  };\n\n  Blockly.FieldTextInput.prototype.widgetCreate_ = function () {\n    var a = Blockly.WidgetDiv.DIV,\n        b = document.createElement(\"input\");\n    b.className = \"blocklyHtmlInput\";\n    b.setAttribute(\"spellcheck\", this.spellcheck_);\n    var c = Blockly.FieldTextInput.FONTSIZE * this.workspace_.scale + \"pt\";\n    a.style.fontSize = c;\n    b.style.fontSize = c;\n    a.appendChild(b);\n    b.value = b.defaultValue = this.value_;\n    b.untypedDefaultValue_ = this.value_;\n    b.oldValue_ = null;\n    this.resizeEditor_();\n    this.bindInputEvents_(b);\n    return b;\n  };\n\n  Blockly.FieldTextInput.prototype.widgetDispose_ = function () {\n    this.isBeingEdited_ = !1;\n    this.value_ !== this.text_ && (this.text_ = String(this.value_), this.isTextValid_ = !0, this.forceRerender());\n    if (this.onFinishEditing_) this.onFinishEditing_(this.value_);\n    this.unbindInputEvents_();\n    var a = Blockly.WidgetDiv.DIV.style;\n    a.width = \"auto\";\n    a.height = \"auto\";\n    a.fontSize = \"\";\n  };\n\n  Blockly.FieldTextInput.prototype.bindInputEvents_ = function (a) {\n    this.onKeyDownWrapper_ = Blockly.bindEventWithChecks_(a, \"keydown\", this, this.onHtmlInputKeyDown_);\n    this.onKeyUpWrapper_ = Blockly.bindEventWithChecks_(a, \"keyup\", this, this.onHtmlInputChange_);\n    this.onKeyPressWrapper_ = Blockly.bindEventWithChecks_(a, \"keypress\", this, this.onHtmlInputChange_);\n    this.onWorkspaceChangeWrapper_ = this.resizeEditor_.bind(this);\n    this.workspace_.addChangeListener(this.onWorkspaceChangeWrapper_);\n  };\n\n  Blockly.FieldTextInput.prototype.unbindInputEvents_ = function () {\n    Blockly.unbindEvent_(this.onKeyDownWrapper_);\n    Blockly.unbindEvent_(this.onKeyUpWrapper_);\n    Blockly.unbindEvent_(this.onKeyPressWrapper_);\n    this.workspace_.removeChangeListener(this.onWorkspaceChangeWrapper_);\n  };\n\n  Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_ = function (a) {\n    13 == a.keyCode ? Blockly.WidgetDiv.hide() : 27 == a.keyCode ? (this.htmlInput_.value = this.htmlInput_.defaultValue, Blockly.WidgetDiv.hide()) : 9 == a.keyCode && (Blockly.WidgetDiv.hide(), this.sourceBlock_.tab(this, !a.shiftKey), a.preventDefault());\n  };\n\n  Blockly.FieldTextInput.prototype.onHtmlInputChange_ = function (a) {\n    a = this.htmlInput_.value;\n    a !== this.htmlInput_.oldValue_ && (this.htmlInput_.oldValue_ = a, Blockly.Events.setGroup(!0), this.setValue(a), this.text_ = this.htmlInput_.value, this.forceRerender(), Blockly.Events.setGroup(!1));\n  };\n\n  Blockly.FieldTextInput.prototype.resizeEditor_ = function () {\n    var a = Blockly.WidgetDiv.DIV,\n        b = this.getScaledBBox_();\n    a.style.width = b.right - b.left + \"px\";\n    a.style.height = b.bottom - b.top + \"px\";\n    b = new Blockly.utils.Coordinate(this.sourceBlock_.RTL ? b.right - a.offsetWidth : b.left, b.top);\n    b.y += 1;\n    Blockly.utils.userAgent.GECKO && Blockly.WidgetDiv.DIV.style.top && (--b.x, --b.y);\n    Blockly.utils.userAgent.WEBKIT && (b.y -= 3);\n    a.style.left = b.x + \"px\";\n    a.style.top = b.y + \"px\";\n  };\n\n  Blockly.FieldTextInput.numberValidator = function (a) {\n    console.warn(\"Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.\");\n    if (null === a) return null;\n    a = String(a);\n    a = a.replace(/O/ig, \"0\");\n    a = a.replace(/,/g, \"\");\n    a = parseFloat(a || 0);\n    return isNaN(a) ? null : String(a);\n  };\n\n  Blockly.FieldTextInput.nonnegativeIntegerValidator = function (a) {\n    (a = Blockly.FieldTextInput.numberValidator(a)) && (a = String(Math.max(0, Math.floor(a))));\n    return a;\n  };\n\n  Blockly.Field.register(\"field_input\", Blockly.FieldTextInput);\n\n  Blockly.FieldAngle = function (a, b) {\n    a = this.doClassValidation_(a);\n    null === a && (a = 0);\n    Blockly.FieldAngle.superClass_.constructor.call(this, a, b);\n  };\n\n  goog.inherits(Blockly.FieldAngle, Blockly.FieldTextInput);\n\n  Blockly.FieldAngle.fromJson = function (a) {\n    return new Blockly.FieldAngle(a.angle);\n  };\n\n  Blockly.FieldAngle.prototype.SERIALIZABLE = !0;\n  Blockly.FieldAngle.ROUND = 15;\n  Blockly.FieldAngle.HALF = 50;\n  Blockly.FieldAngle.CLOCKWISE = !1;\n  Blockly.FieldAngle.OFFSET = 0;\n  Blockly.FieldAngle.WRAP = 360;\n  Blockly.FieldAngle.RADIUS = Blockly.FieldAngle.HALF - 1;\n\n  Blockly.FieldAngle.prototype.initView = function () {\n    Blockly.FieldAngle.superClass_.initView.call(this);\n    this.symbol_ = Blockly.utils.dom.createSvgElement(\"tspan\", {}, null);\n    this.symbol_.appendChild(document.createTextNode(\"\\u00b0\"));\n    this.textElement_.appendChild(this.symbol_);\n  };\n\n  Blockly.FieldAngle.prototype.render_ = function () {\n    Blockly.FieldAngle.superClass_.render_.call(this);\n    this.updateGraph_();\n  };\n\n  Blockly.FieldAngle.prototype.showEditor_ = function () {\n    Blockly.FieldAngle.superClass_.showEditor_.call(this, Blockly.utils.userAgent.MOBILE || Blockly.utils.userAgent.ANDROID || Blockly.utils.userAgent.IPAD);\n    var a = this.dropdownCreate_();\n    Blockly.DropDownDiv.getContentDiv().appendChild(a);\n    a = this.sourceBlock_.getColourBorder();\n    a = a.colourBorder || a.colourLight;\n    Blockly.DropDownDiv.setColour(this.sourceBlock_.getColour(), a);\n    Blockly.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));\n    this.updateGraph_();\n  };\n\n  Blockly.FieldAngle.prototype.dropdownCreate_ = function () {\n    var a = Blockly.utils.dom.createSvgElement(\"svg\", {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      height: 2 * Blockly.FieldAngle.HALF + \"px\",\n      width: 2 * Blockly.FieldAngle.HALF + \"px\"\n    }, null),\n        b = Blockly.utils.dom.createSvgElement(\"circle\", {\n      cx: Blockly.FieldAngle.HALF,\n      cy: Blockly.FieldAngle.HALF,\n      r: Blockly.FieldAngle.RADIUS,\n      \"class\": \"blocklyAngleCircle\"\n    }, a);\n    this.gauge_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyAngleGauge\"\n    }, a);\n    this.line_ = Blockly.utils.dom.createSvgElement(\"line\", {\n      x1: Blockly.FieldAngle.HALF,\n      y1: Blockly.FieldAngle.HALF,\n      \"class\": \"blocklyAngleLine\"\n    }, a);\n\n    for (var c = 0; 360 > c; c += 15) Blockly.utils.dom.createSvgElement(\"line\", {\n      x1: Blockly.FieldAngle.HALF + Blockly.FieldAngle.RADIUS,\n      y1: Blockly.FieldAngle.HALF,\n      x2: Blockly.FieldAngle.HALF + Blockly.FieldAngle.RADIUS - (0 == c % 45 ? 10 : 5),\n      y2: Blockly.FieldAngle.HALF,\n      \"class\": \"blocklyAngleMarks\",\n      transform: \"rotate(\" + c + \",\" + Blockly.FieldAngle.HALF + \",\" + Blockly.FieldAngle.HALF + \")\"\n    }, a);\n\n    this.clickWrapper_ = Blockly.bindEvent_(a, \"click\", this, this.hide_);\n    this.moveWrapper1_ = Blockly.bindEvent_(b, \"mousemove\", this, this.onMouseMove);\n    this.moveWrapper2_ = Blockly.bindEvent_(this.gauge_, \"mousemove\", this, this.onMouseMove);\n    return a;\n  };\n\n  Blockly.FieldAngle.prototype.dropdownDispose_ = function () {\n    Blockly.unbindEvent_(this.clickWrapper_);\n    Blockly.unbindEvent_(this.moveWrapper1_);\n    Blockly.unbindEvent_(this.moveWrapper2_);\n  };\n\n  Blockly.FieldAngle.prototype.hide_ = function () {\n    Blockly.DropDownDiv.hideIfOwner(this);\n    Blockly.WidgetDiv.hide();\n  };\n\n  Blockly.FieldAngle.prototype.onMouseMove = function (a) {\n    var b = this.gauge_.ownerSVGElement.getBoundingClientRect(),\n        c = a.clientX - b.left - Blockly.FieldAngle.HALF;\n    b = a.clientY - b.top - Blockly.FieldAngle.HALF;\n    a = Math.atan(-b / c);\n    isNaN(a) || (a = Blockly.utils.math.toDegrees(a), 0 > c ? a += 180 : 0 < b && (a += 360), a = Blockly.FieldAngle.CLOCKWISE ? Blockly.FieldAngle.OFFSET + 360 - a : 360 - (Blockly.FieldAngle.OFFSET - a), 360 < a && (a -= 360), Blockly.FieldAngle.ROUND && (a = Math.round(a / Blockly.FieldAngle.ROUND) * Blockly.FieldAngle.ROUND), a > Blockly.FieldAngle.WRAP && (a -= 360), c = String(a), c != this.text_ && (this.htmlInput_.value = a, this.setValue(a), this.text_ = c, this.forceRerender()));\n  };\n\n  Blockly.FieldAngle.prototype.updateGraph_ = function () {\n    if (this.gauge_) {\n      var a = Number(this.getText()) + Blockly.FieldAngle.OFFSET,\n          b = Blockly.utils.math.toRadians(a % 360);\n      a = [\"M \", Blockly.FieldAngle.HALF, \",\", Blockly.FieldAngle.HALF];\n      var c = Blockly.FieldAngle.HALF,\n          d = Blockly.FieldAngle.HALF;\n\n      if (!isNaN(b)) {\n        var e = Blockly.utils.math.toRadians(Blockly.FieldAngle.OFFSET),\n            f = Math.cos(e) * Blockly.FieldAngle.RADIUS,\n            g = Math.sin(e) * -Blockly.FieldAngle.RADIUS;\n        Blockly.FieldAngle.CLOCKWISE && (b = 2 * e - b);\n        c += Math.cos(b) * Blockly.FieldAngle.RADIUS;\n        d -= Math.sin(b) * Blockly.FieldAngle.RADIUS;\n        b = Math.abs(Math.floor((b - e) / Math.PI) % 2);\n        Blockly.FieldAngle.CLOCKWISE && (b = 1 - b);\n        a.push(\" l \", f, \",\", g, \" A \", Blockly.FieldAngle.RADIUS, \",\", Blockly.FieldAngle.RADIUS, \" 0 \", b, \" \", Number(Blockly.FieldAngle.CLOCKWISE), \" \", c, \",\", d, \" z\");\n      }\n\n      this.gauge_.setAttribute(\"d\", a.join(\"\"));\n      this.line_.setAttribute(\"x2\", c);\n      this.line_.setAttribute(\"y2\", d);\n    }\n  };\n\n  Blockly.FieldAngle.prototype.doClassValidation_ = function (a) {\n    if (isNaN(a)) return null;\n    a = parseFloat(a || 0);\n    a %= 360;\n    0 > a && (a += 360);\n    a > Blockly.FieldAngle.WRAP && (a -= 360);\n    return a;\n  };\n\n  Blockly.Field.register(\"field_angle\", Blockly.FieldAngle);\n\n  Blockly.FieldCheckbox = function (a, b) {\n    a = this.doClassValidation_(a);\n    null === a && (a = \"FALSE\");\n    Blockly.FieldCheckbox.superClass_.constructor.call(this, a, b);\n    this.size_.width = Blockly.FieldCheckbox.WIDTH;\n  };\n\n  goog.inherits(Blockly.FieldCheckbox, Blockly.Field);\n\n  Blockly.FieldCheckbox.fromJson = function (a) {\n    return new Blockly.FieldCheckbox(a.checked);\n  };\n\n  Blockly.FieldCheckbox.WIDTH = 5;\n  Blockly.FieldCheckbox.CHECK_CHAR = \"\\u2713\";\n  Blockly.FieldCheckbox.CHECK_X_OFFSET = -3;\n  Blockly.FieldCheckbox.CHECK_Y_OFFSET = 14;\n  Blockly.FieldCheckbox.prototype.SERIALIZABLE = !0;\n  Blockly.FieldCheckbox.prototype.CURSOR = \"default\";\n  Blockly.FieldCheckbox.prototype.isDirty_ = !1;\n\n  Blockly.FieldCheckbox.prototype.initView = function () {\n    Blockly.FieldCheckbox.superClass_.initView.call(this);\n    this.textElement_.setAttribute(\"x\", Blockly.FieldCheckbox.CHECK_X_OFFSET);\n    this.textElement_.setAttribute(\"y\", Blockly.FieldCheckbox.CHECK_Y_OFFSET);\n    Blockly.utils.dom.addClass(this.textElement_, \"blocklyCheckbox\");\n    var a = document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);\n    this.textElement_.appendChild(a);\n    this.textElement_.style.display = this.value_ ? \"block\" : \"none\";\n  };\n\n  Blockly.FieldCheckbox.prototype.showEditor_ = function () {\n    this.setValue(!this.value_);\n  };\n\n  Blockly.FieldCheckbox.prototype.doClassValidation_ = function (a) {\n    return !0 === a || \"TRUE\" === a ? \"TRUE\" : !1 === a || \"FALSE\" === a ? \"FALSE\" : null;\n  };\n\n  Blockly.FieldCheckbox.prototype.doValueUpdate_ = function (a) {\n    this.value_ = this.convertValueToBool_(a);\n    this.textElement_ && (this.textElement_.style.display = this.value_ ? \"block\" : \"none\");\n  };\n\n  Blockly.FieldCheckbox.prototype.getValue = function () {\n    return this.value_ ? \"TRUE\" : \"FALSE\";\n  };\n\n  Blockly.FieldCheckbox.prototype.getValueBoolean = function () {\n    return this.value_;\n  };\n\n  Blockly.FieldCheckbox.prototype.getText = function () {\n    return String(this.convertValueToBool_(this.value_));\n  };\n\n  Blockly.FieldCheckbox.prototype.convertValueToBool_ = function (a) {\n    return \"string\" == typeof a ? \"TRUE\" == a : !!a;\n  };\n\n  Blockly.Field.register(\"field_checkbox\", Blockly.FieldCheckbox);\n  Blockly.utils.colour = {};\n\n  Blockly.utils.colour.parse = function (a) {\n    a = String(a).toLowerCase().trim();\n    var b = Blockly.utils.colour.names[a];\n    if (b) return b;\n    b = \"#\" == a[0] ? a : \"#\" + a;\n    if (/^#[0-9a-f]{6}$/.test(b)) return b;\n    if (/^#[0-9a-f]{3}$/.test(b)) return [\"#\", b[1], b[1], b[2], b[2], b[3], b[3]].join(\"\");\n    var c = a.match(/^(?:rgb)?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/);\n    return c && (a = Number(c[1]), b = Number(c[2]), c = Number(c[3]), 0 <= a && 256 > a && 0 <= b && 256 > b && 0 <= c && 256 > c) ? Blockly.utils.colour.rgbToHex(a, b, c) : null;\n  };\n\n  Blockly.utils.colour.rgbToHex = function (a, b, c) {\n    b = a << 16 | b << 8 | c;\n    return 16 > a ? \"#\" + (16777216 | b).toString(16).substr(1) : \"#\" + b.toString(16);\n  };\n\n  Blockly.utils.colour.hexToRgb = function (a) {\n    a = parseInt(a.substr(1), 16);\n    return [a >> 16, a >> 8 & 255, a & 255];\n  };\n\n  Blockly.utils.colour.hsvToHex = function (a, b, c) {\n    var d = 0,\n        e = 0,\n        f = 0;\n    if (0 == b) f = e = d = c;else {\n      var g = Math.floor(a / 60),\n          h = a / 60 - g;\n      a = c * (1 - b);\n      var k = c * (1 - b * h);\n      b = c * (1 - b * (1 - h));\n\n      switch (g) {\n        case 1:\n          d = k;\n          e = c;\n          f = a;\n          break;\n\n        case 2:\n          d = a;\n          e = c;\n          f = b;\n          break;\n\n        case 3:\n          d = a;\n          e = k;\n          f = c;\n          break;\n\n        case 4:\n          d = b;\n          e = a;\n          f = c;\n          break;\n\n        case 5:\n          d = c;\n          e = a;\n          f = k;\n          break;\n\n        case 6:\n        case 0:\n          d = c, e = b, f = a;\n      }\n    }\n    return Blockly.utils.colour.rgbToHex(Math.floor(d), Math.floor(e), Math.floor(f));\n  };\n\n  Blockly.utils.colour.blend = function (a, b, c) {\n    a = Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(a));\n    b = Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(b));\n    return Blockly.utils.colour.rgbToHex(Math.round(b[0] + c * (a[0] - b[0])), Math.round(b[1] + c * (a[1] - b[1])), Math.round(b[2] + c * (a[2] - b[2])));\n  };\n\n  Blockly.utils.colour.names = {\n    aqua: \"#00ffff\",\n    black: \"#000000\",\n    blue: \"#0000ff\",\n    fuchsia: \"#ff00ff\",\n    gray: \"#808080\",\n    green: \"#008000\",\n    lime: \"#00ff00\",\n    maroon: \"#800000\",\n    navy: \"#000080\",\n    olive: \"#808000\",\n    purple: \"#800080\",\n    red: \"#ff0000\",\n    silver: \"#c0c0c0\",\n    teal: \"#008080\",\n    white: \"#ffffff\",\n    yellow: \"#ffff00\"\n  };\n\n  Blockly.FieldColour = function (a, b) {\n    a = this.doClassValidation_(a);\n    null === a && (a = Blockly.FieldColour.COLOURS[0]);\n    Blockly.FieldColour.superClass_.constructor.call(this, a, b);\n  };\n\n  goog.inherits(Blockly.FieldColour, Blockly.Field);\n\n  Blockly.FieldColour.fromJson = function (a) {\n    return new Blockly.FieldColour(a.colour);\n  };\n\n  Blockly.FieldColour.DEFAULT_WIDTH = 16;\n  Blockly.FieldColour.DEFAULT_HEIGHT = 12;\n  Blockly.FieldColour.prototype.SERIALIZABLE = !0;\n  Blockly.FieldColour.prototype.CURSOR = \"default\";\n  Blockly.FieldColour.prototype.isDirty_ = !1;\n  Blockly.FieldColour.prototype.colours_ = null;\n  Blockly.FieldColour.prototype.titles_ = null;\n  Blockly.FieldColour.prototype.columns_ = 0;\n  Blockly.FieldColour.prototype.DROPDOWN_BORDER_COLOUR = \"silver\";\n  Blockly.FieldColour.prototype.DROPDOWN_BACKGROUND_COLOUR = \"white\";\n\n  Blockly.FieldColour.prototype.initView = function () {\n    this.size_ = new goog.math.Size(Blockly.FieldColour.DEFAULT_WIDTH, Blockly.FieldColour.DEFAULT_HEIGHT);\n    this.createBorderRect_();\n    this.borderRect_.style.fillOpacity = 1;\n    this.borderRect_.style.fill = this.value_;\n  };\n\n  Blockly.FieldColour.prototype.doClassValidation_ = function (a) {\n    return \"string\" != typeof a ? null : Blockly.utils.colour.parse(a);\n  };\n\n  Blockly.FieldColour.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.borderRect_ && (this.borderRect_.style.fill = a);\n  };\n\n  Blockly.FieldColour.prototype.getText = function () {\n    var a = this.value_;\n    /^#(.)\\1(.)\\2(.)\\3$/.test(a) && (a = \"#\" + a[1] + a[3] + a[5]);\n    return a;\n  };\n\n  Blockly.FieldColour.COLOURS = \"#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033\".split(\" \");\n  Blockly.FieldColour.TITLES = [];\n  Blockly.FieldColour.COLUMNS = 7;\n\n  Blockly.FieldColour.prototype.setColours = function (a, b) {\n    this.colours_ = a;\n    void 0 !== b && (this.titles_ = b);\n    return this;\n  };\n\n  Blockly.FieldColour.prototype.setColumns = function (a) {\n    this.columns_ = a;\n    return this;\n  };\n\n  Blockly.FieldColour.prototype.showEditor_ = function () {\n    var a = this.dropdownCreate_();\n    Blockly.DropDownDiv.getContentDiv().appendChild(a);\n    Blockly.DropDownDiv.setColour(this.DROPDOWN_BACKGROUND_COLOUR, this.DROPDOWN_BORDER_COLOUR);\n    Blockly.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));\n  };\n\n  Blockly.FieldColour.prototype.onClick_ = function (a) {\n    (a = a.target) && !a.label && (a = a.parentNode);\n    a = a && a.label;\n    null !== a && (this.setValue(a), Blockly.DropDownDiv.hideIfOwner(this));\n  };\n\n  Blockly.FieldColour.prototype.dropdownCreate_ = function () {\n    var a = this.columns_ || Blockly.FieldColour.COLUMNS,\n        b = this.colours_ || Blockly.FieldColour.COLOURS,\n        c = this.titles_ || Blockly.FieldColour.TITLES,\n        d = this.getValue(),\n        e = document.createElement(\"table\");\n    e.className = \"blocklyColourTable\";\n\n    for (var f, g = 0; g < b.length; g++) {\n      0 == g % a && (f = document.createElement(\"tr\"), e.appendChild(f));\n      var h = document.createElement(\"td\");\n      f.appendChild(h);\n      var k = document.createElement(\"div\");\n      h.appendChild(k);\n      h.label = b[g];\n      h.title = c[g] || b[g];\n      k.style.backgroundColor = b[g];\n      b[g] == d && (k.className = \"blocklyColourSelected\");\n    }\n\n    this.onUpWrapper_ = Blockly.bindEvent_(e, \"mouseup\", this, this.onClick_);\n    return e;\n  };\n\n  Blockly.FieldColour.prototype.dropdownDispose_ = function () {\n    Blockly.unbindEvent_(this.onUpWrapper_);\n  };\n\n  Blockly.Field.register(\"field_colour\", Blockly.FieldColour);\n\n  Blockly.FieldDropdown = function (a, b) {\n    \"function\" != typeof a && Blockly.FieldDropdown.validateOptions_(a);\n    this.menuGenerator_ = a;\n    this.trimOptions_();\n    var c = this.getOptions()[0];\n    Blockly.FieldDropdown.superClass_.constructor.call(this, c[1], b);\n  };\n\n  goog.inherits(Blockly.FieldDropdown, Blockly.Field);\n\n  Blockly.FieldDropdown.fromJson = function (a) {\n    return new Blockly.FieldDropdown(a.options);\n  };\n\n  Blockly.FieldDropdown.prototype.SERIALIZABLE = !0;\n  Blockly.FieldDropdown.CHECKMARK_OVERHANG = 25;\n  Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH = .45;\n  Blockly.FieldDropdown.IMAGE_Y_OFFSET = 5;\n  Blockly.FieldDropdown.ARROW_CHAR = Blockly.utils.userAgent.ANDROID ? \"\\u25bc\" : \"\\u25be\";\n  Blockly.FieldDropdown.prototype.CURSOR = \"default\";\n  Blockly.FieldDropdown.prototype.imageElement_ = null;\n  Blockly.FieldDropdown.prototype.imageJson_ = null;\n\n  Blockly.FieldDropdown.prototype.initView = function () {\n    Blockly.FieldDropdown.superClass_.initView.call(this);\n    this.imageElement_ = Blockly.utils.dom.createSvgElement(\"image\", {\n      y: Blockly.FieldDropdown.IMAGE_Y_OFFSET\n    }, this.fieldGroup_);\n    this.arrow_ = Blockly.utils.dom.createSvgElement(\"tspan\", {}, this.textElement_);\n    this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL ? Blockly.FieldDropdown.ARROW_CHAR + \" \" : \" \" + Blockly.FieldDropdown.ARROW_CHAR));\n    this.sourceBlock_.RTL ? this.textElement_.insertBefore(this.arrow_, this.textContent_) : this.textElement_.appendChild(this.arrow_);\n  };\n\n  Blockly.FieldDropdown.prototype.showEditor_ = function () {\n    Blockly.WidgetDiv.show(this, this.sourceBlock_.RTL, this.widgetDispose_.bind(this));\n    this.menu_ = this.widgetCreate_();\n    this.menu_.render(Blockly.WidgetDiv.DIV);\n    Blockly.utils.dom.addClass(this.menu_.getElement(), \"blocklyDropdownMenu\");\n    this.positionMenu_(this.menu_);\n    this.menu_.setAllowAutoFocus(!0);\n    this.menu_.getElement().focus();\n  };\n\n  Blockly.FieldDropdown.prototype.widgetCreate_ = function () {\n    var a = new goog.ui.Menu();\n    a.setRightToLeft(this.sourceBlock_.RTL);\n\n    for (var b = this.getOptions(), c = 0; c < b.length; c++) {\n      var d = b[c][0],\n          e = b[c][1];\n\n      if (\"object\" == typeof d) {\n        var f = new Image(d.width, d.height);\n        f.src = d.src;\n        f.alt = d.alt || \"\";\n        d = f;\n      }\n\n      d = new goog.ui.MenuItem(d);\n      d.setRightToLeft(this.sourceBlock_.RTL);\n      d.setValue(e);\n      d.setCheckable(!0);\n      a.addChild(d, !0);\n      d.setChecked(e == this.value_);\n    }\n\n    this.menuActionEventKey_ = goog.events.listen(a, goog.ui.Component.EventType.ACTION, this.handleMenuActionEvent_, !1, this);\n    return a;\n  };\n\n  Blockly.FieldDropdown.prototype.widgetDispose_ = function () {\n    goog.events.unlistenByKey(this.menuActionEventKey_);\n  };\n\n  Blockly.FieldDropdown.prototype.handleMenuActionEvent_ = function (a) {\n    Blockly.WidgetDiv.hideIfOwner(this);\n    this.onItemSelected(this.menu_, a.target);\n  };\n\n  Blockly.FieldDropdown.prototype.positionMenu_ = function (a) {\n    var b = Blockly.utils.getViewportBBox(),\n        c = this.getAnchorDimensions_();\n    a = Blockly.utils.uiMenu.getSize(a);\n    var d = Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH * document.documentElement.clientHeight;\n    a.height > d && (a.height = d);\n    this.sourceBlock_.RTL && Blockly.utils.uiMenu.adjustBBoxesForRTL(b, c, a);\n    Blockly.WidgetDiv.positionWithAnchor(b, c, a, this.sourceBlock_.RTL);\n  };\n\n  Blockly.FieldDropdown.prototype.getAnchorDimensions_ = function () {\n    var a = this.getScaledBBox_();\n    this.sourceBlock_.RTL ? a.right += Blockly.FieldDropdown.CHECKMARK_OVERHANG : a.left -= Blockly.FieldDropdown.CHECKMARK_OVERHANG;\n    return a;\n  };\n\n  Blockly.FieldDropdown.prototype.onItemSelected = function (a, b) {\n    this.setValue(b.getValue());\n  };\n\n  Blockly.FieldDropdown.prototype.trimOptions_ = function () {\n    this.suffixField = this.prefixField = null;\n    var a = this.menuGenerator_;\n\n    if (Array.isArray(a)) {\n      for (var b = !1, c = 0; c < a.length; c++) {\n        var d = a[c][0];\n        \"string\" == typeof d ? a[c][0] = Blockly.utils.replaceMessageReferences(d) : (null != d.alt && (a[c][0].alt = Blockly.utils.replaceMessageReferences(d.alt)), b = !0);\n      }\n\n      if (!(b || 2 > a.length)) {\n        b = [];\n\n        for (c = 0; c < a.length; c++) b.push(a[c][0]);\n\n        c = Blockly.utils.string.shortestStringLength(b);\n        d = Blockly.utils.string.commonWordPrefix(b, c);\n        var e = Blockly.utils.string.commonWordSuffix(b, c);\n        !d && !e || c <= d + e || (d && (this.prefixField = b[0].substring(0, d - 1)), e && (this.suffixField = b[0].substr(1 - e)), this.menuGenerator_ = Blockly.FieldDropdown.applyTrim_(a, d, e));\n      }\n    }\n  };\n\n  Blockly.FieldDropdown.applyTrim_ = function (a, b, c) {\n    for (var d = [], e = 0; e < a.length; e++) {\n      var f = a[e][0],\n          g = a[e][1];\n      f = f.substring(b, f.length - c);\n      d[e] = [f, g];\n    }\n\n    return d;\n  };\n\n  Blockly.FieldDropdown.prototype.isOptionListDynamic = function () {\n    return \"function\" == typeof this.menuGenerator_;\n  };\n\n  Blockly.FieldDropdown.prototype.getOptions = function () {\n    if (this.isOptionListDynamic()) {\n      var a = this.menuGenerator_.call(this);\n      Blockly.FieldDropdown.validateOptions_(a);\n      return a;\n    }\n\n    return this.menuGenerator_;\n  };\n\n  Blockly.FieldDropdown.prototype.doClassValidation_ = function (a) {\n    for (var b = !1, c = this.getOptions(), d = 0, e; e = c[d]; d++) if (e[1] == a) {\n      b = !0;\n      break;\n    }\n\n    return b ? a : (this.sourceBlock_ && console.warn(\"Cannot set the dropdown's value to an unavailable option. Block type: \" + this.sourceBlock_.type + \", Field name: \" + this.name + \", Value: \" + a), null);\n  };\n\n  Blockly.FieldDropdown.prototype.doValueUpdate_ = function (a) {\n    Blockly.FieldDropdown.superClass_.doValueUpdate_.call(this, a);\n    a = this.getOptions();\n\n    for (var b = 0, c; c = a[b]; b++) c[1] == this.value_ && (c = c[0], \"object\" == typeof c ? (this.imageJson_ = c, this.text_ = c.alt) : (this.imageJson_ = null, this.text_ = c));\n  };\n\n  Blockly.FieldDropdown.prototype.updateColour = function () {\n    this.sourceBlock_ && this.arrow_ && (this.sourceBlock_.isShadow() ? this.arrow_.style.fill = this.sourceBlock_.getColourShadow() : this.arrow_.style.fill = this.sourceBlock_.getColour());\n  };\n\n  Blockly.FieldDropdown.prototype.render_ = function () {\n    this.textContent_.nodeValue = \"\";\n    this.imageElement_.style.display = \"none\";\n    this.imageJson_ ? this.renderSelectedImage_() : this.renderSelectedText_();\n    this.borderRect_.setAttribute(\"height\", this.size_.height - 9);\n    this.borderRect_.setAttribute(\"width\", this.size_.width + Blockly.BlockSvg.SEP_SPACE_X);\n  };\n\n  Blockly.FieldDropdown.prototype.renderSelectedImage_ = function () {\n    this.imageElement_.style.display = \"\";\n    this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.imageJson_.src);\n    this.imageElement_.setAttribute(\"height\", this.imageJson_.height);\n    this.imageElement_.setAttribute(\"width\", this.imageJson_.width);\n    var a = Blockly.Field.getCachedWidth(this.arrow_);\n    this.size_.height = Number(this.imageJson_.height) + 19;\n    this.size_.width = Number(this.imageJson_.width) + a;\n    this.sourceBlock_.RTL ? (this.imageElement_.setAttribute(\"x\", a), this.textElement_.setAttribute(\"x\", -1)) : (this.textElement_.setAttribute(\"text-anchor\", \"end\"), this.textElement_.setAttribute(\"x\", this.size_.width + 1));\n  };\n\n  Blockly.FieldDropdown.prototype.renderSelectedText_ = function () {\n    this.textContent_.nodeValue = this.getDisplayText_();\n    this.textElement_.setAttribute(\"text-anchor\", \"start\");\n    this.textElement_.setAttribute(\"x\", 0);\n    this.size_.height = Blockly.BlockSvg.MIN_BLOCK_Y;\n    this.size_.width = Blockly.Field.getCachedWidth(this.textElement_);\n  };\n\n  Blockly.FieldDropdown.validateOptions_ = function (a) {\n    if (!Array.isArray(a)) throw TypeError(\"FieldDropdown options must be an array.\");\n\n    for (var b = !1, c = 0; c < a.length; ++c) {\n      var d = a[c];\n      Array.isArray(d) ? \"string\" != typeof d[1] ? (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option id must be a string. Found \" + d[1] + \" in: \", d)) : \"string\" != typeof d[0] && \"string\" != typeof d[0].src && (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option must have a string label or image description. Found\" + d[0] + \" in: \", d)) : (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option must be an array. Found: \", d));\n    }\n\n    if (b) throw TypeError(\"Found invalid FieldDropdown options.\");\n  };\n\n  Blockly.Field.register(\"field_dropdown\", Blockly.FieldDropdown);\n\n  Blockly.FieldLabelSerializable = function (a, b) {\n    Blockly.FieldLabelSerializable.superClass_.constructor.call(this, a, b);\n  };\n\n  goog.inherits(Blockly.FieldLabelSerializable, Blockly.FieldLabel);\n\n  Blockly.FieldLabelSerializable.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldLabelSerializable(b, a[\"class\"]);\n  };\n\n  Blockly.FieldLabelSerializable.prototype.EDITABLE = !1;\n  Blockly.FieldLabelSerializable.prototype.SERIALIZABLE = !0;\n  Blockly.Field.register(\"field_label_serializable\", Blockly.FieldLabelSerializable);\n\n  Blockly.FieldImage = function (a, b, c, d, e, f) {\n    this.sourceBlock_ = null;\n    if (isNaN(c) || isNaN(b)) throw Error(\"Height and width values of an image field must cast to numbers.\");\n    this.height_ = Number(c);\n    this.width_ = Number(b);\n    if (0 >= this.height_ || 0 >= this.width_) throw Error(\"Height and width values of an image field must be greater than 0.\");\n    this.size_ = new goog.math.Size(this.width_, this.height_ + 2 * Blockly.BlockSvg.INLINE_PADDING_Y);\n    this.flipRtl_ = f;\n    this.text_ = d || \"\";\n    this.setValue(a || \"\");\n    \"function\" == typeof e && (this.clickHandler_ = e);\n  };\n\n  goog.inherits(Blockly.FieldImage, Blockly.Field);\n\n  Blockly.FieldImage.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.src),\n        c = Number(Blockly.utils.replaceMessageReferences(a.width)),\n        d = Number(Blockly.utils.replaceMessageReferences(a.height)),\n        e = Blockly.utils.replaceMessageReferences(a.alt);\n    return new Blockly.FieldImage(b, c, d, e, null, !!a.flipRtl);\n  };\n\n  Blockly.FieldImage.prototype.EDITABLE = !1;\n  Blockly.FieldImage.prototype.isDirty_ = !1;\n\n  Blockly.FieldImage.prototype.initView = function () {\n    this.imageElement_ = Blockly.utils.dom.createSvgElement(\"image\", {\n      height: this.height_ + \"px\",\n      width: this.width_ + \"px\",\n      alt: this.text_\n    }, this.fieldGroup_);\n    this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.value_);\n  };\n\n  Blockly.FieldImage.prototype.doClassValidation_ = function (a) {\n    return \"string\" != typeof a ? null : a;\n  };\n\n  Blockly.FieldImage.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.imageElement_ && this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.value_ || \"\");\n  };\n\n  Blockly.FieldImage.prototype.getFlipRtl = function () {\n    return this.flipRtl_;\n  };\n\n  Blockly.FieldImage.prototype.setText = function (a) {\n    null !== a && (this.text_ = a, this.imageElement_ && this.imageElement_.setAttribute(\"alt\", a || \"\"));\n  };\n\n  Blockly.FieldImage.prototype.showEditor_ = function () {\n    this.clickHandler_ && this.clickHandler_(this);\n  };\n\n  Blockly.Field.register(\"field_image\", Blockly.FieldImage);\n\n  Blockly.FieldNumber = function (a, b, c, d, e) {\n    this.setConstraints(b, c, d);\n    a = this.doClassValidation_(a);\n    null === a && (a = 0);\n    Blockly.FieldNumber.superClass_.constructor.call(this, a, e);\n  };\n\n  goog.inherits(Blockly.FieldNumber, Blockly.FieldTextInput);\n\n  Blockly.FieldNumber.fromJson = function (a) {\n    return new Blockly.FieldNumber(a.value, a.min, a.max, a.precision);\n  };\n\n  Blockly.FieldNumber.prototype.SERIALIZABLE = !0;\n\n  Blockly.FieldNumber.prototype.setConstraints = function (a, b, c) {\n    c = parseFloat(c);\n    this.precision_ = isNaN(c) ? 0 : c;\n    c = this.precision_.toString();\n    var d = c.indexOf(\".\");\n    this.fractionalDigits_ = -1 == d ? -1 : c.length - (d + 1);\n    a = parseFloat(a);\n    this.min_ = isNaN(a) ? -Infinity : a;\n    b = parseFloat(b);\n    this.max_ = isNaN(b) ? Infinity : b;\n    this.setValue(this.getValue());\n  };\n\n  Blockly.FieldNumber.prototype.doClassValidation_ = function (a) {\n    if (null === a || void 0 === a) return null;\n    a = String(a);\n    a = a.replace(/O/ig, \"0\");\n    a = a.replace(/,/g, \"\");\n    a = parseFloat(a || 0);\n    if (isNaN(a)) return null;\n    a = Math.min(Math.max(a, this.min_), this.max_);\n    this.precision_ && isFinite(a) && (a = Math.round(a / this.precision_) * this.precision_);\n    return a = -1 == this.fractionalDigits_ ? a : Number(a.toFixed(this.fractionalDigits_));\n  };\n\n  Blockly.Field.register(\"field_number\", Blockly.FieldNumber);\n\n  Blockly.FieldVariable = function (a, b, c, d) {\n    this.menuGenerator_ = Blockly.FieldVariable.dropdownCreate;\n    this.size_ = new goog.math.Size(0, Blockly.BlockSvg.MIN_BLOCK_Y);\n    this.setValidator(b);\n    this.defaultVariableName = a || \"\";\n    this.setTypes_(c, d);\n    this.value_ = null;\n  };\n\n  goog.inherits(Blockly.FieldVariable, Blockly.FieldDropdown);\n\n  Blockly.FieldVariable.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.variable);\n    return new Blockly.FieldVariable(b, null, a.variableTypes, a.defaultType);\n  };\n\n  Blockly.FieldVariable.prototype.workspace_ = null;\n  Blockly.FieldVariable.prototype.SERIALIZABLE = !0;\n\n  Blockly.FieldVariable.prototype.initModel = function () {\n    if (!this.variable_) {\n      var a = Blockly.Variables.getOrCreateVariablePackage(this.workspace_, null, this.defaultVariableName, this.defaultType_);\n      Blockly.Events.disable();\n      this.setValue(a.getId());\n      Blockly.Events.enable();\n    }\n  };\n\n  Blockly.FieldVariable.prototype.fromXml = function (a) {\n    var b = a.getAttribute(\"id\"),\n        c = a.textContent,\n        d = a.getAttribute(\"variabletype\") || a.getAttribute(\"variableType\") || \"\";\n    b = Blockly.Variables.getOrCreateVariablePackage(this.workspace_, b, c, d);\n    if (null != d && d !== b.type) throw Error(\"Serialized variable type with id '\" + b.getId() + \"' had type \" + b.type + \", and does not match variable field that references it: \" + Blockly.Xml.domToText(a) + \".\");\n    this.setValue(b.getId());\n  };\n\n  Blockly.FieldVariable.prototype.toXml = function (a) {\n    this.initModel();\n    a.id = this.variable_.getId();\n    a.textContent = this.variable_.name;\n    this.variable_.type && a.setAttribute(\"variabletype\", this.variable_.type);\n    return a;\n  };\n\n  Blockly.FieldVariable.prototype.setSourceBlock = function (a) {\n    if (a.isShadow()) throw Error(\"Variable fields are not allowed to exist on shadow blocks.\");\n    Blockly.FieldVariable.superClass_.setSourceBlock.call(this, a);\n    this.workspace_ = a.workspace;\n  };\n\n  Blockly.FieldVariable.prototype.getValue = function () {\n    return this.variable_ ? this.variable_.getId() : null;\n  };\n\n  Blockly.FieldVariable.prototype.getText = function () {\n    return this.variable_ ? this.variable_.name : \"\";\n  };\n\n  Blockly.FieldVariable.prototype.getVariable = function () {\n    return this.variable_;\n  };\n\n  Blockly.FieldVariable.prototype.getValidator = function () {\n    return this.variable_ ? this.validator_ : null;\n  };\n\n  Blockly.FieldVariable.prototype.doClassValidation_ = function (a) {\n    var b = Blockly.Variables.getVariable(this.workspace_, a);\n    if (!b) return console.warn(\"Variable id doesn't point to a real variable! ID was \" + a), null;\n    b = b.type;\n    return this.typeIsAllowed_(b) ? a : (console.warn(\"Variable type doesn't match this field!  Type was \" + b), null);\n  };\n\n  Blockly.FieldVariable.prototype.doValueUpdate_ = function (a) {\n    this.variable_ = Blockly.Variables.getVariable(this.workspace_, a);\n    this.value_ = a;\n    this.text_ = this.variable_.name;\n    this.isDirty_ = !0;\n  };\n\n  Blockly.FieldVariable.prototype.typeIsAllowed_ = function (a) {\n    var b = this.getVariableTypes_();\n    if (!b) return !0;\n\n    for (var c = 0; c < b.length; c++) if (a == b[c]) return !0;\n\n    return !1;\n  };\n\n  Blockly.FieldVariable.prototype.getVariableTypes_ = function () {\n    var a = this.variableTypes;\n    if (null === a && this.workspace_) return this.workspace_.getVariableTypes();\n    a = a || [\"\"];\n    if (0 == a.length) throw a = this.getText(), Error(\"'variableTypes' of field variable \" + a + \" was an empty list\");\n    return a;\n  };\n\n  Blockly.FieldVariable.prototype.setTypes_ = function (a, b) {\n    var c = b || \"\";\n    if (null == a || void 0 == a) var d = null;else if (Array.isArray(a)) {\n      d = a;\n\n      for (var e = !1, f = 0; f < d.length; f++) d[f] == c && (e = !0);\n\n      if (!e) throw Error(\"Invalid default type '\" + c + \"' in the definition of a FieldVariable\");\n    } else throw Error(\"'variableTypes' was not an array in the definition of a FieldVariable\");\n    this.defaultType_ = c;\n    this.variableTypes = d;\n  };\n\n  Blockly.FieldVariable.dropdownCreate = function () {\n    if (!this.variable_) throw Error(\"Tried to call dropdownCreate on a variable field with no variable selected.\");\n    var a = this.getText(),\n        b = [];\n    if (this.workspace_) for (var c = this.getVariableTypes_(), d = 0; d < c.length; d++) {\n      var e = this.workspace_.getVariablesOfType(c[d]);\n      b = b.concat(e);\n    }\n    b.sort(Blockly.VariableModel.compareByName);\n    c = [];\n\n    for (d = 0; d < b.length; d++) c[d] = [b[d].name, b[d].getId()];\n\n    c.push([Blockly.Msg.RENAME_VARIABLE, Blockly.RENAME_VARIABLE_ID]);\n    Blockly.Msg.DELETE_VARIABLE && c.push([Blockly.Msg.DELETE_VARIABLE.replace(\"%1\", a), Blockly.DELETE_VARIABLE_ID]);\n    return c;\n  };\n\n  Blockly.FieldVariable.prototype.onItemSelected = function (a, b) {\n    var c = b.getValue();\n\n    if (this.workspace_) {\n      if (c == Blockly.RENAME_VARIABLE_ID) {\n        Blockly.Variables.renameVariable(this.workspace_, this.variable_);\n        return;\n      }\n\n      if (c == Blockly.DELETE_VARIABLE_ID) {\n        this.workspace_.deleteVariableById(this.variable_.getId());\n        return;\n      }\n    }\n\n    this.setValue(c);\n  };\n\n  Blockly.FieldVariable.prototype.referencesVariables = function () {\n    return !0;\n  };\n\n  Blockly.Field.register(\"field_variable\", Blockly.FieldVariable);\n\n  Blockly.Generator = function (a) {\n    this.name_ = a;\n    this.FUNCTION_NAME_PLACEHOLDER_REGEXP_ = new RegExp(this.FUNCTION_NAME_PLACEHOLDER_, \"g\");\n  };\n\n  Blockly.Generator.NAME_TYPE = \"generated_function\";\n  Blockly.Generator.prototype.INFINITE_LOOP_TRAP = null;\n  Blockly.Generator.prototype.STATEMENT_PREFIX = null;\n  Blockly.Generator.prototype.STATEMENT_SUFFIX = null;\n  Blockly.Generator.prototype.INDENT = \"  \";\n  Blockly.Generator.prototype.COMMENT_WRAP = 60;\n  Blockly.Generator.prototype.ORDER_OVERRIDES = [];\n\n  Blockly.Generator.prototype.workspaceToCode = function (a) {\n    a || (console.warn(\"No workspace specified in workspaceToCode call.  Guessing.\"), a = Blockly.getMainWorkspace());\n    var b = [];\n    this.init(a);\n    a = a.getTopBlocks(!0);\n\n    for (var c = 0, d; d = a[c]; c++) {\n      var e = this.blockToCode(d);\n      Array.isArray(e) && (e = e[0]);\n      e && (d.outputConnection && (e = this.scrubNakedValue(e), this.STATEMENT_PREFIX && !d.suppressPrefixSuffix && (e = this.injectId(this.STATEMENT_PREFIX, d) + e), this.STATEMENT_SUFFIX && !d.suppressPrefixSuffix && (e += this.injectId(this.STATEMENT_SUFFIX, d))), b.push(e));\n    }\n\n    b = b.join(\"\\n\");\n    b = this.finish(b);\n    b = b.replace(/^\\s+\\n/, \"\");\n    b = b.replace(/\\n\\s+$/, \"\\n\");\n    return b = b.replace(/[ \\t]+\\n/g, \"\\n\");\n  };\n\n  Blockly.Generator.prototype.prefixLines = function (a, b) {\n    return b + a.replace(/(?!\\n$)\\n/g, \"\\n\" + b);\n  };\n\n  Blockly.Generator.prototype.allNestedComments = function (a) {\n    var b = [];\n    a = a.getDescendants(!0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c].getCommentText();\n      d && b.push(d);\n    }\n\n    b.length && b.push(\"\");\n    return b.join(\"\\n\");\n  };\n\n  Blockly.Generator.prototype.blockToCode = function (a, b) {\n    if (!a) return \"\";\n    if (!a.isEnabled()) return b ? \"\" : this.blockToCode(a.getNextBlock());\n    var c = this[a.type];\n    if (\"function\" != typeof c) throw Error('Language \"' + this.name_ + '\" does not know how to generate  code for block type \"' + a.type + '\".');\n    c = c.call(a, a);\n\n    if (Array.isArray(c)) {\n      if (!a.outputConnection) throw TypeError(\"Expecting string from statement block: \" + a.type);\n      return [this.scrub_(a, c[0], b), c[1]];\n    }\n\n    if (\"string\" == typeof c) return this.STATEMENT_PREFIX && !a.suppressPrefixSuffix && (c = this.injectId(this.STATEMENT_PREFIX, a) + c), this.STATEMENT_SUFFIX && !a.suppressPrefixSuffix && (c += this.injectId(this.STATEMENT_SUFFIX, a)), this.scrub_(a, c, b);\n    if (null === c) return \"\";\n    throw SyntaxError(\"Invalid code generated: \" + c);\n  };\n\n  Blockly.Generator.prototype.valueToCode = function (a, b, c) {\n    if (isNaN(c)) throw TypeError(\"Expecting valid order from block: \" + a.type);\n    var d = a.getInputTargetBlock(b);\n    if (!d) return \"\";\n    b = this.blockToCode(d);\n    if (\"\" === b) return \"\";\n    if (!Array.isArray(b)) throw TypeError(\"Expecting tuple from value block: \" + d.type);\n    a = b[0];\n    b = b[1];\n    if (isNaN(b)) throw TypeError(\"Expecting valid order from value block: \" + d.type);\n    if (!a) return \"\";\n    d = !1;\n    var e = Math.floor(c),\n        f = Math.floor(b);\n    if (e <= f && (e != f || 0 != e && 99 != e)) for (d = !0, e = 0; e < this.ORDER_OVERRIDES.length; e++) if (this.ORDER_OVERRIDES[e][0] == c && this.ORDER_OVERRIDES[e][1] == b) {\n      d = !1;\n      break;\n    }\n    d && (a = \"(\" + a + \")\");\n    return a;\n  };\n\n  Blockly.Generator.prototype.statementToCode = function (a, b) {\n    var c = a.getInputTargetBlock(b),\n        d = this.blockToCode(c);\n    if (\"string\" != typeof d) throw TypeError(\"Expecting code from statement block: \" + (c && c.type));\n    d && (d = this.prefixLines(d, this.INDENT));\n    return d;\n  };\n\n  Blockly.Generator.prototype.addLoopTrap = function (a, b) {\n    this.INFINITE_LOOP_TRAP && (a = this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP, b), this.INDENT) + a);\n    this.STATEMENT_SUFFIX && !b.suppressPrefixSuffix && (a = this.prefixLines(this.injectId(this.STATEMENT_SUFFIX, b), this.INDENT) + a);\n    this.STATEMENT_PREFIX && !b.suppressPrefixSuffix && (a += this.prefixLines(this.injectId(this.STATEMENT_PREFIX, b), this.INDENT));\n    return a;\n  };\n\n  Blockly.Generator.prototype.injectId = function (a, b) {\n    var c = b.id.replace(/\\$/g, \"$$$$\");\n    return a.replace(/%1/g, \"'\" + c + \"'\");\n  };\n\n  Blockly.Generator.prototype.RESERVED_WORDS_ = \"\";\n\n  Blockly.Generator.prototype.addReservedWords = function (a) {\n    this.RESERVED_WORDS_ += a + \",\";\n  };\n\n  Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_ = \"{leCUI8hutHZI4480Dc}\";\n\n  Blockly.Generator.prototype.provideFunction_ = function (a, b) {\n    if (!this.definitions_[a]) {\n      var c = this.variableDB_.getDistinctName(a, Blockly.Procedures.NAME_TYPE);\n      this.functionNames_[a] = c;\n      c = b.join(\"\\n\").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_, c);\n\n      for (var d; d != c;) d = c, c = c.replace(/^(( {2})*) {2}/gm, \"$1\\x00\");\n\n      c = c.replace(/\\0/g, this.INDENT);\n      this.definitions_[a] = c;\n    }\n\n    return this.functionNames_[a];\n  };\n\n  Blockly.Generator.prototype.init = function (a) {};\n\n  Blockly.Generator.prototype.scrub_ = function (a, b) {\n    return b;\n  };\n\n  Blockly.Generator.prototype.finish = function (a) {\n    return a;\n  };\n\n  Blockly.Generator.prototype.scrubNakedValue = function (a) {\n    return a;\n  };\n\n  Blockly.Names = function (a, b) {\n    this.variablePrefix_ = b || \"\";\n    this.reservedDict_ = Object.create(null);\n    if (a) for (var c = a.split(\",\"), d = 0; d < c.length; d++) this.reservedDict_[c[d]] = !0;\n    this.reset();\n  };\n\n  Blockly.Names.DEVELOPER_VARIABLE_TYPE = \"DEVELOPER_VARIABLE\";\n\n  Blockly.Names.prototype.reset = function () {\n    this.db_ = Object.create(null);\n    this.dbReverse_ = Object.create(null);\n    this.variableMap_ = null;\n  };\n\n  Blockly.Names.prototype.setVariableMap = function (a) {\n    this.variableMap_ = a;\n  };\n\n  Blockly.Names.prototype.getNameForUserVariable_ = function (a) {\n    return this.variableMap_ ? (a = this.variableMap_.getVariableById(a)) ? a.name : null : (console.log(\"Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());\"), null);\n  };\n\n  Blockly.Names.prototype.getName = function (a, b) {\n    if (b == Blockly.Variables.NAME_TYPE) {\n      var c = this.getNameForUserVariable_(a);\n      c && (a = c);\n    }\n\n    c = a.toLowerCase() + \"_\" + b;\n    var d = b == Blockly.Variables.NAME_TYPE || b == Blockly.Names.DEVELOPER_VARIABLE_TYPE ? this.variablePrefix_ : \"\";\n    if (c in this.db_) return d + this.db_[c];\n    var e = this.getDistinctName(a, b);\n    this.db_[c] = e.substr(d.length);\n    return e;\n  };\n\n  Blockly.Names.prototype.getDistinctName = function (a, b) {\n    for (var c = this.safeName_(a), d = \"\"; this.dbReverse_[c + d] || c + d in this.reservedDict_;) d = d ? d + 1 : 2;\n\n    c += d;\n    this.dbReverse_[c] = !0;\n    return (b == Blockly.Variables.NAME_TYPE || b == Blockly.Names.DEVELOPER_VARIABLE_TYPE ? this.variablePrefix_ : \"\") + c;\n  };\n\n  Blockly.Names.prototype.safeName_ = function (a) {\n    a ? (a = encodeURI(a.replace(/ /g, \"_\")).replace(/[^\\w]/g, \"_\"), -1 != \"0123456789\".indexOf(a[0]) && (a = \"my_\" + a)) : a = \"unnamed\";\n    return a;\n  };\n\n  Blockly.Names.equals = function (a, b) {\n    return a.toLowerCase() == b.toLowerCase();\n  };\n\n  Blockly.Procedures = {};\n  Blockly.Procedures.NAME_TYPE = Blockly.PROCEDURE_CATEGORY_NAME;\n\n  Blockly.Procedures.allProcedures = function (a) {\n    a = a.getAllBlocks(!1);\n\n    for (var b = [], c = [], d = 0; d < a.length; d++) if (a[d].getProcedureDef) {\n      var e = a[d].getProcedureDef();\n      e && (e[2] ? b.push(e) : c.push(e));\n    }\n\n    c.sort(Blockly.Procedures.procTupleComparator_);\n    b.sort(Blockly.Procedures.procTupleComparator_);\n    return [c, b];\n  };\n\n  Blockly.Procedures.procTupleComparator_ = function (a, b) {\n    return a[0].toLowerCase().localeCompare(b[0].toLowerCase());\n  };\n\n  Blockly.Procedures.findLegalName = function (a, b) {\n    if (b.isInFlyout) return a;\n\n    for (; !Blockly.Procedures.isLegalName_(a, b.workspace, b);) {\n      var c = a.match(/^(.*?)(\\d+)$/);\n      a = c ? c[1] + (parseInt(c[2], 10) + 1) : a + \"2\";\n    }\n\n    return a;\n  };\n\n  Blockly.Procedures.isLegalName_ = function (a, b, c) {\n    return !Blockly.Procedures.isNameUsed(a, b, c);\n  };\n\n  Blockly.Procedures.isNameUsed = function (a, b, c) {\n    b = b.getAllBlocks(!1);\n\n    for (var d = 0; d < b.length; d++) if (b[d] != c && b[d].getProcedureDef) {\n      var e = b[d].getProcedureDef();\n      if (Blockly.Names.equals(e[0], a)) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.Procedures.rename = function (a) {\n    a = a.trim();\n    var b = Blockly.Procedures.findLegalName(a, this.getSourceBlock()),\n        c = this.getValue();\n\n    if (c != a && c != b) {\n      a = this.getSourceBlock().workspace.getAllBlocks(!1);\n\n      for (var d = 0; d < a.length; d++) a[d].renameProcedure && a[d].renameProcedure(c, b);\n    }\n\n    return b;\n  };\n\n  Blockly.Procedures.flyoutCategory = function (a) {\n    function b(a, b) {\n      for (var d = 0; d < a.length; d++) {\n        var e = a[d][0],\n            f = a[d][1],\n            g = Blockly.utils.xml.createElement(\"block\");\n        g.setAttribute(\"type\", b);\n        g.setAttribute(\"gap\", 16);\n        var m = Blockly.utils.xml.createElement(\"mutation\");\n        m.setAttribute(\"name\", e);\n        g.appendChild(m);\n\n        for (e = 0; e < f.length; e++) {\n          var p = Blockly.utils.xml.createElement(\"arg\");\n          p.setAttribute(\"name\", f[e]);\n          m.appendChild(p);\n        }\n\n        c.push(g);\n      }\n    }\n\n    var c = [];\n\n    if (Blockly.Blocks.procedures_defnoreturn) {\n      var d = Blockly.utils.xml.createElement(\"block\");\n      d.setAttribute(\"type\", \"procedures_defnoreturn\");\n      d.setAttribute(\"gap\", 16);\n      var e = Blockly.utils.xml.createElement(\"field\");\n      e.setAttribute(\"name\", \"NAME\");\n      e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE));\n      d.appendChild(e);\n      c.push(d);\n    }\n\n    Blockly.Blocks.procedures_defreturn && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"procedures_defreturn\"), d.setAttribute(\"gap\", 16), e = Blockly.utils.xml.createElement(\"field\"), e.setAttribute(\"name\", \"NAME\"), e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)), d.appendChild(e), c.push(d));\n    Blockly.Blocks.procedures_ifreturn && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"procedures_ifreturn\"), d.setAttribute(\"gap\", 16), c.push(d));\n    c.length && c[c.length - 1].setAttribute(\"gap\", 24);\n    a = Blockly.Procedures.allProcedures(a);\n    b(a[0], \"procedures_callnoreturn\");\n    b(a[1], \"procedures_callreturn\");\n    return c;\n  };\n\n  Blockly.Procedures.getCallers = function (a, b) {\n    for (var c = [], d = b.getAllBlocks(!1), e = 0; e < d.length; e++) if (d[e].getProcedureCall) {\n      var f = d[e].getProcedureCall();\n      f && Blockly.Names.equals(f, a) && c.push(d[e]);\n    }\n\n    return c;\n  };\n\n  Blockly.Procedures.mutateCallers = function (a) {\n    var b = Blockly.Events.recordUndo,\n        c = a.getProcedureDef()[0],\n        d = a.mutationToDom(!0);\n    a = Blockly.Procedures.getCallers(c, a.workspace);\n    c = 0;\n\n    for (var e; e = a[c]; c++) {\n      var f = e.mutationToDom();\n      f = f && Blockly.Xml.domToText(f);\n      e.domToMutation(d);\n      var g = e.mutationToDom();\n      g = g && Blockly.Xml.domToText(g);\n      f != g && (Blockly.Events.recordUndo = !1, Blockly.Events.fire(new Blockly.Events.BlockChange(e, \"mutation\", null, f, g)), Blockly.Events.recordUndo = b);\n    }\n  };\n\n  Blockly.Procedures.getDefinition = function (a, b) {\n    for (var c = b.getTopBlocks(!1), d = 0; d < c.length; d++) if (c[d].getProcedureDef) {\n      var e = c[d].getProcedureDef();\n      if (e && Blockly.Names.equals(e[0], a)) return c[d];\n    }\n\n    return null;\n  };\n\n  Blockly.FlyoutButton = function (a, b, c, d) {\n    this.workspace_ = a;\n    this.targetWorkspace_ = b;\n    this.text_ = c.getAttribute(\"text\");\n    this.position_ = new Blockly.utils.Coordinate(0, 0);\n    this.isLabel_ = d;\n    this.callbackKey_ = c.getAttribute(\"callbackKey\");\n    this.cssClass_ = c.getAttribute(\"web-class\") || null;\n  };\n\n  Blockly.FlyoutButton.MARGIN = 5;\n  Blockly.FlyoutButton.prototype.width = 0;\n  Blockly.FlyoutButton.prototype.height = 0;\n  Blockly.FlyoutButton.prototype.onMouseUpWrapper_ = null;\n\n  Blockly.FlyoutButton.prototype.createDom = function () {\n    var a = this.isLabel_ ? \"blocklyFlyoutLabel\" : \"blocklyFlyoutButton\";\n    this.cssClass_ && (a += \" \" + this.cssClass_);\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(\"g\", {\n      \"class\": a\n    }, this.workspace_.getCanvas());\n    if (!this.isLabel_) var b = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": \"blocklyFlyoutButtonShadow\",\n      rx: 4,\n      ry: 4,\n      x: 1,\n      y: 1\n    }, this.svgGroup_);\n    a = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"class\": this.isLabel_ ? \"blocklyFlyoutLabelBackground\" : \"blocklyFlyoutButtonBackground\",\n      rx: 4,\n      ry: 4\n    }, this.svgGroup_);\n    var c = Blockly.utils.dom.createSvgElement(\"text\", {\n      \"class\": this.isLabel_ ? \"blocklyFlyoutLabelText\" : \"blocklyText\",\n      x: 0,\n      y: 0,\n      \"text-anchor\": \"middle\"\n    }, this.svgGroup_);\n    c.textContent = Blockly.utils.replaceMessageReferences(this.text_);\n    this.width = Blockly.Field.getCachedWidth(c);\n    this.height = 20;\n    this.isLabel_ || (this.width += 2 * Blockly.FlyoutButton.MARGIN, b.setAttribute(\"width\", this.width), b.setAttribute(\"height\", this.height));\n    a.setAttribute(\"width\", this.width);\n    a.setAttribute(\"height\", this.height);\n    c.setAttribute(\"x\", this.width / 2);\n    c.setAttribute(\"y\", this.height - Blockly.FlyoutButton.MARGIN);\n    this.updateTransform_();\n    this.onMouseUpWrapper_ = Blockly.bindEventWithChecks_(this.svgGroup_, \"mouseup\", this, this.onMouseUp_);\n    return this.svgGroup_;\n  };\n\n  Blockly.FlyoutButton.prototype.show = function () {\n    this.updateTransform_();\n    this.svgGroup_.setAttribute(\"display\", \"block\");\n  };\n\n  Blockly.FlyoutButton.prototype.updateTransform_ = function () {\n    this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.position_.x + \",\" + this.position_.y + \")\");\n  };\n\n  Blockly.FlyoutButton.prototype.moveTo = function (a, b) {\n    this.position_.x = a;\n    this.position_.y = b;\n    this.updateTransform_();\n  };\n\n  Blockly.FlyoutButton.prototype.getPosition = function () {\n    return this.position_;\n  };\n\n  Blockly.FlyoutButton.prototype.getTargetWorkspace = function () {\n    return this.targetWorkspace_;\n  };\n\n  Blockly.FlyoutButton.prototype.dispose = function () {\n    this.onMouseUpWrapper_ && Blockly.unbindEvent_(this.onMouseUpWrapper_);\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.targetWorkspace_ = this.workspace_ = null;\n  };\n\n  Blockly.FlyoutButton.prototype.onMouseUp_ = function (a) {\n    (a = this.targetWorkspace_.getGesture(a)) && a.cancel();\n    this.isLabel_ && this.callbackKey_ ? console.warn(\"Labels should not have callbacks. Label text: \" + this.text_) : this.isLabel_ || this.callbackKey_ && this.targetWorkspace_.getButtonCallback(this.callbackKey_) ? this.isLabel_ || this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this) : console.warn(\"Buttons should have callbacks. Button text: \" + this.text_);\n  };\n\n  Blockly.Flyout = function (a) {\n    a.getMetrics = this.getMetrics_.bind(this);\n    a.setMetrics = this.setMetrics_.bind(this);\n    this.workspace_ = new Blockly.WorkspaceSvg(a);\n    this.workspace_.isFlyout = !0;\n    this.RTL = !!a.RTL;\n    this.toolboxPosition_ = a.toolboxPosition;\n    this.eventWrappers_ = [];\n    this.mats_ = [];\n    this.buttons_ = [];\n    this.listeners_ = [];\n    this.permanentlyDisabled_ = [];\n  };\n\n  Blockly.Flyout.prototype.autoClose = !0;\n  Blockly.Flyout.prototype.isVisible_ = !1;\n  Blockly.Flyout.prototype.containerVisible_ = !0;\n  Blockly.Flyout.prototype.CORNER_RADIUS = 8;\n  Blockly.Flyout.prototype.MARGIN = Blockly.Flyout.prototype.CORNER_RADIUS;\n  Blockly.Flyout.prototype.GAP_X = 3 * Blockly.Flyout.prototype.MARGIN;\n  Blockly.Flyout.prototype.GAP_Y = 3 * Blockly.Flyout.prototype.MARGIN;\n  Blockly.Flyout.prototype.SCROLLBAR_PADDING = 2;\n  Blockly.Flyout.prototype.width_ = 0;\n  Blockly.Flyout.prototype.height_ = 0;\n  Blockly.Flyout.prototype.dragAngleRange_ = 70;\n\n  Blockly.Flyout.prototype.createDom = function (a) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(a, {\n      \"class\": \"blocklyFlyout\",\n      style: \"display: none\"\n    }, null);\n    this.svgBackground_ = Blockly.utils.dom.createSvgElement(\"path\", {\n      \"class\": \"blocklyFlyoutBackground\"\n    }, this.svgGroup_);\n    this.svgGroup_.appendChild(this.workspace_.createDom());\n    return this.svgGroup_;\n  };\n\n  Blockly.Flyout.prototype.init = function (a) {\n    this.targetWorkspace_ = a;\n    this.workspace_.targetWorkspace = a;\n    this.scrollbar_ = new Blockly.Scrollbar(this.workspace_, this.horizontalLayout_, !1, \"blocklyFlyoutScrollbar\");\n    this.hide();\n    Array.prototype.push.apply(this.eventWrappers_, Blockly.bindEventWithChecks_(this.svgGroup_, \"wheel\", this, this.wheel_));\n    this.autoClose || (this.filterWrapper_ = this.filterForCapacity_.bind(this), this.targetWorkspace_.addChangeListener(this.filterWrapper_));\n    Array.prototype.push.apply(this.eventWrappers_, Blockly.bindEventWithChecks_(this.svgBackground_, \"mousedown\", this, this.onMouseDown_));\n    this.workspace_.getGesture = this.targetWorkspace_.getGesture.bind(this.targetWorkspace_);\n    this.workspace_.variableMap_ = this.targetWorkspace_.getVariableMap();\n    this.workspace_.createPotentialVariableMap();\n  };\n\n  Blockly.Flyout.prototype.dispose = function () {\n    this.hide();\n    Blockly.unbindEvent_(this.eventWrappers_);\n    this.filterWrapper_ && (this.targetWorkspace_.removeChangeListener(this.filterWrapper_), this.filterWrapper_ = null);\n    this.scrollbar_ && (this.scrollbar_.dispose(), this.scrollbar_ = null);\n    this.workspace_ && (this.workspace_.targetWorkspace = null, this.workspace_.dispose(), this.workspace_ = null);\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.targetWorkspace_ = this.svgBackground_ = null;\n  };\n\n  Blockly.Flyout.prototype.getWidth = function () {\n    return this.width_;\n  };\n\n  Blockly.Flyout.prototype.getHeight = function () {\n    return this.height_;\n  };\n\n  Blockly.Flyout.prototype.getWorkspace = function () {\n    return this.workspace_;\n  };\n\n  Blockly.Flyout.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.Flyout.prototype.setVisible = function (a) {\n    var b = a != this.isVisible();\n    this.isVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Flyout.prototype.setContainerVisible = function (a) {\n    var b = a != this.containerVisible_;\n    this.containerVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Flyout.prototype.updateDisplay_ = function () {\n    var a = this.containerVisible_ ? this.isVisible() : !1;\n    this.svgGroup_.style.display = a ? \"block\" : \"none\";\n    this.scrollbar_.setContainerVisible(a);\n  };\n\n  Blockly.Flyout.prototype.positionAt_ = function (a, b, c, d) {\n    this.svgGroup_.setAttribute(\"width\", a);\n    this.svgGroup_.setAttribute(\"height\", b);\n    \"svg\" == this.svgGroup_.tagName ? Blockly.utils.dom.setCssTransform(this.svgGroup_, \"translate(\" + c + \"px,\" + d + \"px)\") : this.svgGroup_.setAttribute(\"transform\", \"translate(\" + c + \",\" + d + \")\");\n    this.scrollbar_ && (this.scrollbar_.setOrigin(c, d), this.scrollbar_.resize(), this.scrollbar_.setPosition_(this.scrollbar_.position_.x, this.scrollbar_.position_.y));\n  };\n\n  Blockly.Flyout.prototype.hide = function () {\n    if (this.isVisible()) {\n      this.setVisible(!1);\n\n      for (var a = 0, b; b = this.listeners_[a]; a++) Blockly.unbindEvent_(b);\n\n      this.listeners_.length = 0;\n      this.reflowWrapper_ && (this.workspace_.removeChangeListener(this.reflowWrapper_), this.reflowWrapper_ = null);\n    }\n  };\n\n  Blockly.Flyout.prototype.show = function (a) {\n    this.workspace_.setResizesEnabled(!1);\n    this.hide();\n    this.clearOldBlocks_();\n\n    if (\"string\" == typeof a) {\n      a = this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);\n      if (\"function\" != typeof a) throw TypeError(\"Couldn't find a callback function when opening a toolbox category.\");\n      a = a(this.workspace_.targetWorkspace);\n      if (!Array.isArray(a)) throw TypeError(\"Result of toolbox category callback must be an array.\");\n    }\n\n    this.setVisible(!0);\n    var b = [],\n        c = [];\n    this.permanentlyDisabled_.length = 0;\n\n    for (var d = this.horizontalLayout_ ? this.GAP_X : this.GAP_Y, e = 0, f; f = a[e]; e++) if (f.tagName) switch (f.tagName.toUpperCase()) {\n      case \"BLOCK\":\n        var g = Blockly.Xml.domToBlock(f, this.workspace_);\n        g.isEnabled() || this.permanentlyDisabled_.push(g);\n        b.push({\n          type: \"block\",\n          block: g\n        });\n        f = parseInt(f.getAttribute(\"gap\"), 10);\n        c.push(isNaN(f) ? d : f);\n        break;\n\n      case \"SEP\":\n        f = parseInt(f.getAttribute(\"gap\"), 10);\n        !isNaN(f) && 0 < c.length ? c[c.length - 1] = f : c.push(d);\n        break;\n\n      case \"LABEL\":\n      case \"BUTTON\":\n        g = \"LABEL\" == f.tagName.toUpperCase(), f = new Blockly.FlyoutButton(this.workspace_, this.targetWorkspace_, f, g), b.push({\n          type: \"button\",\n          button: f\n        }), c.push(d);\n    }\n\n    this.layout_(b, c);\n    this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_, \"mouseover\", this, function () {\n      for (var a = this.workspace_.getTopBlocks(!1), b = 0, c; c = a[b]; b++) c.removeSelect();\n    }));\n    this.horizontalLayout_ ? this.height_ = 0 : this.width_ = 0;\n    this.workspace_.setResizesEnabled(!0);\n    this.reflow();\n    this.filterForCapacity_();\n    this.position();\n    this.reflowWrapper_ = this.reflow.bind(this);\n    this.workspace_.addChangeListener(this.reflowWrapper_);\n  };\n\n  Blockly.Flyout.prototype.clearOldBlocks_ = function () {\n    for (var a = this.workspace_.getTopBlocks(!1), b = 0, c; c = a[b]; b++) c.workspace == this.workspace_ && c.dispose(!1, !1);\n\n    for (b = 0; b < this.mats_.length; b++) (a = this.mats_[b]) && Blockly.utils.dom.removeNode(a);\n\n    for (b = this.mats_.length = 0; a = this.buttons_[b]; b++) a.dispose();\n\n    this.buttons_.length = 0;\n    this.workspace_.getPotentialVariableMap().clear();\n  };\n\n  Blockly.Flyout.prototype.addBlockListeners_ = function (a, b, c) {\n    this.listeners_.push(Blockly.bindEventWithChecks_(a, \"mousedown\", null, this.blockMouseDown_(b)));\n    this.listeners_.push(Blockly.bindEventWithChecks_(c, \"mousedown\", null, this.blockMouseDown_(b)));\n    this.listeners_.push(Blockly.bindEvent_(a, \"mouseover\", b, b.addSelect));\n    this.listeners_.push(Blockly.bindEvent_(a, \"mouseout\", b, b.removeSelect));\n    this.listeners_.push(Blockly.bindEvent_(c, \"mouseover\", b, b.addSelect));\n    this.listeners_.push(Blockly.bindEvent_(c, \"mouseout\", b, b.removeSelect));\n  };\n\n  Blockly.Flyout.prototype.blockMouseDown_ = function (a) {\n    var b = this;\n    return function (c) {\n      var d = b.targetWorkspace_.getGesture(c);\n      d && (d.setStartBlock(a), d.handleFlyoutStart(c, b));\n    };\n  };\n\n  Blockly.Flyout.prototype.onMouseDown_ = function (a) {\n    var b = this.targetWorkspace_.getGesture(a);\n    b && b.handleFlyoutStart(a, this);\n  };\n\n  Blockly.Flyout.prototype.isBlockCreatable_ = function (a) {\n    return a.isEnabled();\n  };\n\n  Blockly.Flyout.prototype.createBlock = function (a) {\n    var b = null;\n    Blockly.Events.disable();\n    var c = this.targetWorkspace_.getAllVariables();\n    this.targetWorkspace_.setResizesEnabled(!1);\n\n    try {\n      b = this.placeNewBlock_(a), Blockly.hideChaff();\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    a = Blockly.Variables.getAddedVariables(this.targetWorkspace_, c);\n    if (Blockly.Events.isEnabled()) for (Blockly.Events.setGroup(!0), Blockly.Events.fire(new Blockly.Events.Create(b)), c = 0; c < a.length; c++) Blockly.Events.fire(new Blockly.Events.VarCreate(a[c]));\n    this.autoClose ? this.hide() : this.filterForCapacity_();\n    return b;\n  };\n\n  Blockly.Flyout.prototype.initFlyoutButton_ = function (a, b, c) {\n    var d = a.createDom();\n    a.moveTo(b, c);\n    a.show();\n    this.listeners_.push(Blockly.bindEventWithChecks_(d, \"mousedown\", this, this.onMouseDown_));\n    this.buttons_.push(a);\n  };\n\n  Blockly.Flyout.prototype.createRect_ = function (a, b, c, d, e) {\n    b = Blockly.utils.dom.createSvgElement(\"rect\", {\n      \"fill-opacity\": 0,\n      x: b,\n      y: c,\n      height: d.height,\n      width: d.width\n    }, null);\n    b.tooltip = a;\n    Blockly.Tooltip.bindMouseEvents(b);\n    this.workspace_.getCanvas().insertBefore(b, a.getSvgRoot());\n    a.flyoutRect_ = b;\n    return this.mats_[e] = b;\n  };\n\n  Blockly.Flyout.prototype.moveRectToBlock_ = function (a, b) {\n    var c = b.getHeightWidth();\n    a.setAttribute(\"width\", c.width);\n    a.setAttribute(\"height\", c.height);\n    var d = b.startHat_ ? Blockly.BlockSvg.START_HAT_HEIGHT : 0;\n    d && b.moveBy(0, d);\n    d = b.outputConnection ? Blockly.BlockSvg.TAB_WIDTH : 0;\n    var e = b.getRelativeToSurfaceXY();\n    a.setAttribute(\"y\", e.y);\n    a.setAttribute(\"x\", this.RTL ? e.x - c.width + d : e.x - d);\n  };\n\n  Blockly.Flyout.prototype.filterForCapacity_ = function () {\n    for (var a = this.workspace_.getTopBlocks(!1), b = 0, c; c = a[b]; b++) if (-1 == this.permanentlyDisabled_.indexOf(c)) for (var d = this.targetWorkspace_.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(c)); c;) c.setEnabled(d), c = c.getNextBlock();\n  };\n\n  Blockly.Flyout.prototype.reflow = function () {\n    this.reflowWrapper_ && this.workspace_.removeChangeListener(this.reflowWrapper_);\n    this.reflowInternal_();\n    this.reflowWrapper_ && this.workspace_.addChangeListener(this.reflowWrapper_);\n  };\n\n  Blockly.Flyout.prototype.isScrollable = function () {\n    return this.scrollbar_ ? this.scrollbar_.isVisible() : !1;\n  };\n\n  Blockly.Flyout.prototype.placeNewBlock_ = function (a) {\n    var b = this.targetWorkspace_;\n    if (!a.getSvgRoot()) throw Error(\"oldBlock is not rendered.\");\n    var c = Blockly.Xml.blockToDom(a, !0);\n    b.setResizesEnabled(!1);\n    c = Blockly.Xml.domToBlock(c, b);\n    if (!c.getSvgRoot()) throw Error(\"block is not rendered.\");\n    var d = b.getOriginOffsetInPixels(),\n        e = this.workspace_.getOriginOffsetInPixels();\n    a = a.getRelativeToSurfaceXY();\n    a.scale(this.workspace_.scale);\n    a = Blockly.utils.Coordinate.sum(e, a);\n    d = Blockly.utils.Coordinate.difference(a, d);\n    d.scale(1 / b.scale);\n    c.moveBy(d.x, d.y);\n    return c;\n  };\n\n  Blockly.HorizontalFlyout = function (a) {\n    a.getMetrics = this.getMetrics_.bind(this);\n    a.setMetrics = this.setMetrics_.bind(this);\n    Blockly.HorizontalFlyout.superClass_.constructor.call(this, a);\n    this.horizontalLayout_ = !0;\n  };\n\n  goog.inherits(Blockly.HorizontalFlyout, Blockly.Flyout);\n\n  Blockly.HorizontalFlyout.prototype.getMetrics_ = function () {\n    if (!this.isVisible()) return null;\n\n    try {\n      var a = this.workspace_.getCanvas().getBBox();\n    } catch (e) {\n      a = {\n        height: 0,\n        y: 0,\n        width: 0,\n        x: 0\n      };\n    }\n\n    var b = this.SCROLLBAR_PADDING,\n        c = this.SCROLLBAR_PADDING;\n    this.toolboxPosition_ == Blockly.TOOLBOX_AT_BOTTOM && (b = 0);\n    var d = this.height_;\n    this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP && (d -= this.SCROLLBAR_PADDING);\n    return {\n      viewHeight: d,\n      viewWidth: this.width_ - 2 * this.SCROLLBAR_PADDING,\n      contentHeight: (a.height + 2 * this.MARGIN) * this.workspace_.scale,\n      contentWidth: (a.width + 2 * this.MARGIN) * this.workspace_.scale,\n      viewTop: -this.workspace_.scrollY,\n      viewLeft: -this.workspace_.scrollX,\n      contentTop: 0,\n      contentLeft: 0,\n      absoluteTop: b,\n      absoluteLeft: c\n    };\n  };\n\n  Blockly.HorizontalFlyout.prototype.setMetrics_ = function (a) {\n    var b = this.getMetrics_();\n    b && (\"number\" == typeof a.x && (this.workspace_.scrollX = -b.contentWidth * a.x), this.workspace_.translate(this.workspace_.scrollX + b.absoluteLeft, this.workspace_.scrollY + b.absoluteTop));\n  };\n\n  Blockly.HorizontalFlyout.prototype.position = function () {\n    if (this.isVisible()) {\n      var a = this.targetWorkspace_.getMetrics();\n      a && (this.width_ = a.viewWidth, this.setBackgroundPath_(a.viewWidth - 2 * this.CORNER_RADIUS, this.height_ - this.CORNER_RADIUS), this.positionAt_(this.width_, this.height_, 0, this.targetWorkspace_.toolboxPosition == this.toolboxPosition_ ? a.toolboxHeight ? this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP ? a.toolboxHeight : a.viewHeight - this.height_ : this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP ? 0 : a.viewHeight : this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP ? 0 : a.viewHeight + a.absoluteTop - this.height_));\n    }\n  };\n\n  Blockly.HorizontalFlyout.prototype.setBackgroundPath_ = function (a, b) {\n    var c = this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP,\n        d = [\"M 0,\" + (c ? 0 : this.CORNER_RADIUS)];\n    c ? (d.push(\"h\", a + 2 * this.CORNER_RADIUS), d.push(\"v\", b), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, -this.CORNER_RADIUS, this.CORNER_RADIUS), d.push(\"h\", -1 * a), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, -this.CORNER_RADIUS, -this.CORNER_RADIUS)) : (d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, this.CORNER_RADIUS, -this.CORNER_RADIUS), d.push(\"h\", a), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, this.CORNER_RADIUS, this.CORNER_RADIUS), d.push(\"v\", b), d.push(\"h\", -a - 2 * this.CORNER_RADIUS));\n    d.push(\"z\");\n    this.svgBackground_.setAttribute(\"d\", d.join(\" \"));\n  };\n\n  Blockly.HorizontalFlyout.prototype.scrollToStart = function () {\n    this.scrollbar_.set(this.RTL ? Infinity : 0);\n  };\n\n  Blockly.HorizontalFlyout.prototype.wheel_ = function (a) {\n    var b = Blockly.utils.getScrollDeltaPixels(a),\n        c = b.x || b.y;\n    c && (b = this.getMetrics_(), c = b.viewLeft + c, c = Math.min(c, b.contentWidth - b.viewWidth), c = Math.max(c, 0), this.scrollbar_.set(c), Blockly.WidgetDiv.hide());\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.HorizontalFlyout.prototype.layout_ = function (a, b) {\n    this.workspace_.scale = this.targetWorkspace_.scale;\n    var c = this.MARGIN,\n        d = this.RTL ? c : c + Blockly.BlockSvg.TAB_WIDTH;\n    this.RTL && (a = a.reverse());\n\n    for (var e = 0, f; f = a[e]; e++) if (\"block\" == f.type) {\n      f = f.block;\n\n      for (var g = f.getDescendants(!1), h = 0, k; k = g[h]; h++) k.isInFlyout = !0;\n\n      f.render();\n      g = f.getSvgRoot();\n      h = f.getHeightWidth();\n      k = f.outputConnection ? Blockly.BlockSvg.TAB_WIDTH : 0;\n      k = this.RTL ? d + h.width : d + k;\n      f.moveBy(k, c);\n      k = this.createRect_(f, k, c, h, e);\n      d += h.width + b[e];\n      this.addBlockListeners_(g, f, k);\n    } else \"button\" == f.type && (this.initFlyoutButton_(f.button, d, c), d += f.button.width + b[e]);\n  };\n\n  Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace = function (a) {\n    a = Math.atan2(a.y, a.x) / Math.PI * 180;\n    var b = this.dragAngleRange_;\n    return a < 90 + b && a > 90 - b || a > -90 - b && a < -90 + b ? !0 : !1;\n  };\n\n  Blockly.HorizontalFlyout.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.top;\n    return this.toolboxPosition_ == Blockly.TOOLBOX_AT_TOP ? new Blockly.utils.Rect(-1E9, b + a.height, -1E9, 1E9) : new Blockly.utils.Rect(b, -1E9, -1E9, 1E9);\n  };\n\n  Blockly.HorizontalFlyout.prototype.reflowInternal_ = function () {\n    this.workspace_.scale = this.targetWorkspace_.scale;\n\n    for (var a = 0, b = this.workspace_.getTopBlocks(!1), c = 0, d; d = b[c]; c++) a = Math.max(a, d.getHeightWidth().height);\n\n    a += 1.5 * this.MARGIN;\n    a *= this.workspace_.scale;\n    a += Blockly.Scrollbar.scrollbarThickness;\n\n    if (this.height_ != a) {\n      for (c = 0; d = b[c]; c++) d.flyoutRect_ && this.moveRectToBlock_(d.flyoutRect_, d);\n\n      this.height_ = a;\n      this.position();\n    }\n  };\n\n  Blockly.VerticalFlyout = function (a) {\n    a.getMetrics = this.getMetrics_.bind(this);\n    a.setMetrics = this.setMetrics_.bind(this);\n    Blockly.VerticalFlyout.superClass_.constructor.call(this, a);\n    this.horizontalLayout_ = !1;\n  };\n\n  goog.inherits(Blockly.VerticalFlyout, Blockly.Flyout);\n\n  Blockly.VerticalFlyout.prototype.getMetrics_ = function () {\n    if (!this.isVisible()) return null;\n\n    try {\n      var a = this.workspace_.getCanvas().getBBox();\n    } catch (e) {\n      a = {\n        height: 0,\n        y: 0,\n        width: 0,\n        x: 0\n      };\n    }\n\n    var b = this.SCROLLBAR_PADDING,\n        c = this.height_ - 2 * this.SCROLLBAR_PADDING,\n        d = this.width_;\n    this.RTL || (d -= this.SCROLLBAR_PADDING);\n    return {\n      viewHeight: c,\n      viewWidth: d,\n      contentHeight: a.height * this.workspace_.scale + 2 * this.MARGIN,\n      contentWidth: a.width * this.workspace_.scale + 2 * this.MARGIN,\n      viewTop: -this.workspace_.scrollY + a.y,\n      viewLeft: -this.workspace_.scrollX,\n      contentTop: a.y,\n      contentLeft: a.x,\n      absoluteTop: b,\n      absoluteLeft: 0\n    };\n  };\n\n  Blockly.VerticalFlyout.prototype.setMetrics_ = function (a) {\n    var b = this.getMetrics_();\n    b && (\"number\" == typeof a.y && (this.workspace_.scrollY = -b.contentHeight * a.y), this.workspace_.translate(this.workspace_.scrollX + b.absoluteLeft, this.workspace_.scrollY + b.absoluteTop));\n  };\n\n  Blockly.VerticalFlyout.prototype.position = function () {\n    if (this.isVisible()) {\n      var a = this.targetWorkspace_.getMetrics();\n      a && (this.height_ = a.viewHeight, this.setBackgroundPath_(this.width_ - this.CORNER_RADIUS, a.viewHeight - 2 * this.CORNER_RADIUS), this.positionAt_(this.width_, this.height_, this.targetWorkspace_.toolboxPosition == this.toolboxPosition_ ? a.toolboxWidth ? this.toolboxPosition_ == Blockly.TOOLBOX_AT_LEFT ? a.toolboxWidth : a.viewWidth - this.width_ : this.toolboxPosition_ == Blockly.TOOLBOX_AT_LEFT ? 0 : a.viewWidth : this.toolboxPosition_ == Blockly.TOOLBOX_AT_LEFT ? 0 : a.viewWidth + a.absoluteLeft - this.width_, 0));\n    }\n  };\n\n  Blockly.VerticalFlyout.prototype.setBackgroundPath_ = function (a, b) {\n    var c = this.toolboxPosition_ == Blockly.TOOLBOX_AT_RIGHT,\n        d = a + this.CORNER_RADIUS;\n    d = [\"M \" + (c ? d : 0) + \",0\"];\n    d.push(\"h\", c ? -a : a);\n    d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, c ? 0 : 1, c ? -this.CORNER_RADIUS : this.CORNER_RADIUS, this.CORNER_RADIUS);\n    d.push(\"v\", Math.max(0, b));\n    d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, c ? 0 : 1, c ? this.CORNER_RADIUS : -this.CORNER_RADIUS, this.CORNER_RADIUS);\n    d.push(\"h\", c ? a : -a);\n    d.push(\"z\");\n    this.svgBackground_.setAttribute(\"d\", d.join(\" \"));\n  };\n\n  Blockly.VerticalFlyout.prototype.scrollToStart = function () {\n    this.scrollbar_.set(0);\n  };\n\n  Blockly.VerticalFlyout.prototype.wheel_ = function (a) {\n    var b = Blockly.utils.getScrollDeltaPixels(a);\n\n    if (b.y) {\n      var c = this.getMetrics_();\n      b = c.viewTop - c.contentTop + b.y;\n      b = Math.min(b, c.contentHeight - c.viewHeight);\n      b = Math.max(b, 0);\n      this.scrollbar_.set(b);\n      Blockly.WidgetDiv.hide();\n    }\n\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.VerticalFlyout.prototype.layout_ = function (a, b) {\n    this.workspace_.scale = this.targetWorkspace_.scale;\n\n    for (var c = this.MARGIN, d = this.RTL ? c : c + Blockly.BlockSvg.TAB_WIDTH, e = 0, f; f = a[e]; e++) if (\"block\" == f.type) {\n      f = f.block;\n\n      for (var g = f.getDescendants(!1), h = 0, k; k = g[h]; h++) k.isInFlyout = !0;\n\n      f.render();\n      g = f.getSvgRoot();\n      h = f.getHeightWidth();\n      f.moveBy(d, c);\n      k = this.createRect_(f, this.RTL ? d - h.width : d, c, h, e);\n      this.addBlockListeners_(g, f, k);\n      c += h.height + b[e];\n    } else \"button\" == f.type && (this.initFlyoutButton_(f.button, d, c), c += f.button.height + b[e]);\n  };\n\n  Blockly.VerticalFlyout.prototype.isDragTowardWorkspace = function (a) {\n    a = Math.atan2(a.y, a.x) / Math.PI * 180;\n    var b = this.dragAngleRange_;\n    return a < b && a > -b || a < -180 + b || a > 180 - b ? !0 : !1;\n  };\n\n  Blockly.VerticalFlyout.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.left;\n    if (this.toolboxPosition_ == Blockly.TOOLBOX_AT_LEFT) return new Blockly.utils.Rect(-1E9, 1E9, -1E9, b + a.width);\n    Blockly.utils.userAgent.GECKO && this.targetWorkspace_ && this.targetWorkspace_.isMutator && (a = this.targetWorkspace_.svgGroup_.getBoundingClientRect().x, 10 > Math.abs(a - b) && (b += this.leftEdge_ * this.targetWorkspace_.options.parentWorkspace.scale));\n    return new Blockly.utils.Rect(-1E9, 1E9, b, 1E9);\n  };\n\n  Blockly.VerticalFlyout.prototype.reflowInternal_ = function () {\n    this.workspace_.scale = this.targetWorkspace_.scale;\n\n    for (var a = 0, b = this.workspace_.getTopBlocks(!1), c = 0, d; d = b[c]; c++) {\n      var e = d.getHeightWidth().width;\n      d.outputConnection && (e -= Blockly.BlockSvg.TAB_WIDTH);\n      a = Math.max(a, e);\n    }\n\n    for (c = 0; d = this.buttons_[c]; c++) a = Math.max(a, d.width);\n\n    a += 1.5 * this.MARGIN + Blockly.BlockSvg.TAB_WIDTH;\n    a *= this.workspace_.scale;\n    a += Blockly.Scrollbar.scrollbarThickness;\n\n    if (this.width_ != a) {\n      for (c = 0; d = b[c]; c++) this.RTL && (e = d.getRelativeToSurfaceXY().x, d.moveBy(a / this.workspace_.scale - this.MARGIN - Blockly.BlockSvg.TAB_WIDTH - e, 0)), d.flyoutRect_ && this.moveRectToBlock_(d.flyoutRect_, d);\n\n      if (this.RTL) for (c = 0; d = this.buttons_[c]; c++) b = d.getPosition().y, d.moveTo(a / this.workspace_.scale - d.width - this.MARGIN - Blockly.BlockSvg.TAB_WIDTH, b);\n      this.width_ = a;\n      this.position();\n    }\n  };\n\n  Blockly.Toolbox = function (a) {\n    this.workspace_ = a;\n    this.RTL = a.options.RTL;\n    this.horizontalLayout_ = a.options.horizontalLayout;\n    this.toolboxPosition = a.options.toolboxPosition;\n    this.config_ = {\n      indentWidth: 19,\n      cssRoot: \"blocklyTreeRoot\",\n      cssHideRoot: \"blocklyHidden\",\n      cssItem: \"\",\n      cssTreeRow: \"blocklyTreeRow\",\n      cssItemLabel: \"blocklyTreeLabel\",\n      cssTreeIcon: \"blocklyTreeIcon\",\n      cssExpandedFolderIcon: \"blocklyTreeIconOpen\",\n      cssFileIcon: \"blocklyTreeIconNone\",\n      cssSelectedRow: \"blocklyTreeSelected\"\n    };\n    this.treeSeparatorConfig_ = {\n      cssTreeRow: \"blocklyTreeSeparator\"\n    };\n    this.horizontalLayout_ && (this.config_.cssTreeRow += a.RTL ? \" blocklyHorizontalTreeRtl\" : \" blocklyHorizontalTree\", this.treeSeparatorConfig_.cssTreeRow = \"blocklyTreeSeparatorHorizontal \" + (a.RTL ? \"blocklyHorizontalTreeRtl\" : \"blocklyHorizontalTree\"), this.config_.cssTreeIcon = \"\");\n  };\n\n  Blockly.Toolbox.prototype.width = 0;\n  Blockly.Toolbox.prototype.height = 0;\n  Blockly.Toolbox.prototype.selectedOption_ = null;\n  Blockly.Toolbox.prototype.lastCategory_ = null;\n\n  Blockly.Toolbox.prototype.init = function () {\n    var a = this.workspace_,\n        b = this.workspace_.getParentSvg();\n    this.HtmlDiv = document.createElement(\"div\");\n    this.HtmlDiv.className = \"blocklyToolboxDiv\";\n    this.HtmlDiv.setAttribute(\"dir\", a.RTL ? \"RTL\" : \"LTR\");\n    b.parentNode.insertBefore(this.HtmlDiv, b);\n    Blockly.bindEventWithChecks_(this.HtmlDiv, \"mousedown\", this, function (a) {\n      Blockly.utils.isRightButton(a) || a.target == this.HtmlDiv ? Blockly.hideChaff(!1) : Blockly.hideChaff(!0);\n      Blockly.Touch.clearTouchIdentifier();\n    }, !1, !0);\n    b = {\n      disabledPatternId: a.options.disabledPatternId,\n      parentWorkspace: a,\n      RTL: a.RTL,\n      oneBasedIndex: a.options.oneBasedIndex,\n      horizontalLayout: a.horizontalLayout,\n      toolboxPosition: a.options.toolboxPosition\n    };\n    this.flyout_ = null;\n    this.flyout_ = a.horizontalLayout ? new Blockly.HorizontalFlyout(b) : new Blockly.VerticalFlyout(b);\n    Blockly.utils.dom.insertAfter(this.flyout_.createDom(\"svg\"), this.workspace_.getParentSvg());\n    this.flyout_.init(a);\n    this.config_.cleardotPath = a.options.pathToMedia + \"1x1.gif\";\n    this.config_.cssCollapsedFolderIcon = \"blocklyTreeIconClosed\" + (a.RTL ? \"Rtl\" : \"Ltr\");\n    this.tree_ = b = new Blockly.Toolbox.TreeControl(this, this.config_);\n    b.setShowRootNode(!1);\n    b.setShowLines(!1);\n    b.setShowExpandIcons(!1);\n    b.setSelectedItem(null);\n    a = this.populate_(a.options.languageTree);\n    b.render(this.HtmlDiv);\n    a && b.setSelectedItem(a);\n    this.addColour_();\n    this.position();\n  };\n\n  Blockly.Toolbox.prototype.dispose = function () {\n    this.flyout_.dispose();\n    this.tree_.dispose();\n    Blockly.utils.dom.removeNode(this.HtmlDiv);\n    this.lastCategory_ = this.workspace_ = null;\n  };\n\n  Blockly.Toolbox.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Blockly.Toolbox.prototype.getHeight = function () {\n    return this.height;\n  };\n\n  Blockly.Toolbox.prototype.position = function () {\n    var a = this.HtmlDiv;\n\n    if (a) {\n      var b = this.workspace_.getParentSvg();\n      b = Blockly.svgSize(b);\n      this.horizontalLayout_ ? (a.style.left = \"0\", a.style.height = \"auto\", a.style.width = b.width + \"px\", this.height = a.offsetHeight, this.toolboxPosition == Blockly.TOOLBOX_AT_TOP ? a.style.top = \"0\" : a.style.bottom = \"0\") : (this.toolboxPosition == Blockly.TOOLBOX_AT_RIGHT ? a.style.right = \"0\" : a.style.left = \"0\", a.style.height = b.height + \"px\", this.width = a.offsetWidth);\n      this.flyout_.position();\n    }\n  };\n\n  Blockly.Toolbox.prototype.populate_ = function (a) {\n    this.tree_.removeChildren();\n    this.tree_.blocks = [];\n    this.hasColours_ = !1;\n    a = this.syncTrees_(a, this.tree_, this.workspace_.options.pathToMedia);\n    if (this.tree_.blocks.length) throw Error(\"Toolbox cannot have both blocks and categories in the root level.\");\n    this.workspace_.resizeContents();\n    return a;\n  };\n\n  Blockly.Toolbox.prototype.syncTrees_ = function (a, b, c) {\n    for (var d = null, e = null, f = 0, g; g = a.childNodes[f]; f++) if (g.tagName) switch (g.tagName.toUpperCase()) {\n      case \"CATEGORY\":\n        e = Blockly.utils.replaceMessageReferences(g.getAttribute(\"name\"));\n        var h = this.tree_.createNode(e);\n        h.blocks = [];\n        b.add(h);\n        var k = g.getAttribute(\"custom\");\n        k ? h.blocks = k : (k = this.syncTrees_(g, h, c)) && (d = k);\n        k = g.getAttribute(\"categorystyle\");\n        var l = g.getAttribute(\"colour\");\n        l && k ? (h.hexColour = \"\", console.warn('Toolbox category \"' + e + '\" can not have both a style and a colour')) : k ? this.setColourFromStyle_(k, h, e) : this.setColour_(l, h, e);\n        \"true\" == g.getAttribute(\"expanded\") ? (h.blocks.length && (d = h), h.setExpanded(!0)) : h.setExpanded(!1);\n        e = g;\n        break;\n\n      case \"SEP\":\n        if (e && \"CATEGORY\" == e.tagName.toUpperCase()) {\n          b.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_));\n          break;\n        }\n\n      case \"BLOCK\":\n      case \"SHADOW\":\n      case \"LABEL\":\n      case \"BUTTON\":\n        b.blocks.push(g), e = g;\n    }\n\n    return d;\n  };\n\n  Blockly.Toolbox.prototype.setColour_ = function (a, b, c) {\n    a = Blockly.utils.replaceMessageReferences(a);\n    if (null === a || \"\" === a) b.hexColour = \"\";else {\n      var d = Number(a);\n      isNaN(d) ? (d = Blockly.utils.colour.parse(a)) ? (b.hexColour = d, this.hasColours_ = !0) : (b.hexColour = \"\", console.warn('Toolbox category \"' + c + '\" has unrecognized colour attribute: ' + a)) : (b.hexColour = Blockly.hueToHex(d), this.hasColours_ = !0);\n    }\n  };\n\n  Blockly.Toolbox.prototype.setColourFromStyle_ = function (a, b, c) {\n    if ((b.styleName = a) && Blockly.getTheme()) {\n      var d = Blockly.getTheme().getCategoryStyle(a);\n      d && d.colour ? this.setColour_(d.colour, b, c) : console.warn('Style \"' + a + '\" must exist and contain a colour value');\n    }\n  };\n\n  Blockly.Toolbox.prototype.updateColourFromTheme_ = function (a) {\n    if (a = a || this.tree_) {\n      a = a.getChildren(!1);\n\n      for (var b = 0, c; c = a[b]; b++) c.styleName && (this.setColourFromStyle_(c.styleName, c, \"\"), this.addColour_()), this.updateColourFromTheme_(c);\n    }\n  };\n\n  Blockly.Toolbox.prototype.updateColourFromTheme = function () {\n    var a = this.tree_;\n    a && (this.updateColourFromTheme_(a), this.updateSelectedItemColour_(a));\n  };\n\n  Blockly.Toolbox.prototype.updateSelectedItemColour_ = function (a) {\n    var b = a.selectedItem_;\n\n    if (b) {\n      var c = b.hexColour || \"#57e\";\n      b.getRowElement().style.backgroundColor = c;\n      a.toolbox_.addColour_(b);\n    }\n  };\n\n  Blockly.Toolbox.prototype.addColour_ = function (a) {\n    a = (a || this.tree_).getChildren(!1);\n\n    for (var b = 0, c; c = a[b]; b++) {\n      var d = c.getRowElement();\n\n      if (d) {\n        var e = this.hasColours_ ? \"8px solid \" + (c.hexColour || \"#ddd\") : \"none\";\n        this.workspace_.RTL ? d.style.borderRight = e : d.style.borderLeft = e;\n      }\n\n      this.addColour_(c);\n    }\n  };\n\n  Blockly.Toolbox.prototype.clearSelection = function () {\n    this.tree_.setSelectedItem(null);\n  };\n\n  Blockly.Toolbox.prototype.addStyle = function (a) {\n    Blockly.utils.dom.addClass(this.HtmlDiv, a);\n  };\n\n  Blockly.Toolbox.prototype.removeStyle = function (a) {\n    Blockly.utils.dom.removeClass(this.HtmlDiv, a);\n  };\n\n  Blockly.Toolbox.prototype.getClientRect = function () {\n    if (!this.HtmlDiv) return null;\n    var a = this.HtmlDiv.getBoundingClientRect(),\n        b = a.top,\n        c = b + a.height,\n        d = a.left;\n    a = d + a.width;\n    return this.toolboxPosition == Blockly.TOOLBOX_AT_TOP ? new Blockly.utils.Rect(-1E7, c, -1E7, 1E7) : this.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM ? new Blockly.utils.Rect(b, 1E7, -1E7, 1E7) : this.toolboxPosition == Blockly.TOOLBOX_AT_LEFT ? new Blockly.utils.Rect(-1E7, 1E7, -1E7, a) : new Blockly.utils.Rect(-1E7, 1E7, d, 1E7);\n  };\n\n  Blockly.Toolbox.prototype.refreshSelection = function () {\n    var a = this.tree_.getSelectedItem();\n    a && a.blocks && this.flyout_.show(a.blocks);\n  };\n\n  Blockly.Toolbox.TreeControl = function (a, b) {\n    this.toolbox_ = a;\n    goog.ui.tree.TreeControl.call(this, goog.html.SafeHtml.EMPTY, b);\n  };\n\n  goog.inherits(Blockly.Toolbox.TreeControl, goog.ui.tree.TreeControl);\n\n  Blockly.Toolbox.TreeControl.prototype.enterDocument = function () {\n    Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this);\n\n    if (Blockly.Touch.TOUCH_ENABLED) {\n      var a = this.getElement();\n      Blockly.bindEventWithChecks_(a, goog.events.EventType.TOUCHEND, this, this.handleTouchEvent_);\n    }\n  };\n\n  Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_ = function (a) {\n    var b = this.getNodeFromEvent_(a);\n    b && a.type === goog.events.EventType.TOUCHEND && setTimeout(function () {\n      b.onClick_(a);\n    }, 1);\n  };\n\n  Blockly.Toolbox.TreeControl.prototype.createNode = function (a) {\n    a = a ? goog.html.SafeHtml.htmlEscape(a) : goog.html.SafeHtml.EMPTY;\n    return new Blockly.Toolbox.TreeNode(this.toolbox_, a, this.getConfig());\n  };\n\n  Blockly.Toolbox.TreeControl.prototype.setSelectedItem = function (a) {\n    var b = this.toolbox_;\n\n    if (a != this.selectedItem_ && a != b.tree_) {\n      b.lastCategory_ && (b.lastCategory_.getRowElement().style.backgroundColor = \"\");\n\n      if (a) {\n        var c = a.hexColour || \"#57e\";\n        a.getRowElement().style.backgroundColor = c;\n        b.addColour_(a);\n      }\n\n      c = this.getSelectedItem();\n      goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this, a);\n      a && a.blocks && a.blocks.length ? (b.flyout_.show(a.blocks), b.lastCategory_ != a && b.flyout_.scrollToStart()) : b.flyout_.hide();\n      c != a && c != this && (c = new Blockly.Events.Ui(null, \"category\", c && c.getHtml(), a && a.getHtml()), c.workspaceId = b.workspace_.id, Blockly.Events.fire(c));\n      a && (b.lastCategory_ = a);\n    }\n  };\n\n  Blockly.Toolbox.TreeNode = function (a, b, c) {\n    goog.ui.tree.TreeNode.call(this, b, c);\n    a && (b = function () {\n      Blockly.svgResize(a.workspace_);\n    }, goog.events.listen(a.tree_, goog.ui.tree.BaseNode.EventType.EXPAND, b), goog.events.listen(a.tree_, goog.ui.tree.BaseNode.EventType.COLLAPSE, b));\n  };\n\n  goog.inherits(Blockly.Toolbox.TreeNode, goog.ui.tree.TreeNode);\n\n  Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml = function () {\n    return goog.html.SafeHtml.create(\"span\");\n  };\n\n  Blockly.Toolbox.TreeNode.prototype.onClick_ = function (a) {\n    this.hasChildren() && this.isUserCollapsible_ ? (this.toggle(), this.select()) : this.isSelected() ? this.getTree().setSelectedItem(null) : this.select();\n    this.updateRow();\n  };\n\n  Blockly.Toolbox.TreeNode.prototype.onMouseDown = function (a) {};\n\n  Blockly.Toolbox.TreeNode.prototype.onDoubleClick_ = function (a) {};\n\n  Blockly.Toolbox.TreeNode.prototype.onKeyDown = function (a) {\n    if (this.tree.toolbox_.horizontalLayout_) {\n      var b = {},\n          c = goog.events.KeyCodes.DOWN,\n          d = goog.events.KeyCodes.UP;\n      b[goog.events.KeyCodes.RIGHT] = this.rightToLeft_ ? d : c;\n      b[goog.events.KeyCodes.LEFT] = this.rightToLeft_ ? c : d;\n      b[goog.events.KeyCodes.UP] = goog.events.KeyCodes.LEFT;\n      b[goog.events.KeyCodes.DOWN] = goog.events.KeyCodes.RIGHT;\n      a.keyCode = b[a.keyCode] || a.keyCode;\n    }\n\n    return Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(this, a);\n  };\n\n  Blockly.Toolbox.TreeSeparator = function (a) {\n    Blockly.Toolbox.TreeNode.call(this, null, goog.html.SafeHtml.EMPTY, a);\n  };\n\n  goog.inherits(Blockly.Toolbox.TreeSeparator, Blockly.Toolbox.TreeNode);\n  Blockly.Css = {};\n  Blockly.Css.Cursor = {\n    OPEN: \"handopen\",\n    CLOSED: \"handclosed\",\n    DELETE: \"handdelete\"\n  };\n  Blockly.Css.currentCursor_ = \"\";\n  Blockly.Css.injected_ = !1;\n  Blockly.Css.mediaPath_ = \"\";\n\n  Blockly.Css.inject = function (a, b) {\n    if (!Blockly.Css.injected_) {\n      Blockly.Css.injected_ = !0;\n      var c = \".blocklyDraggable {}\\n\";\n      a && (c += Blockly.Css.CONTENT.join(\"\\n\"), Blockly.Css.CONTENT = null, Blockly.FieldDate && (c += Blockly.FieldDate.CSS.join(\"\\n\")));\n      Blockly.Css.mediaPath_ = b.replace(/[\\\\\\/]$/, \"\");\n      c = c.replace(/<<<PATH>>>/g, Blockly.Css.mediaPath_);\n      var d = document.createElement(\"style\");\n      c = document.createTextNode(c);\n      d.appendChild(c);\n      document.head.insertBefore(d, document.head.firstChild);\n    }\n  };\n\n  Blockly.Css.setCursor = function (a) {\n    console.warn(\"Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context\");\n  };\n\n  Blockly.Css.CONTENT = [\".blocklySvg {\", \"background-color: #fff;\", \"outline: none;\", \"overflow: hidden;\", \"position: absolute;\", \"display: block;\", \"}\", \".blocklyWidgetDiv {\", \"display: none;\", \"position: absolute;\", \"z-index: 99999;\", \"}\", \".injectionDiv {\", \"height: 100%;\", \"position: relative;\", \"overflow: hidden;\", \"touch-action: none\", \"}\", \".blocklyNonSelectable {\", \"user-select: none;\", \"-moz-user-select: none;\", \"-ms-user-select: none;\", \"-webkit-user-select: none;\", \"}\", \".blocklyWsDragSurface {\", \"display: none;\", \"position: absolute;\", \"top: 0;\", \"left: 0;\", \"}\", \".blocklyWsDragSurface.blocklyOverflowVisible {\", \"overflow: visible;\", \"}\", \".blocklyBlockDragSurface {\", \"display: none;\", \"position: absolute;\", \"top: 0;\", \"left: 0;\", \"right: 0;\", \"bottom: 0;\", \"overflow: visible !important;\", \"z-index: 50;\", \"}\", \".blocklyBlockCanvas.blocklyCanvasTransitioning,\", \".blocklyBubbleCanvas.blocklyCanvasTransitioning {\", \"transition: transform .5s;\", \"}\", \".blocklyTooltipDiv {\", \"background-color: #ffffc7;\", \"border: 1px solid #ddc;\", \"box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\", \"color: #000;\", \"display: none;\", \"font-family: sans-serif;\", \"font-size: 9pt;\", \"opacity: .9;\", \"padding: 2px;\", \"position: absolute;\", \"z-index: 100000;\", \"}\", \".blocklyDropDownDiv {\", \"position: fixed;\", \"left: 0;\", \"top: 0;\", \"z-index: 1000;\", \"display: none;\", \"border: 1px solid;\", \"border-radius: 2px;\", \"padding: 4px;\", \"-webkit-user-select: none;\", \"}\", \".blocklyDropDownContent {\", \"max-height: 300px;\", \"overflow: auto;\", \"overflow-x: hidden;\", \"}\", \".blocklyDropDownArrow {\", \"position: absolute;\", \"left: 0;\", \"top: 0;\", \"width: 16px;\", \"height: 16px;\", \"z-index: -1;\", \"background-color: inherit;\", \"border-color: inherit;\", \"}\", \".blocklyDropDownButton {\", \"display: inline-block;\", \"float: left;\", \"padding: 0;\", \"margin: 4px;\", \"border-radius: 4px;\", \"outline: none;\", \"border: 1px solid;\", \"transition: box-shadow .1s;\", \"cursor: pointer;\", \"}\", \".arrowTop {\", \"border-top: 1px solid;\", \"border-left: 1px solid;\", \"border-top-left-radius: 4px;\", \"border-color: inherit;\", \"}\", \".arrowBottom {\", \"border-bottom: 1px solid;\", \"border-right: 1px solid;\", \"border-bottom-right-radius: 4px;\", \"border-color: inherit;\", \"}\", \".blocklyResizeSE {\", \"cursor: se-resize;\", \"fill: #aaa;\", \"}\", \".blocklyResizeSW {\", \"cursor: sw-resize;\", \"fill: #aaa;\", \"}\", \".blocklyResizeLine {\", \"stroke: #515A5A;\", \"stroke-width: 1;\", \"}\", \".blocklyHighlightedConnectionPath {\", \"fill: none;\", \"stroke: #fc3;\", \"stroke-width: 4px;\", \"}\", \".blocklyPathLight {\", \"fill: none;\", \"stroke-linecap: round;\", \"stroke-width: 1;\", \"}\", \".blocklySelected>.blocklyPath {\", \"stroke: #fc3;\", \"stroke-width: 3px;\", \"}\", \".blocklySelected>.blocklyPathLight {\", \"display: none;\", \"}\", \".blocklyDraggable {\", 'cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;', \"cursor: grab;\", \"cursor: -webkit-grab;\", \"}\", \".blocklyDragging {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyDraggable:active {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyBlockDragSurface .blocklyDraggable {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyDragging.blocklyDraggingDelete {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyToolboxDelete {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyToolboxGrab {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyDragging>.blocklyPath,\", \".blocklyDragging>.blocklyPathLight {\", \"fill-opacity: .8;\", \"stroke-opacity: .8;\", \"}\", \".blocklyDragging>.blocklyPathDark {\", \"display: none;\", \"}\", \".blocklyDisabled>.blocklyPath {\", \"fill-opacity: .5;\", \"stroke-opacity: .5;\", \"}\", \".blocklyDisabled>.blocklyPathLight,\", \".blocklyDisabled>.blocklyPathDark {\", \"display: none;\", \"}\", \".blocklyInsertionMarker>.blocklyPath,\", \".blocklyInsertionMarker>.blocklyPathLight,\", \".blocklyInsertionMarker>.blocklyPathDark {\", \"fill-opacity: .2;\", \"stroke: none\", \"}\", \".blocklyReplaceable .blocklyPath {\", \"fill-opacity: 0.5;\", \"}\", \".blocklyReplaceable .blocklyPathLight,\", \".blocklyReplaceable .blocklyPathDark {\", \"display: none;\", \"}\", \".blocklyText {\", \"cursor: default;\", \"fill: #fff;\", \"font-family: sans-serif;\", \"font-size: 11pt;\", \"}\", \".blocklyNonEditableText>text {\", \"pointer-events: none;\", \"}\", \".blocklyNonEditableText>rect,\", \".blocklyEditableText>rect {\", \"fill: #fff;\", \"fill-opacity: .6;\", \"}\", \".blocklyNonEditableText>text,\", \".blocklyEditableText>text {\", \"fill: #000;\", \"}\", \".blocklyEditableText:hover>rect {\", \"stroke: #fff;\", \"stroke-width: 2;\", \"}\", \".blocklyBubbleText {\", \"fill: #000;\", \"}\", \".blocklyFlyout {\", \"position: absolute;\", \"z-index: 20;\", \"}\", \".blocklyFlyoutButton {\", \"fill: #888;\", \"cursor: default;\", \"}\", \".blocklyFlyoutButtonShadow {\", \"fill: #666;\", \"}\", \".blocklyFlyoutButton:hover {\", \"fill: #aaa;\", \"}\", \".blocklyFlyoutLabel {\", \"cursor: default;\", \"}\", \".blocklyFlyoutLabelBackground {\", \"opacity: 0;\", \"}\", \".blocklyFlyoutLabelText {\", \"fill: #000;\", \"}\", \".blocklySvg text, .blocklyBlockDragSurface text {\", \"user-select: none;\", \"-moz-user-select: none;\", \"-ms-user-select: none;\", \"-webkit-user-select: none;\", \"cursor: inherit;\", \"}\", \".blocklyHidden {\", \"display: none;\", \"}\", \".blocklyFieldDropdown:not(.blocklyHidden) {\", \"display: block;\", \"}\", \".blocklyIconGroup {\", \"cursor: default;\", \"}\", \".blocklyIconGroup:not(:hover),\", \".blocklyIconGroupReadonly {\", \"opacity: .6;\", \"}\", \".blocklyIconShape {\", \"fill: #00f;\", \"stroke: #fff;\", \"stroke-width: 1px;\", \"}\", \".blocklyIconSymbol {\", \"fill: #fff;\", \"}\", \".blocklyMinimalBody {\", \"margin: 0;\", \"padding: 0;\", \"}\", \".blocklyCommentForeignObject {\", \"position: relative;\", \"z-index: 0;\", \"}\", \".blocklyCommentRect {\", \"fill: #E7DE8E;\", \"stroke: #bcA903;\", \"stroke-width: 1px\", \"}\", \".blocklyCommentTarget {\", \"fill: transparent;\", \"stroke: #bcA903;\", \"}\", \".blocklyCommentTargetFocused {\", \"fill: none;\", \"}\", \".blocklyCommentHandleTarget {\", \"fill: none;\", \"}\", \".blocklyCommentHandleTargetFocused {\", \"fill: transparent;\", \"}\", \".blocklyFocused>.blocklyCommentRect {\", \"fill: #B9B272;\", \"stroke: #B9B272;\", \"}\", \".blocklySelected>.blocklyCommentTarget {\", \"stroke: #fc3;\", \"stroke-width: 3px;\", \"}\", \".blocklyCommentTextarea {\", \"background-color: #fef49c;\", \"border: 0;\", \"outline: 0;\", \"margin: 0;\", \"padding: 3px;\", \"resize: none;\", \"display: block;\", \"overflow: hidden;\", \"}\", \".blocklyCommentDeleteIcon {\", \"cursor: pointer;\", \"fill: #000;\", \"display: none\", \"}\", \".blocklySelected > .blocklyCommentDeleteIcon {\", \"display: block\", \"}\", \".blocklyDeleteIconShape {\", \"fill: #000;\", \"stroke: #000;\", \"stroke-width: 1px;\", \"}\", \".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\", \"stroke: #fc3;\", \"}\", \".blocklyHtmlInput {\", \"border: none;\", \"border-radius: 4px;\", \"font-family: sans-serif;\", \"height: 100%;\", \"margin: 0;\", \"outline: none;\", \"padding: 0 1px;\", \"width: 100%\", \"}\", \".blocklyMainBackground {\", \"stroke-width: 1;\", \"stroke: #c6c6c6;\", \"}\", \".blocklyMutatorBackground {\", \"fill: #fff;\", \"stroke: #ddd;\", \"stroke-width: 1;\", \"}\", \".blocklyFlyoutBackground {\", \"fill: #ddd;\", \"fill-opacity: .8;\", \"}\", \".blocklyTransparentBackground {\", \"opacity: 0;\", \"}\", \".blocklyMainWorkspaceScrollbar {\", \"z-index: 20;\", \"}\", \".blocklyFlyoutScrollbar {\", \"z-index: 30;\", \"}\", \".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {\", \"position: absolute;\", \"outline: none;\", \"}\", \".blocklyScrollbarBackground {\", \"opacity: 0;\", \"}\", \".blocklyScrollbarHandle {\", \"fill: #ccc;\", \"}\", \".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\", \".blocklyScrollbarHandle:hover {\", \"fill: #bbb;\", \"}\", \".blocklyZoom>image, .blocklyZoom>svg>image {\", \"opacity: .4;\", \"}\", \".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\", \"opacity: .6;\", \"}\", \".blocklyZoom>image:active, .blocklyZoom>svg>image:active {\", \"opacity: .8;\", \"}\", \".blocklyFlyout .blocklyScrollbarHandle {\", \"fill: #bbb;\", \"}\", \".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\", \".blocklyFlyout .blocklyScrollbarHandle:hover {\", \"fill: #aaa;\", \"}\", \".blocklyInvalidInput {\", \"background: #faa;\", \"}\", \".blocklyAngleCircle {\", \"stroke: #444;\", \"stroke-width: 1;\", \"fill: #ddd;\", \"fill-opacity: .8;\", \"}\", \".blocklyAngleMarks {\", \"stroke: #444;\", \"stroke-width: 1;\", \"}\", \".blocklyAngleGauge {\", \"fill: #f88;\", \"fill-opacity: .8;\", \"}\", \".blocklyAngleLine {\", \"stroke: #f00;\", \"stroke-width: 2;\", \"stroke-linecap: round;\", \"pointer-events: none;\", \"}\", \".blocklyContextMenu {\", \"border-radius: 4px;\", \"max-height: 100%;\", \"}\", \".blocklyDropdownMenu {\", \"padding: 0 !important;\", \"}\", \".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,\", \".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {\", \"background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\", \"}\", \".blocklyToolboxDiv {\", \"background-color: #ddd;\", \"overflow-x: visible;\", \"overflow-y: auto;\", \"position: absolute;\", \"user-select: none;\", \"-moz-user-select: none;\", \"-ms-user-select: none;\", \"-webkit-user-select: none;\", \"z-index: 70;\", \"-webkit-tap-highlight-color: transparent;\", \"}\", \".blocklyTreeRoot {\", \"padding: 4px 0;\", \"}\", \".blocklyTreeRoot:focus {\", \"outline: none;\", \"}\", \".blocklyTreeRow {\", \"height: 22px;\", \"line-height: 22px;\", \"margin-bottom: 3px;\", \"padding-right: 8px;\", \"white-space: nowrap;\", \"}\", \".blocklyHorizontalTree {\", \"float: left;\", \"margin: 1px 5px 8px 0;\", \"}\", \".blocklyHorizontalTreeRtl {\", \"float: right;\", \"margin: 1px 0 8px 5px;\", \"}\", '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {', \"margin-left: 8px;\", \"}\", \".blocklyTreeRow:not(.blocklyTreeSelected):hover {\", \"background-color: #e4e4e4;\", \"}\", \".blocklyTreeSeparator {\", \"border-bottom: solid #e5e5e5 1px;\", \"height: 0;\", \"margin: 5px 0;\", \"}\", \".blocklyTreeSeparatorHorizontal {\", \"border-right: solid #e5e5e5 1px;\", \"width: 0;\", \"padding: 5px 0;\", \"margin: 0 5px;\", \"}\", \".blocklyTreeIcon {\", \"background-image: url(<<<PATH>>>/sprites.png);\", \"height: 16px;\", \"vertical-align: middle;\", \"width: 16px;\", \"}\", \".blocklyTreeIconClosedLtr {\", \"background-position: -32px -1px;\", \"}\", \".blocklyTreeIconClosedRtl {\", \"background-position: 0 -1px;\", \"}\", \".blocklyTreeIconOpen {\", \"background-position: -16px -1px;\", \"}\", \".blocklyTreeSelected>.blocklyTreeIconClosedLtr {\", \"background-position: -32px -17px;\", \"}\", \".blocklyTreeSelected>.blocklyTreeIconClosedRtl {\", \"background-position: 0 -17px;\", \"}\", \".blocklyTreeSelected>.blocklyTreeIconOpen {\", \"background-position: -16px -17px;\", \"}\", \".blocklyTreeIconNone,\", \".blocklyTreeSelected>.blocklyTreeIconNone {\", \"background-position: -48px -1px;\", \"}\", \".blocklyTreeLabel {\", \"cursor: default;\", \"font-family: sans-serif;\", \"font-size: 16px;\", \"padding: 0 3px;\", \"vertical-align: middle;\", \"}\", \".blocklyToolboxDelete .blocklyTreeLabel {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyTreeSelected .blocklyTreeLabel {\", \"color: #fff;\", \"}\", \".blocklyColourTable {\", \"border-collapse: collapse;\", \"}\", \".blocklyColourTable>tr>td {\", \"border: 1px solid #666;\", \"padding: 0;\", \"}\", \".blocklyColourTable>tr>td>div {\", \"border: 1px solid #666;\", \"height: 13px;\", \"width: 15px;\", \"}\", \".blocklyColourTable>tr>td>div:hover {\", \"border: 1px solid #fff;\", \"}\", \".blocklyColourSelected, .blocklyColourSelected:hover {\", \"border: 1px solid #000 !important;\", \"}\", \".blocklyWidgetDiv .goog-menu {\", \"background: #fff;\", \"border-color: #ccc #666 #666 #ccc;\", \"border-style: solid;\", \"border-width: 1px;\", \"cursor: default;\", \"font: normal 13px Arial, sans-serif;\", \"margin: 0;\", \"outline: none;\", \"padding: 4px 0;\", \"position: absolute;\", \"overflow-y: auto;\", \"overflow-x: hidden;\", \"max-height: 100%;\", \"z-index: 20000;\", \"}\", \".blocklyDropDownDiv .goog-menu {\", \"cursor: default;\", 'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;', \"outline: none;\", \"z-index: 20000;\", \"}\", \".blocklyWidgetDiv .goog-menuitem, \", \".blocklyDropDownDiv .goog-menuitem {\", \"color: #000;\", \"font: normal 13px Arial, sans-serif;\", \"list-style: none;\", \"margin: 0;\", \"min-width: 7em;\", \"padding: 5px 5px 5px 28px;\", \"white-space: nowrap;\", \"}\", \".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, \", \".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {\", \"padding-left: 5px;\", \"padding-right: 28px;\", \"}\", \".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, \", \".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, \", \".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, \", \".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { \", \"padding-left: 12px;\", \"}\", \".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, \", \".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {\", \"padding-right: 20px;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-content, \", \".blocklyDropDownDiv .goog-menuitem-content {\", \"color: #000;\", \"font: normal 13px Arial, sans-serif;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, \", \".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, \", \".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, \", \".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {\", \"color: #ccc !important;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, \", \".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {\", \"opacity: 0.3;\", \"filter: alpha(opacity=30);\", \"}\", \".blocklyWidgetDiv .goog-menuitem-highlight, \", \".blocklyWidgetDiv .goog-menuitem-hover {\", \"background-color: #d6e9f8;\", \"border-color: #d6e9f8;\", \"border-style: dotted;\", \"border-width: 1px 0;\", \"padding-bottom: 4px;\", \"padding-top: 4px;\", \"}\", \".blocklyDropDownDiv .goog-menuitem-highlight, \", \".blocklyDropDownDiv .goog-menuitem-hover {\", \"background-color: rgba(0, 0, 0, 0.2);\", \"}\", \".blocklyWidgetDiv .goog-menuitem-checkbox, \", \".blocklyWidgetDiv .goog-menuitem-icon, \", \".blocklyDropDownDiv .goog-menuitem-checkbox, \", \".blocklyDropDownDiv .goog-menuitem-icon {\", \"background-repeat: no-repeat;\", \"height: 16px;\", \"left: 6px;\", \"position: absolute;\", \"right: auto;\", \"vertical-align: middle;\", \"width: 16px;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, \", \".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, \", \".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, \", \".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {\", \"left: auto;\", \"right: 6px;\", \"}\", \".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, \", \".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, \", \".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, \", \".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {\", \"position: static;\", \"float: left;\", \"margin-left: -24px;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, \", \".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, \", \".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, \", \".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {\", \"float: right;\", \"margin-right: -24px;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-accel, \", \".blocklyDropDownDiv .goog-menuitem-accel {\", \"color: #999;\", \"direction: ltr;\", \"left: auto;\", \"padding: 0 6px;\", \"position: absolute;\", \"right: 0;\", \"text-align: right;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, \", \".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {\", \"left: 0;\", \"right: auto;\", \"text-align: left;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, \", \".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {\", \"text-decoration: underline;\", \"}\", \".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, \", \".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {\", \"color: #999;\", \"font-size: 12px;\", \"padding-left: 4px;\", \"}\", \".blocklyWidgetDiv .goog-menuseparator, \", \".blocklyDropDownDiv .goog-menuseparator {\", \"border-top: 1px solid #ccc;\", \"margin: 4px 0;\", \"padding: 0;\", \"}\", \"\"];\n  Blockly.WidgetDiv = {};\n  Blockly.WidgetDiv.DIV = null;\n  Blockly.WidgetDiv.owner_ = null;\n  Blockly.WidgetDiv.dispose_ = null;\n\n  Blockly.WidgetDiv.createDom = function () {\n    Blockly.WidgetDiv.DIV || (Blockly.WidgetDiv.DIV = document.createElement(\"div\"), Blockly.WidgetDiv.DIV.className = \"blocklyWidgetDiv\", document.body.appendChild(Blockly.WidgetDiv.DIV));\n  };\n\n  Blockly.WidgetDiv.show = function (a, b, c) {\n    Blockly.WidgetDiv.hide();\n    Blockly.WidgetDiv.owner_ = a;\n    Blockly.WidgetDiv.dispose_ = c;\n    a = goog.style.getViewportPageOffset(document);\n    Blockly.WidgetDiv.DIV.style.top = a.y + \"px\";\n    Blockly.WidgetDiv.DIV.style.direction = b ? \"rtl\" : \"ltr\";\n    Blockly.WidgetDiv.DIV.style.display = \"block\";\n  };\n\n  Blockly.WidgetDiv.hide = function () {\n    Blockly.WidgetDiv.owner_ && (Blockly.WidgetDiv.owner_ = null, Blockly.WidgetDiv.DIV.style.display = \"none\", Blockly.WidgetDiv.DIV.style.left = \"\", Blockly.WidgetDiv.DIV.style.top = \"\", Blockly.WidgetDiv.dispose_ && Blockly.WidgetDiv.dispose_(), Blockly.WidgetDiv.dispose_ = null, Blockly.WidgetDiv.DIV.innerHTML = \"\");\n  };\n\n  Blockly.WidgetDiv.isVisible = function () {\n    return !!Blockly.WidgetDiv.owner_;\n  };\n\n  Blockly.WidgetDiv.hideIfOwner = function (a) {\n    Blockly.WidgetDiv.owner_ == a && Blockly.WidgetDiv.hide();\n  };\n\n  Blockly.WidgetDiv.positionInternal_ = function (a, b, c) {\n    Blockly.WidgetDiv.DIV.style.left = a + \"px\";\n    Blockly.WidgetDiv.DIV.style.top = b + \"px\";\n    Blockly.WidgetDiv.DIV.style.height = c + \"px\";\n  };\n\n  Blockly.WidgetDiv.positionWithAnchor = function (a, b, c, d) {\n    var e = Blockly.WidgetDiv.calculateY_(a, b, c);\n    a = Blockly.WidgetDiv.calculateX_(a, b, c, d);\n    0 > e ? Blockly.WidgetDiv.positionInternal_(a, 0, c.height + e) : Blockly.WidgetDiv.positionInternal_(a, e, c.height);\n  };\n\n  Blockly.WidgetDiv.calculateX_ = function (a, b, c, d) {\n    if (d) return b = Math.max(b.right - c.width, a.left), Math.min(b, a.right - c.width);\n    b = Math.min(b.left, a.right - c.width);\n    return Math.max(b, a.left);\n  };\n\n  Blockly.WidgetDiv.calculateY_ = function (a, b, c) {\n    return b.bottom + c.height >= a.bottom ? b.top - c.height : b.bottom;\n  };\n\n  Blockly.inject = function (a, b) {\n    Blockly.checkBlockColourConstants();\n    \"string\" == typeof a && (a = document.getElementById(a) || document.querySelector(a));\n    if (!Blockly.utils.dom.containsNode(document, a)) throw Error(\"Error: container is not in current document.\");\n    var c = new Blockly.Options(b || {}),\n        d = document.createElement(\"div\");\n    d.className = \"injectionDiv\";\n    a.appendChild(d);\n    var e = Blockly.createDom_(d, c),\n        f = new Blockly.BlockDragSurfaceSvg(d);\n    d = new Blockly.WorkspaceDragSurfaceSvg(d);\n    e = Blockly.createMainWorkspace_(e, c, f, d);\n    Blockly.setTheme(c.theme);\n    Blockly.init_(e);\n    Blockly.mainWorkspace = e;\n    Blockly.svgResize(e);\n    return e;\n  };\n\n  Blockly.createDom_ = function (a, b) {\n    a.setAttribute(\"dir\", \"LTR\");\n    goog.ui.Component.setDefaultRightToLeft(b.RTL);\n    Blockly.Css.inject(b.hasCss, b.pathToMedia);\n    var c = Blockly.utils.dom.createSvgElement(\"svg\", {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklySvg\"\n    }, a),\n        d = Blockly.utils.dom.createSvgElement(\"defs\", {}, c),\n        e = String(Math.random()).substring(2),\n        f = Blockly.utils.dom.createSvgElement(\"filter\", {\n      id: \"blocklyEmbossFilter\" + e\n    }, d);\n    Blockly.utils.dom.createSvgElement(\"feGaussianBlur\", {\n      \"in\": \"SourceAlpha\",\n      stdDeviation: 1,\n      result: \"blur\"\n    }, f);\n    var g = Blockly.utils.dom.createSvgElement(\"feSpecularLighting\", {\n      \"in\": \"blur\",\n      surfaceScale: 1,\n      specularConstant: .5,\n      specularExponent: 10,\n      \"lighting-color\": \"white\",\n      result: \"specOut\"\n    }, f);\n    Blockly.utils.dom.createSvgElement(\"fePointLight\", {\n      x: -5E3,\n      y: -1E4,\n      z: 2E4\n    }, g);\n    Blockly.utils.dom.createSvgElement(\"feComposite\", {\n      \"in\": \"specOut\",\n      in2: \"SourceAlpha\",\n      operator: \"in\",\n      result: \"specOut\"\n    }, f);\n    Blockly.utils.dom.createSvgElement(\"feComposite\", {\n      \"in\": \"SourceGraphic\",\n      in2: \"specOut\",\n      operator: \"arithmetic\",\n      k1: 0,\n      k2: 1,\n      k3: 1,\n      k4: 0\n    }, f);\n    b.embossFilterId = f.id;\n    f = Blockly.utils.dom.createSvgElement(\"pattern\", {\n      id: \"blocklyDisabledPattern\" + e,\n      patternUnits: \"userSpaceOnUse\",\n      width: 10,\n      height: 10\n    }, d);\n    Blockly.utils.dom.createSvgElement(\"rect\", {\n      width: 10,\n      height: 10,\n      fill: \"#aaa\"\n    }, f);\n    Blockly.utils.dom.createSvgElement(\"path\", {\n      d: \"M 0 0 L 10 10 M 10 0 L 0 10\",\n      stroke: \"#cc0\"\n    }, f);\n    b.disabledPatternId = f.id;\n    b.gridPattern = Blockly.Grid.createDom(e, b.gridOptions, d);\n    return c;\n  };\n\n  Blockly.createMainWorkspace_ = function (a, b, c, d) {\n    b.parentWorkspace = null;\n    var e = new Blockly.WorkspaceSvg(b, c, d);\n    e.scale = b.zoomOptions.startScale;\n    a.appendChild(e.createDom(\"blocklyMainBackground\"));\n    !b.hasCategories && b.languageTree && (c = e.addFlyout_(\"svg\"), Blockly.utils.dom.insertAfter(c, a));\n    b.hasTrashcan && e.addTrashcan();\n    b.zoomOptions && b.zoomOptions.controls && e.addZoomControls();\n    e.translate(0, 0);\n    Blockly.mainWorkspace = e;\n    b.readOnly || e.isMovable() || e.addChangeListener(function (a) {\n      if (!e.isDragging() && !e.isMovable() && -1 != Blockly.Events.BUMP_EVENTS.indexOf(a.type)) {\n        var b = Object.create(null),\n            c = e.getMetrics(),\n            d = e.scale;\n        b.viewLeft = c.viewLeft / d;\n        b.viewTop = c.viewTop / d;\n        b.viewRight = (c.viewLeft + c.viewWidth) / d;\n        b.viewBottom = (c.viewTop + c.viewHeight) / d;\n        e.isContentBounded() ? (c = e.getBlocksBoundingBox(), b.contentLeft = c.left, b.contentTop = c.top, b.contentRight = c.right, b.contentBottom = c.bottom) : (b.contentLeft = c.contentLeft / d, b.contentTop = c.contentTop / d, b.contentRight = (c.contentLeft + c.contentWidth) / d, b.contentBottom = (c.contentTop + c.contentHeight) / d);\n\n        if (b.contentTop < b.viewTop || b.contentBottom > b.viewBottom || b.contentLeft < b.viewLeft || b.contentRight > b.viewRight) {\n          c = null;\n          a && (c = Blockly.Events.getGroup(), Blockly.Events.setGroup(a.group));\n\n          switch (a.type) {\n            case Blockly.Events.BLOCK_CREATE:\n            case Blockly.Events.BLOCK_MOVE:\n              var f = e.getBlockById(a.blockId);\n              f = f.getRootBlock();\n              break;\n\n            case Blockly.Events.COMMENT_CREATE:\n            case Blockly.Events.COMMENT_MOVE:\n              f = e.getCommentById(a.commentId);\n          }\n\n          if (f) {\n            d = f.getBoundingRectangle();\n            var n = b.viewTop - d.top;\n            0 < n && f.moveBy(0, n);\n            n = b.viewBottom - d.bottom;\n            0 > n && f.moveBy(0, n);\n            n = b.viewLeft - d.left;\n            0 < n && f.moveBy(n, 0);\n            b = b.viewRight - d.right;\n            0 > b && f.moveBy(b, 0);\n          }\n\n          a && (a.group || console.log(\"WARNING: Moved object in bounds but there was no event group. This may break undo.\"), Blockly.Events.setGroup(c));\n        }\n      }\n    });\n    Blockly.svgResize(e);\n    Blockly.WidgetDiv.createDom();\n    Blockly.DropDownDiv.createDom();\n    Blockly.Tooltip.createDom();\n    return e;\n  };\n\n  Blockly.init_ = function (a) {\n    var b = a.options,\n        c = a.getParentSvg();\n    Blockly.bindEventWithChecks_(c.parentNode, \"contextmenu\", null, function (a) {\n      Blockly.utils.isTargetInput(a) || a.preventDefault();\n    });\n    c = Blockly.bindEventWithChecks_(window, \"resize\", null, function () {\n      Blockly.hideChaff(!0);\n      Blockly.svgResize(a);\n    });\n    a.setResizeHandlerWrapper(c);\n    Blockly.inject.bindDocumentEvents_();\n    b.languageTree && (a.toolbox_ ? a.toolbox_.init(a) : a.flyout_ && (a.flyout_.init(a), a.flyout_.show(b.languageTree.childNodes), a.flyout_.scrollToStart()));\n    c = Blockly.Scrollbar.scrollbarThickness;\n    b.hasTrashcan && (c = a.trashcan.init(c));\n    b.zoomOptions && b.zoomOptions.controls && a.zoomControls_.init(c);\n    b.moveOptions && b.moveOptions.scrollbars ? (a.scrollbar = new Blockly.ScrollbarPair(a), a.scrollbar.resize()) : a.setMetrics({\n      x: .5,\n      y: .5\n    });\n    b.hasSounds && Blockly.inject.loadSounds_(b.pathToMedia, a);\n  };\n\n  Blockly.inject.bindDocumentEvents_ = function () {\n    Blockly.documentEventsBound_ || (Blockly.bindEventWithChecks_(document, \"scroll\", null, function () {\n      for (var a = Blockly.Workspace.getAll(), b = 0, c; c = a[b]; b++) c.updateInverseScreenCTM && c.updateInverseScreenCTM();\n    }), Blockly.bindEventWithChecks_(document, \"keydown\", null, Blockly.onKeyDown_), Blockly.bindEvent_(document, \"touchend\", null, Blockly.longStop_), Blockly.bindEvent_(document, \"touchcancel\", null, Blockly.longStop_), Blockly.utils.userAgent.IPAD && Blockly.bindEventWithChecks_(window, \"orientationchange\", document, function () {\n      Blockly.svgResize(Blockly.getMainWorkspace());\n    }));\n    Blockly.documentEventsBound_ = !0;\n  };\n\n  Blockly.inject.loadSounds_ = function (a, b) {\n    var c = b.getAudioManager();\n    c.load([a + \"click.mp3\", a + \"click.wav\", a + \"click.ogg\"], \"click\");\n    c.load([a + \"disconnect.wav\", a + \"disconnect.mp3\", a + \"disconnect.ogg\"], \"disconnect\");\n    c.load([a + \"delete.mp3\", a + \"delete.ogg\", a + \"delete.wav\"], \"delete\");\n\n    var d = [],\n        e = function () {\n      for (; d.length;) Blockly.unbindEvent_(d.pop());\n\n      c.preload();\n    };\n\n    d.push(Blockly.bindEventWithChecks_(document, \"mousemove\", null, e, !0));\n    d.push(Blockly.bindEventWithChecks_(document, \"touchstart\", null, e, !0));\n  };\n\n  Blockly.updateToolbox = function (a) {\n    console.warn(\"Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.\");\n    Blockly.getMainWorkspace().updateToolbox(a);\n  };\n\n  var CLOSURE_DEFINES = {\n    \"goog.DEBUG\": !1\n  };\n  Blockly.mainWorkspace = null;\n  Blockly.selected = null;\n  Blockly.draggingConnections_ = [];\n  Blockly.clipboardXml_ = null;\n  Blockly.clipboardSource_ = null;\n  Blockly.clipboardTypeCounts_ = null;\n  Blockly.cache3dSupported_ = null;\n  Blockly.theme_ = null;\n\n  Blockly.svgSize = function (a) {\n    return {\n      width: a.cachedWidth_,\n      height: a.cachedHeight_\n    };\n  };\n\n  Blockly.resizeSvgContents = function (a) {\n    a.resizeContents();\n  };\n\n  Blockly.svgResize = function (a) {\n    for (; a.options.parentWorkspace;) a = a.options.parentWorkspace;\n\n    var b = a.getParentSvg(),\n        c = b.parentNode;\n\n    if (c) {\n      var d = c.offsetWidth;\n      c = c.offsetHeight;\n      b.cachedWidth_ != d && (b.setAttribute(\"width\", d + \"px\"), b.cachedWidth_ = d);\n      b.cachedHeight_ != c && (b.setAttribute(\"height\", c + \"px\"), b.cachedHeight_ = c);\n      a.resize();\n    }\n  };\n\n  Blockly.onKeyDown_ = function (a) {\n    var b = Blockly.mainWorkspace;\n\n    if (!(b.options.readOnly || Blockly.utils.isTargetInput(a) || b.rendered && !b.isVisible())) {\n      var c = !1;\n      if (27 == a.keyCode) Blockly.hideChaff();else if (8 == a.keyCode || 46 == a.keyCode) {\n        a.preventDefault();\n        if (Blockly.Gesture.inProgress()) return;\n        Blockly.selected && Blockly.selected.isDeletable() && (c = !0);\n      } else if (a.altKey || a.ctrlKey || a.metaKey) {\n        if (Blockly.Gesture.inProgress()) return;\n        Blockly.selected && Blockly.selected.isDeletable() && Blockly.selected.isMovable() && (67 == a.keyCode ? (Blockly.hideChaff(), Blockly.copy_(Blockly.selected)) : 88 != a.keyCode || Blockly.selected.workspace.isFlyout || (Blockly.copy_(Blockly.selected), c = !0));\n        86 == a.keyCode ? Blockly.clipboardXml_ && (a = Blockly.clipboardSource_, a.isFlyout && (a = a.targetWorkspace), Blockly.clipboardTypeCounts_ && a.isCapacityAvailable(Blockly.clipboardTypeCounts_) && (Blockly.Events.setGroup(!0), a.paste(Blockly.clipboardXml_), Blockly.Events.setGroup(!1))) : 90 == a.keyCode && (Blockly.hideChaff(), b.undo(a.shiftKey));\n      }\n      c && !Blockly.selected.workspace.isFlyout && (Blockly.Events.setGroup(!0), Blockly.hideChaff(), Blockly.selected.dispose(!0, !0), Blockly.Events.setGroup(!1));\n    }\n  };\n\n  Blockly.copy_ = function (a) {\n    if (a.isComment) var b = a.toXmlWithXY();else {\n      b = Blockly.Xml.blockToDom(a, !0);\n      Blockly.Xml.deleteNext(b);\n      var c = a.getRelativeToSurfaceXY();\n      b.setAttribute(\"x\", a.RTL ? -c.x : c.x);\n      b.setAttribute(\"y\", c.y);\n    }\n    Blockly.clipboardXml_ = b;\n    Blockly.clipboardSource_ = a.workspace;\n    Blockly.clipboardTypeCounts_ = a.isComment ? null : Blockly.utils.getBlockTypeCounts(a, !0);\n  };\n\n  Blockly.duplicate_ = function (a) {\n    var b = Blockly.clipboardXml_,\n        c = Blockly.clipboardSource_;\n    Blockly.copy_(a);\n    a.workspace.paste(Blockly.clipboardXml_);\n    Blockly.clipboardXml_ = b;\n    Blockly.clipboardSource_ = c;\n  };\n\n  Blockly.onContextMenu_ = function (a) {\n    Blockly.utils.isTargetInput(a) || a.preventDefault();\n  };\n\n  Blockly.hideChaff = function (a) {\n    Blockly.Tooltip.hide();\n    Blockly.WidgetDiv.hide();\n    Blockly.DropDownDiv.hideWithoutAnimation();\n    var b = Blockly.getMainWorkspace();\n    b.trashcan && b.trashcan.flyout_ && b.trashcan.flyout_.hide();\n    a || b.toolbox_ && b.toolbox_.flyout_ && b.toolbox_.flyout_.autoClose && b.toolbox_.clearSelection();\n  };\n\n  Blockly.addChangeListener = function (a) {\n    console.warn(\"Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.\");\n    return Blockly.getMainWorkspace().addChangeListener(a);\n  };\n\n  Blockly.getMainWorkspace = function () {\n    return Blockly.mainWorkspace;\n  };\n\n  Blockly.alert = function (a, b) {\n    alert(a);\n    b && b();\n  };\n\n  Blockly.confirm = function (a, b) {\n    b(confirm(a));\n  };\n\n  Blockly.prompt = function (a, b, c) {\n    c(prompt(a, b));\n  };\n\n  Blockly.jsonInitFactory_ = function (a) {\n    return function () {\n      this.jsonInit(a);\n    };\n  };\n\n  Blockly.defineBlocksWithJsonArray = function (a) {\n    for (var b = 0; b < a.length; b++) {\n      var c = a[b];\n\n      if (c) {\n        var d = c.type;\n        null == d || \"\" === d ? console.warn(\"Block definition #\" + b + \" in JSON array is missing a type attribute. Skipping.\") : (Blockly.Blocks[d] && console.warn(\"Block definition #\" + b + ' in JSON array overwrites prior definition of \"' + d + '\".'), Blockly.Blocks[d] = {\n          init: Blockly.jsonInitFactory_(c)\n        });\n      } else console.warn(\"Block definition #\" + b + \" in JSON array is \" + c + \". Skipping.\");\n    }\n  };\n\n  Blockly.bindEventWithChecks_ = function (a, b, c, d, e, f) {\n    var g = !1,\n        h = function (a) {\n      var b = !e;\n      a = Blockly.Touch.splitEventByTouches(a);\n\n      for (var f = 0, h; h = a[f]; f++) if (!b || Blockly.Touch.shouldHandleEvent(h)) Blockly.Touch.setClientFromTouch(h), c ? d.call(c, h) : d(h), g = !0;\n    },\n        k = [];\n\n    if (Blockly.utils.global.PointerEvent && b in Blockly.Touch.TOUCH_MAP) for (var l = 0, n; n = Blockly.Touch.TOUCH_MAP[b][l]; l++) a.addEventListener(n, h, !1), k.push([a, n, h]);else if (a.addEventListener(b, h, !1), k.push([a, b, h]), b in Blockly.Touch.TOUCH_MAP) {\n      var m = function (a) {\n        h(a);\n        var b = !f;\n        g && b && a.preventDefault();\n      };\n\n      for (l = 0; n = Blockly.Touch.TOUCH_MAP[b][l]; l++) a.addEventListener(n, m, !1), k.push([a, n, m]);\n    }\n    return k;\n  };\n\n  Blockly.bindEvent_ = function (a, b, c, d) {\n    var e = function (a) {\n      c ? d.call(c, a) : d(a);\n    },\n        f = [];\n\n    if (Blockly.utils.global.PointerEvent && b in Blockly.Touch.TOUCH_MAP) for (var g = 0, h; h = Blockly.Touch.TOUCH_MAP[b][g]; g++) a.addEventListener(h, e, !1), f.push([a, h, e]);else if (a.addEventListener(b, e, !1), f.push([a, b, e]), b in Blockly.Touch.TOUCH_MAP) {\n      var k = function (a) {\n        if (a.changedTouches && 1 == a.changedTouches.length) {\n          var b = a.changedTouches[0];\n          a.clientX = b.clientX;\n          a.clientY = b.clientY;\n        }\n\n        e(a);\n        a.preventDefault();\n      };\n\n      for (g = 0; h = Blockly.Touch.TOUCH_MAP[b][g]; g++) a.addEventListener(h, k, !1), f.push([a, h, k]);\n    }\n    return f;\n  };\n\n  Blockly.unbindEvent_ = function (a) {\n    for (; a.length;) {\n      var b = a.pop(),\n          c = b[2];\n      b[0].removeEventListener(b[1], c, !1);\n    }\n\n    return c;\n  };\n\n  Blockly.isNumber = function (a) {\n    return /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(a);\n  };\n\n  Blockly.hueToHex = function (a) {\n    return Blockly.utils.colour.hsvToHex(a, Blockly.HSV_SATURATION, 255 * Blockly.HSV_VALUE);\n  };\n\n  Blockly.checkBlockColourConstants = function () {\n    Blockly.checkBlockColourConstant_(\"LOGIC_HUE\", [\"Blocks\", \"logic\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LOGIC_HUE\", [\"Constants\", \"Logic\", \"HUE\"], 210);\n    Blockly.checkBlockColourConstant_(\"LOOPS_HUE\", [\"Blocks\", \"loops\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LOOPS_HUE\", [\"Constants\", \"Loops\", \"HUE\"], 120);\n    Blockly.checkBlockColourConstant_(\"MATH_HUE\", [\"Blocks\", \"math\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"MATH_HUE\", [\"Constants\", \"Math\", \"HUE\"], 230);\n    Blockly.checkBlockColourConstant_(\"TEXTS_HUE\", [\"Blocks\", \"texts\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"TEXTS_HUE\", [\"Constants\", \"Text\", \"HUE\"], 160);\n    Blockly.checkBlockColourConstant_(\"LISTS_HUE\", [\"Blocks\", \"lists\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LISTS_HUE\", [\"Constants\", \"Lists\", \"HUE\"], 260);\n    Blockly.checkBlockColourConstant_(\"COLOUR_HUE\", [\"Blocks\", \"colour\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"COLOUR_HUE\", [\"Constants\", \"Colour\", \"HUE\"], 20);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_HUE\", [\"Blocks\", \"variables\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_HUE\", [\"Constants\", \"Variables\", \"HUE\"], 330);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_DYNAMIC_HUE\", [\"Constants\", \"VariablesDynamic\", \"HUE\"], 310);\n    Blockly.checkBlockColourConstant_(\"PROCEDURES_HUE\", [\"Blocks\", \"procedures\", \"HUE\"], void 0);\n  };\n\n  Blockly.checkBlockColourConstant_ = function (a, b, c) {\n    for (var d = \"Blockly\", e = Blockly, f = 0; f < b.length; ++f) d += \".\" + b[f], e && (e = e[b[f]]);\n\n    e && e !== c && (a = (void 0 === c ? '%1 has been removed. Use Blockly.Msg[\"%2\"].' : '%1 is deprecated and unused. Override Blockly.Msg[\"%2\"].').replace(\"%1\", d).replace(\"%2\", a), console.warn(a));\n  };\n\n  Blockly.setTheme = function (a) {\n    Blockly.theme_ = a;\n    (a = Blockly.getMainWorkspace()) && Blockly.refreshTheme_(a);\n  };\n\n  Blockly.refreshTheme_ = function (a) {\n    Blockly.updateBlockStyles_(a.getAllBlocks().filter(function (a) {\n      return void 0 !== a.getStyleName();\n    }));\n    !a.toolbox_ && a.flyout_ && a.flyout_.workspace_ ? Blockly.updateBlockStyles_(a.flyout_.workspace_.getAllBlocks()) : a.refreshToolboxSelection();\n    a.toolbox_ && a.toolbox_.updateColourFromTheme();\n    var b = new Blockly.Events.Ui(null, \"theme\");\n    b.workspaceId = a.id;\n    Blockly.Events.fire(b);\n  };\n\n  Blockly.updateBlockStyles_ = function (a) {\n    for (var b = 0, c; c = a[b]; b++) {\n      var d = c.getStyleName();\n      c.setStyle(d);\n      c.mutator && c.mutator.updateBlockStyle(d);\n    }\n  };\n\n  Blockly.getTheme = function () {\n    return Blockly.theme_;\n  };\n\n  Blockly.utils.global.Blockly || (Blockly.utils.global.Blockly = {});\n  Blockly.utils.global.Blockly.getMainWorkspace = Blockly.getMainWorkspace;\n  Blockly.utils.global.Blockly.addChangeListener = Blockly.addChangeListener;\n  Blockly.goog = goog;\n  return Blockly;\n}();","map":null,"metadata":{},"sourceType":"script"}